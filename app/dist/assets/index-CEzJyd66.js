(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var Uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zf={exports:{}},Al={},em={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var li=Symbol.for("react.element"),Wv=Symbol.for("react.portal"),Hv=Symbol.for("react.fragment"),Vv=Symbol.for("react.strict_mode"),Qv=Symbol.for("react.profiler"),Gv=Symbol.for("react.provider"),Kv=Symbol.for("react.context"),Xv=Symbol.for("react.forward_ref"),Yv=Symbol.for("react.suspense"),Jv=Symbol.for("react.memo"),Zv=Symbol.for("react.lazy"),Md=Symbol.iterator;function ey(e){return e===null||typeof e!="object"?null:(e=Md&&e[Md]||e["@@iterator"],typeof e=="function"?e:null)}var tm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nm=Object.assign,sm={};function cr(e,t,n){this.props=e,this.context=t,this.refs=sm,this.updater=n||tm}cr.prototype.isReactComponent={};cr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rm(){}rm.prototype=cr.prototype;function tc(e,t,n){this.props=e,this.context=t,this.refs=sm,this.updater=n||tm}var nc=tc.prototype=new rm;nc.constructor=tc;nm(nc,cr.prototype);nc.isPureReactComponent=!0;var Id=Array.isArray,im=Object.prototype.hasOwnProperty,sc={current:null},lm={key:!0,ref:!0,__self:!0,__source:!0};function om(e,t,n){var s,r={},i=null,a=null;if(t!=null)for(s in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)im.call(t,s)&&!lm.hasOwnProperty(s)&&(r[s]=t[s]);var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){for(var f=Array(c),d=0;d<c;d++)f[d]=arguments[d+2];r.children=f}if(e&&e.defaultProps)for(s in c=e.defaultProps,c)r[s]===void 0&&(r[s]=c[s]);return{$$typeof:li,type:e,key:i,ref:a,props:r,_owner:sc.current}}function ty(e,t){return{$$typeof:li,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rc(e){return typeof e=="object"&&e!==null&&e.$$typeof===li}function ny(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ad=/\/+/g;function To(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ny(""+e.key):t.toString(36)}function Ki(e,t,n,s,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case li:case Wv:a=!0}}if(a)return a=e,r=r(a),e=s===""?"."+To(a,0):s,Id(r)?(n="",e!=null&&(n=e.replace(Ad,"$&/")+"/"),Ki(r,t,n,"",function(d){return d})):r!=null&&(rc(r)&&(r=ty(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(Ad,"$&/")+"/")+e)),t.push(r)),1;if(a=0,s=s===""?".":s+":",Id(e))for(var c=0;c<e.length;c++){i=e[c];var f=s+To(i,c);a+=Ki(i,t,n,f,r)}else if(f=ey(e),typeof f=="function")for(e=f.call(e),c=0;!(i=e.next()).done;)i=i.value,f=s+To(i,c++),a+=Ki(i,t,n,f,r);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Pi(e,t,n){if(e==null)return e;var s=[],r=0;return Ki(e,s,"","",function(i){return t.call(n,i,r++)}),s}function sy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var at={current:null},Xi={transition:null},ry={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:Xi,ReactCurrentOwner:sc};function am(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:Pi,forEach:function(e,t,n){Pi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Pi(e,function(){t++}),t},toArray:function(e){return Pi(e,function(t){return t})||[]},only:function(e){if(!rc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=cr;de.Fragment=Hv;de.Profiler=Qv;de.PureComponent=tc;de.StrictMode=Vv;de.Suspense=Yv;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ry;de.act=am;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=nm({},e.props),r=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=sc.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(f in t)im.call(t,f)&&!lm.hasOwnProperty(f)&&(s[f]=t[f]===void 0&&c!==void 0?c[f]:t[f])}var f=arguments.length-2;if(f===1)s.children=n;else if(1<f){c=Array(f);for(var d=0;d<f;d++)c[d]=arguments[d+2];s.children=c}return{$$typeof:li,type:e.type,key:r,ref:i,props:s,_owner:a}};de.createContext=function(e){return e={$$typeof:Kv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Gv,_context:e},e.Consumer=e};de.createElement=om;de.createFactory=function(e){var t=om.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:Xv,render:e}};de.isValidElement=rc;de.lazy=function(e){return{$$typeof:Zv,_payload:{_status:-1,_result:e},_init:sy}};de.memo=function(e,t){return{$$typeof:Jv,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=Xi.transition;Xi.transition={};try{e()}finally{Xi.transition=t}};de.unstable_act=am;de.useCallback=function(e,t){return at.current.useCallback(e,t)};de.useContext=function(e){return at.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return at.current.useDeferredValue(e)};de.useEffect=function(e,t){return at.current.useEffect(e,t)};de.useId=function(){return at.current.useId()};de.useImperativeHandle=function(e,t,n){return at.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return at.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return at.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return at.current.useMemo(e,t)};de.useReducer=function(e,t,n){return at.current.useReducer(e,t,n)};de.useRef=function(e){return at.current.useRef(e)};de.useState=function(e){return at.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return at.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return at.current.useTransition()};de.version="18.3.1";em.exports=de;var V=em.exports;const Pd=qv(V);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy=V,ly=Symbol.for("react.element"),oy=Symbol.for("react.fragment"),ay=Object.prototype.hasOwnProperty,cy=iy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uy={key:!0,ref:!0,__self:!0,__source:!0};function cm(e,t,n){var s,r={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(s in t)ay.call(t,s)&&!uy.hasOwnProperty(s)&&(r[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)r[s]===void 0&&(r[s]=t[s]);return{$$typeof:ly,type:e,key:i,ref:a,props:r,_owner:cy.current}}Al.Fragment=oy;Al.jsx=cm;Al.jsxs=cm;Zf.exports=Al;var o=Zf.exports,la={},um={exports:{}},Nt={},dm={exports:{}},fm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Q,ee){var E=Q.length;Q.push(ee);e:for(;0<E;){var be=E-1>>>1,Ce=Q[be];if(0<r(Ce,ee))Q[be]=ee,Q[E]=Ce,E=be;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ee=Q[0],E=Q.pop();if(E!==ee){Q[0]=E;e:for(var be=0,Ce=Q.length,Ft=Ce>>>1;be<Ft;){var I=2*(be+1)-1,R=Q[I],T=I+1,L=Q[T];if(0>r(R,E))T<Ce&&0>r(L,R)?(Q[be]=L,Q[T]=E,be=T):(Q[be]=R,Q[I]=E,be=I);else if(T<Ce&&0>r(L,E))Q[be]=L,Q[T]=E,be=T;else break e}}return ee}function r(Q,ee){var E=Q.sortIndex-ee.sortIndex;return E!==0?E:Q.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var f=[],d=[],v=1,g=null,p=3,y=!1,_=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(Q){for(var ee=n(d);ee!==null;){if(ee.callback===null)s(d);else if(ee.startTime<=Q)s(d),ee.sortIndex=ee.expirationTime,t(f,ee);else break;ee=n(d)}}function O(Q){if(S=!1,b(Q),!_)if(n(f)!==null)_=!0,et(U);else{var ee=n(d);ee!==null&&gt(O,ee.startTime-Q)}}function U(Q,ee){_=!1,S&&(S=!1,w(B),B=-1),y=!0;var E=p;try{for(b(ee),g=n(f);g!==null&&(!(g.expirationTime>ee)||Q&&!fe());){var be=g.callback;if(typeof be=="function"){g.callback=null,p=g.priorityLevel;var Ce=be(g.expirationTime<=ee);ee=e.unstable_now(),typeof Ce=="function"?g.callback=Ce:g===n(f)&&s(f),b(ee)}else s(f);g=n(f)}if(g!==null)var Ft=!0;else{var I=n(d);I!==null&&gt(O,I.startTime-ee),Ft=!1}return Ft}finally{g=null,p=E,y=!1}}var N=!1,P=null,B=-1,oe=5,J=-1;function fe(){return!(e.unstable_now()-J<oe)}function Re(){if(P!==null){var Q=e.unstable_now();J=Q;var ee=!0;try{ee=P(!0,Q)}finally{ee?Fe():(N=!1,P=null)}}else N=!1}var Fe;if(typeof x=="function")Fe=function(){x(Re)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,zt=Ze.port2;Ze.port1.onmessage=Re,Fe=function(){zt.postMessage(null)}}else Fe=function(){C(Re,0)};function et(Q){P=Q,N||(N=!0,Fe())}function gt(Q,ee){B=C(function(){Q(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_continueExecution=function(){_||y||(_=!0,et(U))},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(Q){switch(p){case 1:case 2:case 3:var ee=3;break;default:ee=p}var E=p;p=ee;try{return Q()}finally{p=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Q,ee){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var E=p;p=Q;try{return ee()}finally{p=E}},e.unstable_scheduleCallback=function(Q,ee,E){var be=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?be+E:be):E=be,Q){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=E+Ce,Q={id:v++,callback:ee,priorityLevel:Q,startTime:E,expirationTime:Ce,sortIndex:-1},E>be?(Q.sortIndex=E,t(d,Q),n(f)===null&&Q===n(d)&&(S?(w(B),B=-1):S=!0,gt(O,E-be))):(Q.sortIndex=Ce,t(f,Q),_||y||(_=!0,et(U))),Q},e.unstable_shouldYield=fe,e.unstable_wrapCallback=function(Q){var ee=p;return function(){var E=p;p=ee;try{return Q.apply(this,arguments)}finally{p=E}}}})(fm);dm.exports=fm;var dy=dm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy=V,jt=dy;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mm=new Set,qr={};function gs(e,t){er(e,t),er(e+"Capture",t)}function er(e,t){for(qr[e]=t,e=0;e<t.length;e++)mm.add(t[e])}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oa=Object.prototype.hasOwnProperty,my=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Td={},Od={};function py(e){return oa.call(Od,e)?!0:oa.call(Td,e)?!1:my.test(e)?Od[e]=!0:(Td[e]=!0,!1)}function hy(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gy(e,t,n,s){if(t===null||typeof t>"u"||hy(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ct(e,t,n,s,r,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ge[e]=new ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ge[t]=new ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ge[e]=new ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ge[e]=new ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ge[e]=new ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ge[e]=new ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ge[e]=new ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ge[e]=new ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ge[e]=new ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var ic=/[\-:]([a-z])/g;function lc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ic,lc);Ge[t]=new ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ic,lc);Ge[t]=new ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ic,lc);Ge[t]=new ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ge[e]=new ct(e,1,!1,e.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ge[e]=new ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function oc(e,t,n,s){var r=Ge.hasOwnProperty(t)?Ge[t]:null;(r!==null?r.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gy(t,n,r,s)&&(n=null),s||r===null?py(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,s=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var xn=fy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ti=Symbol.for("react.element"),Os=Symbol.for("react.portal"),Ls=Symbol.for("react.fragment"),ac=Symbol.for("react.strict_mode"),aa=Symbol.for("react.profiler"),pm=Symbol.for("react.provider"),hm=Symbol.for("react.context"),cc=Symbol.for("react.forward_ref"),ca=Symbol.for("react.suspense"),ua=Symbol.for("react.suspense_list"),uc=Symbol.for("react.memo"),Nn=Symbol.for("react.lazy"),gm=Symbol.for("react.offscreen"),Ld=Symbol.iterator;function br(e){return e===null||typeof e!="object"?null:(e=Ld&&e[Ld]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,Oo;function Ir(e){if(Oo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Oo=t&&t[1]||""}return`
`+Oo+e}var Lo=!1;function $o(e,t){if(!e||Lo)return"";Lo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),i=s.stack.split(`
`),a=r.length-1,c=i.length-1;1<=a&&0<=c&&r[a]!==i[c];)c--;for(;1<=a&&0<=c;a--,c--)if(r[a]!==i[c]){if(a!==1||c!==1)do if(a--,c--,0>c||r[a]!==i[c]){var f=`
`+r[a].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=a&&0<=c);break}}}finally{Lo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ir(e):""}function vy(e){switch(e.tag){case 5:return Ir(e.type);case 16:return Ir("Lazy");case 13:return Ir("Suspense");case 19:return Ir("SuspenseList");case 0:case 2:case 15:return e=$o(e.type,!1),e;case 11:return e=$o(e.type.render,!1),e;case 1:return e=$o(e.type,!0),e;default:return""}}function da(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ls:return"Fragment";case Os:return"Portal";case aa:return"Profiler";case ac:return"StrictMode";case ca:return"Suspense";case ua:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hm:return(e.displayName||"Context")+".Consumer";case pm:return(e._context.displayName||"Context")+".Provider";case cc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case uc:return t=e.displayName||null,t!==null?t:da(e.type)||"Memo";case Nn:t=e._payload,e=e._init;try{return da(e(t))}catch{}}return null}function yy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return da(t);case 8:return t===ac?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xy(e){var t=vm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){s=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oi(e){e._valueTracker||(e._valueTracker=xy(e))}function ym(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=vm(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fa(e,t){var n=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $d(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Fn(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xm(e,t){t=t.checked,t!=null&&oc(e,"checked",t,!1)}function ma(e,t){xm(e,t);var n=Fn(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pa(e,t.type,n):t.hasOwnProperty("defaultValue")&&pa(e,t.type,Fn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Dd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function pa(e,t,n){(t!=="number"||ol(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ar=Array.isArray;function Vs(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Fn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function ha(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(z(92));if(Ar(n)){if(1<n.length)throw Error(z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Fn(n)}}function wm(e,t){var n=Fn(t.value),s=Fn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function zd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ga(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Li,_m=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Li=Li||document.createElement("div"),Li.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Li.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wy=["Webkit","ms","Moz","O"];Object.keys(Or).forEach(function(e){wy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Or[t]=Or[e]})});function km(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Or.hasOwnProperty(e)&&Or[e]?(""+t).trim():t+"px"}function jm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=km(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,r):e[n]=r}}var by=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function va(e,t){if(t){if(by[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function ya(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xa=null;function dc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wa=null,Qs=null,Gs=null;function Fd(e){if(e=ci(e)){if(typeof wa!="function")throw Error(z(280));var t=e.stateNode;t&&(t=$l(t),wa(e.stateNode,e.type,t))}}function Nm(e){Qs?Gs?Gs.push(e):Gs=[e]:Qs=e}function Sm(){if(Qs){var e=Qs,t=Gs;if(Gs=Qs=null,Fd(e),t)for(e=0;e<t.length;e++)Fd(t[e])}}function Em(e,t){return e(t)}function Cm(){}var Do=!1;function Mm(e,t,n){if(Do)return e(t,n);Do=!0;try{return Em(e,t,n)}finally{Do=!1,(Qs!==null||Gs!==null)&&(Cm(),Sm())}}function Hr(e,t){var n=e.stateNode;if(n===null)return null;var s=$l(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var ba=!1;if(hn)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){ba=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{ba=!1}function _y(e,t,n,s,r,i,a,c,f){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(v){this.onError(v)}}var Lr=!1,al=null,cl=!1,_a=null,ky={onError:function(e){Lr=!0,al=e}};function jy(e,t,n,s,r,i,a,c,f){Lr=!1,al=null,_y.apply(ky,arguments)}function Ny(e,t,n,s,r,i,a,c,f){if(jy.apply(this,arguments),Lr){if(Lr){var d=al;Lr=!1,al=null}else throw Error(z(198));cl||(cl=!0,_a=d)}}function vs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Im(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bd(e){if(vs(e)!==e)throw Error(z(188))}function Sy(e){var t=e.alternate;if(!t){if(t=vs(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Bd(r),e;if(i===s)return Bd(r),t;i=i.sibling}throw Error(z(188))}if(n.return!==s.return)n=r,s=i;else{for(var a=!1,c=r.child;c;){if(c===n){a=!0,n=r,s=i;break}if(c===s){a=!0,s=r,n=i;break}c=c.sibling}if(!a){for(c=i.child;c;){if(c===n){a=!0,n=i,s=r;break}if(c===s){a=!0,s=i,n=r;break}c=c.sibling}if(!a)throw Error(z(189))}}if(n.alternate!==s)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function Am(e){return e=Sy(e),e!==null?Pm(e):null}function Pm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pm(e);if(t!==null)return t;e=e.sibling}return null}var Tm=jt.unstable_scheduleCallback,Ud=jt.unstable_cancelCallback,Ey=jt.unstable_shouldYield,Cy=jt.unstable_requestPaint,$e=jt.unstable_now,My=jt.unstable_getCurrentPriorityLevel,fc=jt.unstable_ImmediatePriority,Om=jt.unstable_UserBlockingPriority,ul=jt.unstable_NormalPriority,Iy=jt.unstable_LowPriority,Lm=jt.unstable_IdlePriority,Pl=null,rn=null;function Ay(e){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Pl,e,void 0,(e.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:Oy,Py=Math.log,Ty=Math.LN2;function Oy(e){return e>>>=0,e===0?32:31-(Py(e)/Ty|0)|0}var $i=64,Di=4194304;function Pr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dl(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,r=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var c=a&~r;c!==0?s=Pr(c):(i&=a,i!==0&&(s=Pr(i)))}else a=n&~r,a!==0?s=Pr(a):i!==0&&(s=Pr(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&r)&&(r=s&-s,i=t&-t,r>=i||r===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Qt(t),r=1<<n,s|=e[n],t&=~r;return s}function Ly(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $y(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Qt(i),c=1<<a,f=r[a];f===-1?(!(c&n)||c&s)&&(r[a]=Ly(c,t)):f<=t&&(e.expiredLanes|=c),i&=~c}}function ka(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $m(){var e=$i;return $i<<=1,!($i&4194240)&&($i=64),e}function Ro(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function oi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qt(t),e[t]=n}function Dy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-Qt(n),i=1<<r;t[r]=0,s[r]=-1,e[r]=-1,n&=~i}}function mc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Qt(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}var ye=0;function Dm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rm,pc,zm,Fm,Bm,ja=!1,Ri=[],Pn=null,Tn=null,On=null,Vr=new Map,Qr=new Map,En=[],Ry="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qd(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":Vr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qr.delete(t.pointerId)}}function kr(e,t,n,s,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},t!==null&&(t=ci(t),t!==null&&pc(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function zy(e,t,n,s,r){switch(t){case"focusin":return Pn=kr(Pn,e,t,n,s,r),!0;case"dragenter":return Tn=kr(Tn,e,t,n,s,r),!0;case"mouseover":return On=kr(On,e,t,n,s,r),!0;case"pointerover":var i=r.pointerId;return Vr.set(i,kr(Vr.get(i)||null,e,t,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Qr.set(i,kr(Qr.get(i)||null,e,t,n,s,r)),!0}return!1}function Um(e){var t=is(e.target);if(t!==null){var n=vs(t);if(n!==null){if(t=n.tag,t===13){if(t=Im(n),t!==null){e.blockedOn=t,Bm(e.priority,function(){zm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Na(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);xa=s,n.target.dispatchEvent(s),xa=null}else return t=ci(n),t!==null&&pc(t),e.blockedOn=n,!1;t.shift()}return!0}function Wd(e,t,n){Yi(e)&&n.delete(t)}function Fy(){ja=!1,Pn!==null&&Yi(Pn)&&(Pn=null),Tn!==null&&Yi(Tn)&&(Tn=null),On!==null&&Yi(On)&&(On=null),Vr.forEach(Wd),Qr.forEach(Wd)}function jr(e,t){e.blockedOn===t&&(e.blockedOn=null,ja||(ja=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,Fy)))}function Gr(e){function t(r){return jr(r,e)}if(0<Ri.length){jr(Ri[0],e);for(var n=1;n<Ri.length;n++){var s=Ri[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Pn!==null&&jr(Pn,e),Tn!==null&&jr(Tn,e),On!==null&&jr(On,e),Vr.forEach(t),Qr.forEach(t),n=0;n<En.length;n++)s=En[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<En.length&&(n=En[0],n.blockedOn===null);)Um(n),n.blockedOn===null&&En.shift()}var Ks=xn.ReactCurrentBatchConfig,fl=!0;function By(e,t,n,s){var r=ye,i=Ks.transition;Ks.transition=null;try{ye=1,hc(e,t,n,s)}finally{ye=r,Ks.transition=i}}function Uy(e,t,n,s){var r=ye,i=Ks.transition;Ks.transition=null;try{ye=4,hc(e,t,n,s)}finally{ye=r,Ks.transition=i}}function hc(e,t,n,s){if(fl){var r=Na(e,t,n,s);if(r===null)Go(e,t,s,ml,n),qd(e,s);else if(zy(r,e,t,n,s))s.stopPropagation();else if(qd(e,s),t&4&&-1<Ry.indexOf(e)){for(;r!==null;){var i=ci(r);if(i!==null&&Rm(i),i=Na(e,t,n,s),i===null&&Go(e,t,s,ml,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else Go(e,t,s,null,n)}}var ml=null;function Na(e,t,n,s){if(ml=null,e=dc(s),e=is(e),e!==null)if(t=vs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Im(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ml=e,null}function qm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(My()){case fc:return 1;case Om:return 4;case ul:case Iy:return 16;case Lm:return 536870912;default:return 16}default:return 16}}var Mn=null,gc=null,Ji=null;function Wm(){if(Ji)return Ji;var e,t=gc,n=t.length,s,r="value"in Mn?Mn.value:Mn.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(s=1;s<=a&&t[n-s]===r[i-s];s++);return Ji=r.slice(e,1<s?1-s:void 0)}function Zi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function Hd(){return!1}function St(e){function t(n,s,r,i,a){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?zi:Hd,this.isPropagationStopped=Hd,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),t}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vc=St(ur),ai=Pe({},ur,{view:0,detail:0}),qy=St(ai),zo,Fo,Nr,Tl=Pe({},ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nr&&(Nr&&e.type==="mousemove"?(zo=e.screenX-Nr.screenX,Fo=e.screenY-Nr.screenY):Fo=zo=0,Nr=e),zo)},movementY:function(e){return"movementY"in e?e.movementY:Fo}}),Vd=St(Tl),Wy=Pe({},Tl,{dataTransfer:0}),Hy=St(Wy),Vy=Pe({},ai,{relatedTarget:0}),Bo=St(Vy),Qy=Pe({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),Gy=St(Qy),Ky=Pe({},ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xy=St(Ky),Yy=Pe({},ur,{data:0}),Qd=St(Yy),Jy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ex={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ex[e])?!!t[e]:!1}function yc(){return tx}var nx=Pe({},ai,{key:function(e){if(e.key){var t=Jy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yc,charCode:function(e){return e.type==="keypress"?Zi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sx=St(nx),rx=Pe({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gd=St(rx),ix=Pe({},ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yc}),lx=St(ix),ox=Pe({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),ax=St(ox),cx=Pe({},Tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ux=St(cx),dx=[9,13,27,32],xc=hn&&"CompositionEvent"in window,$r=null;hn&&"documentMode"in document&&($r=document.documentMode);var fx=hn&&"TextEvent"in window&&!$r,Hm=hn&&(!xc||$r&&8<$r&&11>=$r),Kd=" ",Xd=!1;function Vm(e,t){switch(e){case"keyup":return dx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $s=!1;function mx(e,t){switch(e){case"compositionend":return Qm(t);case"keypress":return t.which!==32?null:(Xd=!0,Kd);case"textInput":return e=t.data,e===Kd&&Xd?null:e;default:return null}}function px(e,t){if($s)return e==="compositionend"||!xc&&Vm(e,t)?(e=Wm(),Ji=gc=Mn=null,$s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hm&&t.locale!=="ko"?null:t.data;default:return null}}var hx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hx[e.type]:t==="textarea"}function Gm(e,t,n,s){Nm(s),t=pl(t,"onChange"),0<t.length&&(n=new vc("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Dr=null,Kr=null;function gx(e){ip(e,0)}function Ol(e){var t=zs(e);if(ym(t))return e}function vx(e,t){if(e==="change")return t}var Km=!1;if(hn){var Uo;if(hn){var qo="oninput"in document;if(!qo){var Jd=document.createElement("div");Jd.setAttribute("oninput","return;"),qo=typeof Jd.oninput=="function"}Uo=qo}else Uo=!1;Km=Uo&&(!document.documentMode||9<document.documentMode)}function Zd(){Dr&&(Dr.detachEvent("onpropertychange",Xm),Kr=Dr=null)}function Xm(e){if(e.propertyName==="value"&&Ol(Kr)){var t=[];Gm(t,Kr,e,dc(e)),Mm(gx,t)}}function yx(e,t,n){e==="focusin"?(Zd(),Dr=t,Kr=n,Dr.attachEvent("onpropertychange",Xm)):e==="focusout"&&Zd()}function xx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ol(Kr)}function wx(e,t){if(e==="click")return Ol(t)}function bx(e,t){if(e==="input"||e==="change")return Ol(t)}function _x(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:_x;function Xr(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!oa.call(t,r)||!Kt(e[r],t[r]))return!1}return!0}function ef(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tf(e,t){var n=ef(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ef(n)}}function Ym(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ym(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jm(){for(var e=window,t=ol();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ol(e.document)}return t}function wc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kx(e){var t=Jm(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ym(n.ownerDocument.documentElement,n)){if(s!==null&&wc(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!e.extend&&i>s&&(r=s,s=i,i=r),r=tf(n,i);var a=tf(n,s);r&&a&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jx=hn&&"documentMode"in document&&11>=document.documentMode,Ds=null,Sa=null,Rr=null,Ea=!1;function nf(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ea||Ds==null||Ds!==ol(s)||(s=Ds,"selectionStart"in s&&wc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Rr&&Xr(Rr,s)||(Rr=s,s=pl(Sa,"onSelect"),0<s.length&&(t=new vc("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Ds)))}function Fi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rs={animationend:Fi("Animation","AnimationEnd"),animationiteration:Fi("Animation","AnimationIteration"),animationstart:Fi("Animation","AnimationStart"),transitionend:Fi("Transition","TransitionEnd")},Wo={},Zm={};hn&&(Zm=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function Ll(e){if(Wo[e])return Wo[e];if(!Rs[e])return e;var t=Rs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Zm)return Wo[e]=t[n];return e}var ep=Ll("animationend"),tp=Ll("animationiteration"),np=Ll("animationstart"),sp=Ll("transitionend"),rp=new Map,sf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(e,t){rp.set(e,t),gs(t,[e])}for(var Ho=0;Ho<sf.length;Ho++){var Vo=sf[Ho],Nx=Vo.toLowerCase(),Sx=Vo[0].toUpperCase()+Vo.slice(1);Un(Nx,"on"+Sx)}Un(ep,"onAnimationEnd");Un(tp,"onAnimationIteration");Un(np,"onAnimationStart");Un("dblclick","onDoubleClick");Un("focusin","onFocus");Un("focusout","onBlur");Un(sp,"onTransitionEnd");er("onMouseEnter",["mouseout","mouseover"]);er("onMouseLeave",["mouseout","mouseover"]);er("onPointerEnter",["pointerout","pointerover"]);er("onPointerLeave",["pointerout","pointerover"]);gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ex=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function rf(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Ny(s,t,void 0,e),e.currentTarget=null}function ip(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var a=s.length-1;0<=a;a--){var c=s[a],f=c.instance,d=c.currentTarget;if(c=c.listener,f!==i&&r.isPropagationStopped())break e;rf(r,c,d),i=f}else for(a=0;a<s.length;a++){if(c=s[a],f=c.instance,d=c.currentTarget,c=c.listener,f!==i&&r.isPropagationStopped())break e;rf(r,c,d),i=f}}}if(cl)throw e=_a,cl=!1,_a=null,e}function Se(e,t){var n=t[Pa];n===void 0&&(n=t[Pa]=new Set);var s=e+"__bubble";n.has(s)||(lp(t,e,2,!1),n.add(s))}function Qo(e,t,n){var s=0;t&&(s|=4),lp(n,e,s,t)}var Bi="_reactListening"+Math.random().toString(36).slice(2);function Yr(e){if(!e[Bi]){e[Bi]=!0,mm.forEach(function(n){n!=="selectionchange"&&(Ex.has(n)||Qo(n,!1,e),Qo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bi]||(t[Bi]=!0,Qo("selectionchange",!1,t))}}function lp(e,t,n,s){switch(qm(t)){case 1:var r=By;break;case 4:r=Uy;break;default:r=hc}n=r.bind(null,t,n,e),r=void 0,!ba||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Go(e,t,n,s,r){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var c=s.stateNode.containerInfo;if(c===r||c.nodeType===8&&c.parentNode===r)break;if(a===4)for(a=s.return;a!==null;){var f=a.tag;if((f===3||f===4)&&(f=a.stateNode.containerInfo,f===r||f.nodeType===8&&f.parentNode===r))return;a=a.return}for(;c!==null;){if(a=is(c),a===null)return;if(f=a.tag,f===5||f===6){s=i=a;continue e}c=c.parentNode}}s=s.return}Mm(function(){var d=i,v=dc(n),g=[];e:{var p=rp.get(e);if(p!==void 0){var y=vc,_=e;switch(e){case"keypress":if(Zi(n)===0)break e;case"keydown":case"keyup":y=sx;break;case"focusin":_="focus",y=Bo;break;case"focusout":_="blur",y=Bo;break;case"beforeblur":case"afterblur":y=Bo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Vd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Hy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=lx;break;case ep:case tp:case np:y=Gy;break;case sp:y=ax;break;case"scroll":y=qy;break;case"wheel":y=ux;break;case"copy":case"cut":case"paste":y=Xy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Gd}var S=(t&4)!==0,C=!S&&e==="scroll",w=S?p!==null?p+"Capture":null:p;S=[];for(var x=d,b;x!==null;){b=x;var O=b.stateNode;if(b.tag===5&&O!==null&&(b=O,w!==null&&(O=Hr(x,w),O!=null&&S.push(Jr(x,O,b)))),C)break;x=x.return}0<S.length&&(p=new y(p,_,null,n,v),g.push({event:p,listeners:S}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&n!==xa&&(_=n.relatedTarget||n.fromElement)&&(is(_)||_[gn]))break e;if((y||p)&&(p=v.window===v?v:(p=v.ownerDocument)?p.defaultView||p.parentWindow:window,y?(_=n.relatedTarget||n.toElement,y=d,_=_?is(_):null,_!==null&&(C=vs(_),_!==C||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=d),y!==_)){if(S=Vd,O="onMouseLeave",w="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(S=Gd,O="onPointerLeave",w="onPointerEnter",x="pointer"),C=y==null?p:zs(y),b=_==null?p:zs(_),p=new S(O,x+"leave",y,n,v),p.target=C,p.relatedTarget=b,O=null,is(v)===d&&(S=new S(w,x+"enter",_,n,v),S.target=b,S.relatedTarget=C,O=S),C=O,y&&_)t:{for(S=y,w=_,x=0,b=S;b;b=Ts(b))x++;for(b=0,O=w;O;O=Ts(O))b++;for(;0<x-b;)S=Ts(S),x--;for(;0<b-x;)w=Ts(w),b--;for(;x--;){if(S===w||w!==null&&S===w.alternate)break t;S=Ts(S),w=Ts(w)}S=null}else S=null;y!==null&&lf(g,p,y,S,!1),_!==null&&C!==null&&lf(g,C,_,S,!0)}}e:{if(p=d?zs(d):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var U=vx;else if(Yd(p))if(Km)U=bx;else{U=xx;var N=yx}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(U=wx);if(U&&(U=U(e,d))){Gm(g,U,n,v);break e}N&&N(e,p,d),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&pa(p,"number",p.value)}switch(N=d?zs(d):window,e){case"focusin":(Yd(N)||N.contentEditable==="true")&&(Ds=N,Sa=d,Rr=null);break;case"focusout":Rr=Sa=Ds=null;break;case"mousedown":Ea=!0;break;case"contextmenu":case"mouseup":case"dragend":Ea=!1,nf(g,n,v);break;case"selectionchange":if(jx)break;case"keydown":case"keyup":nf(g,n,v)}var P;if(xc)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else $s?Vm(e,n)&&(B="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(Hm&&n.locale!=="ko"&&($s||B!=="onCompositionStart"?B==="onCompositionEnd"&&$s&&(P=Wm()):(Mn=v,gc="value"in Mn?Mn.value:Mn.textContent,$s=!0)),N=pl(d,B),0<N.length&&(B=new Qd(B,e,null,n,v),g.push({event:B,listeners:N}),P?B.data=P:(P=Qm(n),P!==null&&(B.data=P)))),(P=fx?mx(e,n):px(e,n))&&(d=pl(d,"onBeforeInput"),0<d.length&&(v=new Qd("onBeforeInput","beforeinput",null,n,v),g.push({event:v,listeners:d}),v.data=P))}ip(g,t)})}function Jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pl(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Hr(e,n),i!=null&&s.unshift(Jr(e,i,r)),i=Hr(e,t),i!=null&&s.push(Jr(e,i,r))),e=e.return}return s}function Ts(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lf(e,t,n,s,r){for(var i=t._reactName,a=[];n!==null&&n!==s;){var c=n,f=c.alternate,d=c.stateNode;if(f!==null&&f===s)break;c.tag===5&&d!==null&&(c=d,r?(f=Hr(n,i),f!=null&&a.unshift(Jr(n,f,c))):r||(f=Hr(n,i),f!=null&&a.push(Jr(n,f,c)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Cx=/\r\n?/g,Mx=/\u0000|\uFFFD/g;function of(e){return(typeof e=="string"?e:""+e).replace(Cx,`
`).replace(Mx,"")}function Ui(e,t,n){if(t=of(t),of(e)!==t&&n)throw Error(z(425))}function hl(){}var Ca=null,Ma=null;function Ia(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Aa=typeof setTimeout=="function"?setTimeout:void 0,Ix=typeof clearTimeout=="function"?clearTimeout:void 0,af=typeof Promise=="function"?Promise:void 0,Ax=typeof queueMicrotask=="function"?queueMicrotask:typeof af<"u"?function(e){return af.resolve(null).then(e).catch(Px)}:Aa;function Px(e){setTimeout(function(){throw e})}function Ko(e,t){var n=t,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){e.removeChild(r),Gr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);Gr(t)}function Ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),sn="__reactFiber$"+dr,Zr="__reactProps$"+dr,gn="__reactContainer$"+dr,Pa="__reactEvents$"+dr,Tx="__reactListeners$"+dr,Ox="__reactHandles$"+dr;function is(e){var t=e[sn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gn]||n[sn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cf(e);e!==null;){if(n=e[sn])return n;e=cf(e)}return t}e=n,n=e.parentNode}return null}function ci(e){return e=e[sn]||e[gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function $l(e){return e[Zr]||null}var Ta=[],Fs=-1;function qn(e){return{current:e}}function Ee(e){0>Fs||(e.current=Ta[Fs],Ta[Fs]=null,Fs--)}function Ne(e,t){Fs++,Ta[Fs]=e.current,e.current=t}var Bn={},Je=qn(Bn),mt=qn(!1),ds=Bn;function tr(e,t){var n=e.type.contextTypes;if(!n)return Bn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function pt(e){return e=e.childContextTypes,e!=null}function gl(){Ee(mt),Ee(Je)}function uf(e,t,n){if(Je.current!==Bn)throw Error(z(168));Ne(Je,t),Ne(mt,n)}function op(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in t))throw Error(z(108,yy(e)||"Unknown",r));return Pe({},n,s)}function vl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bn,ds=Je.current,Ne(Je,e),Ne(mt,mt.current),!0}function df(e,t,n){var s=e.stateNode;if(!s)throw Error(z(169));n?(e=op(e,t,ds),s.__reactInternalMemoizedMergedChildContext=e,Ee(mt),Ee(Je),Ne(Je,e)):Ee(mt),Ne(mt,n)}var dn=null,Dl=!1,Xo=!1;function ap(e){dn===null?dn=[e]:dn.push(e)}function Lx(e){Dl=!0,ap(e)}function Wn(){if(!Xo&&dn!==null){Xo=!0;var e=0,t=ye;try{var n=dn;for(ye=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}dn=null,Dl=!1}catch(r){throw dn!==null&&(dn=dn.slice(e+1)),Tm(fc,Wn),r}finally{ye=t,Xo=!1}}return null}var Bs=[],Us=0,yl=null,xl=0,Tt=[],Ot=0,fs=null,fn=1,mn="";function ns(e,t){Bs[Us++]=xl,Bs[Us++]=yl,yl=e,xl=t}function cp(e,t,n){Tt[Ot++]=fn,Tt[Ot++]=mn,Tt[Ot++]=fs,fs=e;var s=fn;e=mn;var r=32-Qt(s)-1;s&=~(1<<r),n+=1;var i=32-Qt(t)+r;if(30<i){var a=r-r%5;i=(s&(1<<a)-1).toString(32),s>>=a,r-=a,fn=1<<32-Qt(t)+r|n<<r|s,mn=i+e}else fn=1<<i|n<<r|s,mn=e}function bc(e){e.return!==null&&(ns(e,1),cp(e,1,0))}function _c(e){for(;e===yl;)yl=Bs[--Us],Bs[Us]=null,xl=Bs[--Us],Bs[Us]=null;for(;e===fs;)fs=Tt[--Ot],Tt[Ot]=null,mn=Tt[--Ot],Tt[Ot]=null,fn=Tt[--Ot],Tt[Ot]=null}var kt=null,_t=null,Me=!1,Vt=null;function up(e,t){var n=Lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ff(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,_t=Ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,_t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fs!==null?{id:fn,overflow:mn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kt=e,_t=null,!0):!1;default:return!1}}function Oa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function La(e){if(Me){var t=_t;if(t){var n=t;if(!ff(e,t)){if(Oa(e))throw Error(z(418));t=Ln(n.nextSibling);var s=kt;t&&ff(e,t)?up(s,n):(e.flags=e.flags&-4097|2,Me=!1,kt=e)}}else{if(Oa(e))throw Error(z(418));e.flags=e.flags&-4097|2,Me=!1,kt=e}}}function mf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function qi(e){if(e!==kt)return!1;if(!Me)return mf(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ia(e.type,e.memoizedProps)),t&&(t=_t)){if(Oa(e))throw dp(),Error(z(418));for(;t;)up(e,t),t=Ln(t.nextSibling)}if(mf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_t=Ln(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_t=null}}else _t=kt?Ln(e.stateNode.nextSibling):null;return!0}function dp(){for(var e=_t;e;)e=Ln(e.nextSibling)}function nr(){_t=kt=null,Me=!1}function kc(e){Vt===null?Vt=[e]:Vt.push(e)}var $x=xn.ReactCurrentBatchConfig;function Sr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var s=n.stateNode}if(!s)throw Error(z(147,e));var r=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var c=r.refs;a===null?delete c[i]:c[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,e))}return e}function Wi(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pf(e){var t=e._init;return t(e._payload)}function fp(e){function t(w,x){if(e){var b=w.deletions;b===null?(w.deletions=[x],w.flags|=16):b.push(x)}}function n(w,x){if(!e)return null;for(;x!==null;)t(w,x),x=x.sibling;return null}function s(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function r(w,x){return w=zn(w,x),w.index=0,w.sibling=null,w}function i(w,x,b){return w.index=b,e?(b=w.alternate,b!==null?(b=b.index,b<x?(w.flags|=2,x):b):(w.flags|=2,x)):(w.flags|=1048576,x)}function a(w){return e&&w.alternate===null&&(w.flags|=2),w}function c(w,x,b,O){return x===null||x.tag!==6?(x=sa(b,w.mode,O),x.return=w,x):(x=r(x,b),x.return=w,x)}function f(w,x,b,O){var U=b.type;return U===Ls?v(w,x,b.props.children,O,b.key):x!==null&&(x.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Nn&&pf(U)===x.type)?(O=r(x,b.props),O.ref=Sr(w,x,b),O.return=w,O):(O=ll(b.type,b.key,b.props,null,w.mode,O),O.ref=Sr(w,x,b),O.return=w,O)}function d(w,x,b,O){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=ra(b,w.mode,O),x.return=w,x):(x=r(x,b.children||[]),x.return=w,x)}function v(w,x,b,O,U){return x===null||x.tag!==7?(x=us(b,w.mode,O,U),x.return=w,x):(x=r(x,b),x.return=w,x)}function g(w,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=sa(""+x,w.mode,b),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ti:return b=ll(x.type,x.key,x.props,null,w.mode,b),b.ref=Sr(w,null,x),b.return=w,b;case Os:return x=ra(x,w.mode,b),x.return=w,x;case Nn:var O=x._init;return g(w,O(x._payload),b)}if(Ar(x)||br(x))return x=us(x,w.mode,b,null),x.return=w,x;Wi(w,x)}return null}function p(w,x,b,O){var U=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return U!==null?null:c(w,x,""+b,O);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ti:return b.key===U?f(w,x,b,O):null;case Os:return b.key===U?d(w,x,b,O):null;case Nn:return U=b._init,p(w,x,U(b._payload),O)}if(Ar(b)||br(b))return U!==null?null:v(w,x,b,O,null);Wi(w,b)}return null}function y(w,x,b,O,U){if(typeof O=="string"&&O!==""||typeof O=="number")return w=w.get(b)||null,c(x,w,""+O,U);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Ti:return w=w.get(O.key===null?b:O.key)||null,f(x,w,O,U);case Os:return w=w.get(O.key===null?b:O.key)||null,d(x,w,O,U);case Nn:var N=O._init;return y(w,x,b,N(O._payload),U)}if(Ar(O)||br(O))return w=w.get(b)||null,v(x,w,O,U,null);Wi(x,O)}return null}function _(w,x,b,O){for(var U=null,N=null,P=x,B=x=0,oe=null;P!==null&&B<b.length;B++){P.index>B?(oe=P,P=null):oe=P.sibling;var J=p(w,P,b[B],O);if(J===null){P===null&&(P=oe);break}e&&P&&J.alternate===null&&t(w,P),x=i(J,x,B),N===null?U=J:N.sibling=J,N=J,P=oe}if(B===b.length)return n(w,P),Me&&ns(w,B),U;if(P===null){for(;B<b.length;B++)P=g(w,b[B],O),P!==null&&(x=i(P,x,B),N===null?U=P:N.sibling=P,N=P);return Me&&ns(w,B),U}for(P=s(w,P);B<b.length;B++)oe=y(P,w,B,b[B],O),oe!==null&&(e&&oe.alternate!==null&&P.delete(oe.key===null?B:oe.key),x=i(oe,x,B),N===null?U=oe:N.sibling=oe,N=oe);return e&&P.forEach(function(fe){return t(w,fe)}),Me&&ns(w,B),U}function S(w,x,b,O){var U=br(b);if(typeof U!="function")throw Error(z(150));if(b=U.call(b),b==null)throw Error(z(151));for(var N=U=null,P=x,B=x=0,oe=null,J=b.next();P!==null&&!J.done;B++,J=b.next()){P.index>B?(oe=P,P=null):oe=P.sibling;var fe=p(w,P,J.value,O);if(fe===null){P===null&&(P=oe);break}e&&P&&fe.alternate===null&&t(w,P),x=i(fe,x,B),N===null?U=fe:N.sibling=fe,N=fe,P=oe}if(J.done)return n(w,P),Me&&ns(w,B),U;if(P===null){for(;!J.done;B++,J=b.next())J=g(w,J.value,O),J!==null&&(x=i(J,x,B),N===null?U=J:N.sibling=J,N=J);return Me&&ns(w,B),U}for(P=s(w,P);!J.done;B++,J=b.next())J=y(P,w,B,J.value,O),J!==null&&(e&&J.alternate!==null&&P.delete(J.key===null?B:J.key),x=i(J,x,B),N===null?U=J:N.sibling=J,N=J);return e&&P.forEach(function(Re){return t(w,Re)}),Me&&ns(w,B),U}function C(w,x,b,O){if(typeof b=="object"&&b!==null&&b.type===Ls&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ti:e:{for(var U=b.key,N=x;N!==null;){if(N.key===U){if(U=b.type,U===Ls){if(N.tag===7){n(w,N.sibling),x=r(N,b.props.children),x.return=w,w=x;break e}}else if(N.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Nn&&pf(U)===N.type){n(w,N.sibling),x=r(N,b.props),x.ref=Sr(w,N,b),x.return=w,w=x;break e}n(w,N);break}else t(w,N);N=N.sibling}b.type===Ls?(x=us(b.props.children,w.mode,O,b.key),x.return=w,w=x):(O=ll(b.type,b.key,b.props,null,w.mode,O),O.ref=Sr(w,x,b),O.return=w,w=O)}return a(w);case Os:e:{for(N=b.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(w,x.sibling),x=r(x,b.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else t(w,x);x=x.sibling}x=ra(b,w.mode,O),x.return=w,w=x}return a(w);case Nn:return N=b._init,C(w,x,N(b._payload),O)}if(Ar(b))return _(w,x,b,O);if(br(b))return S(w,x,b,O);Wi(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(w,x.sibling),x=r(x,b),x.return=w,w=x):(n(w,x),x=sa(b,w.mode,O),x.return=w,w=x),a(w)):n(w,x)}return C}var sr=fp(!0),mp=fp(!1),wl=qn(null),bl=null,qs=null,jc=null;function Nc(){jc=qs=bl=null}function Sc(e){var t=wl.current;Ee(wl),e._currentValue=t}function $a(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Xs(e,t){bl=e,jc=qs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ft=!0),e.firstContext=null)}function Dt(e){var t=e._currentValue;if(jc!==e)if(e={context:e,memoizedValue:t,next:null},qs===null){if(bl===null)throw Error(z(308));qs=e,bl.dependencies={lanes:0,firstContext:e}}else qs=qs.next=e;return t}var ls=null;function Ec(e){ls===null?ls=[e]:ls.push(e)}function pp(e,t,n,s){var r=t.interleaved;return r===null?(n.next=n,Ec(t)):(n.next=r.next,r.next=n),t.interleaved=n,vn(e,s)}function vn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sn=!1;function Cc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $n(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,pe&2){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,vn(e,n)}return r=s.interleaved,r===null?(t.next=t,Ec(s)):(t.next=r.next,r.next=t),s.interleaved=t,vn(e,n)}function el(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,mc(e,n)}}function hf(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function _l(e,t,n,s){var r=e.updateQueue;Sn=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,c=r.shared.pending;if(c!==null){r.shared.pending=null;var f=c,d=f.next;f.next=null,a===null?i=d:a.next=d,a=f;var v=e.alternate;v!==null&&(v=v.updateQueue,c=v.lastBaseUpdate,c!==a&&(c===null?v.firstBaseUpdate=d:c.next=d,v.lastBaseUpdate=f))}if(i!==null){var g=r.baseState;a=0,v=d=f=null,c=i;do{var p=c.lane,y=c.eventTime;if((s&p)===p){v!==null&&(v=v.next={eventTime:y,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var _=e,S=c;switch(p=t,y=n,S.tag){case 1:if(_=S.payload,typeof _=="function"){g=_.call(y,g,p);break e}g=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=S.payload,p=typeof _=="function"?_.call(y,g,p):_,p==null)break e;g=Pe({},g,p);break e;case 2:Sn=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,p=r.effects,p===null?r.effects=[c]:p.push(c))}else y={eventTime:y,lane:p,tag:c.tag,payload:c.payload,callback:c.callback,next:null},v===null?(d=v=y,f=g):v=v.next=y,a|=p;if(c=c.next,c===null){if(c=r.shared.pending,c===null)break;p=c,c=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(v===null&&(f=g),r.baseState=f,r.firstBaseUpdate=d,r.lastBaseUpdate=v,t=r.shared.interleaved,t!==null){r=t;do a|=r.lane,r=r.next;while(r!==t)}else i===null&&(r.shared.lanes=0);ps|=a,e.lanes=a,e.memoizedState=g}}function gf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(z(191,r));r.call(s)}}}var ui={},ln=qn(ui),ei=qn(ui),ti=qn(ui);function os(e){if(e===ui)throw Error(z(174));return e}function Mc(e,t){switch(Ne(ti,t),Ne(ei,e),Ne(ln,ui),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ga(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ga(t,e)}Ee(ln),Ne(ln,t)}function rr(){Ee(ln),Ee(ei),Ee(ti)}function gp(e){os(ti.current);var t=os(ln.current),n=ga(t,e.type);t!==n&&(Ne(ei,e),Ne(ln,n))}function Ic(e){ei.current===e&&(Ee(ln),Ee(ei))}var Ie=qn(0);function kl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yo=[];function Ac(){for(var e=0;e<Yo.length;e++)Yo[e]._workInProgressVersionPrimary=null;Yo.length=0}var tl=xn.ReactCurrentDispatcher,Jo=xn.ReactCurrentBatchConfig,ms=0,Ae=null,Be=null,We=null,jl=!1,zr=!1,ni=0,Dx=0;function Ke(){throw Error(z(321))}function Pc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kt(e[n],t[n]))return!1;return!0}function Tc(e,t,n,s,r,i){if(ms=i,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,tl.current=e===null||e.memoizedState===null?Bx:Ux,e=n(s,r),zr){i=0;do{if(zr=!1,ni=0,25<=i)throw Error(z(301));i+=1,We=Be=null,t.updateQueue=null,tl.current=qx,e=n(s,r)}while(zr)}if(tl.current=Nl,t=Be!==null&&Be.next!==null,ms=0,We=Be=Ae=null,jl=!1,t)throw Error(z(300));return e}function Oc(){var e=ni!==0;return ni=0,e}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Ae.memoizedState=We=e:We=We.next=e,We}function Rt(){if(Be===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=We===null?Ae.memoizedState:We.next;if(t!==null)We=t,Be=e;else{if(e===null)throw Error(z(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},We===null?Ae.memoizedState=We=e:We=We.next=e}return We}function si(e,t){return typeof t=="function"?t(e):t}function Zo(e){var t=Rt(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var s=Be,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var a=r.next;r.next=i.next,i.next=a}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var c=a=null,f=null,d=i;do{var v=d.lane;if((ms&v)===v)f!==null&&(f=f.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var g={lane:v,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};f===null?(c=f=g,a=s):f=f.next=g,Ae.lanes|=v,ps|=v}d=d.next}while(d!==null&&d!==i);f===null?a=s:f.next=c,Kt(s,t.memoizedState)||(ft=!0),t.memoizedState=s,t.baseState=a,t.baseQueue=f,n.lastRenderedState=s}if(e=n.interleaved,e!==null){r=e;do i=r.lane,Ae.lanes|=i,ps|=i,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ea(e){var t=Rt(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do i=e(i,a.action),a=a.next;while(a!==r);Kt(i,t.memoizedState)||(ft=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function vp(){}function yp(e,t){var n=Ae,s=Rt(),r=t(),i=!Kt(s.memoizedState,r);if(i&&(s.memoizedState=r,ft=!0),s=s.queue,Lc(bp.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,ri(9,wp.bind(null,n,s,r,t),void 0,null),He===null)throw Error(z(349));ms&30||xp(n,t,r)}return r}function xp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function wp(e,t,n,s){t.value=n,t.getSnapshot=s,_p(t)&&kp(e)}function bp(e,t,n){return n(function(){_p(t)&&kp(e)})}function _p(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kt(e,n)}catch{return!0}}function kp(e){var t=vn(e,1);t!==null&&Gt(t,e,1,-1)}function vf(e){var t=tn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:e},t.queue=e,e=e.dispatch=Fx.bind(null,Ae,e),[t.memoizedState,e]}function ri(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function jp(){return Rt().memoizedState}function nl(e,t,n,s){var r=tn();Ae.flags|=e,r.memoizedState=ri(1|t,n,void 0,s===void 0?null:s)}function Rl(e,t,n,s){var r=Rt();s=s===void 0?null:s;var i=void 0;if(Be!==null){var a=Be.memoizedState;if(i=a.destroy,s!==null&&Pc(s,a.deps)){r.memoizedState=ri(t,n,i,s);return}}Ae.flags|=e,r.memoizedState=ri(1|t,n,i,s)}function yf(e,t){return nl(8390656,8,e,t)}function Lc(e,t){return Rl(2048,8,e,t)}function Np(e,t){return Rl(4,2,e,t)}function Sp(e,t){return Rl(4,4,e,t)}function Ep(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cp(e,t,n){return n=n!=null?n.concat([e]):null,Rl(4,4,Ep.bind(null,t,e),n)}function $c(){}function Mp(e,t){var n=Rt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Pc(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Ip(e,t){var n=Rt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Pc(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Ap(e,t,n){return ms&21?(Kt(n,t)||(n=$m(),Ae.lanes|=n,ps|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ft=!0),e.memoizedState=n)}function Rx(e,t){var n=ye;ye=n!==0&&4>n?n:4,e(!0);var s=Jo.transition;Jo.transition={};try{e(!1),t()}finally{ye=n,Jo.transition=s}}function Pp(){return Rt().memoizedState}function zx(e,t,n){var s=Rn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Tp(e))Op(t,n);else if(n=pp(e,t,n,s),n!==null){var r=ot();Gt(n,e,s,r),Lp(n,t,s)}}function Fx(e,t,n){var s=Rn(e),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tp(e))Op(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,c=i(a,n);if(r.hasEagerState=!0,r.eagerState=c,Kt(c,a)){var f=t.interleaved;f===null?(r.next=r,Ec(t)):(r.next=f.next,f.next=r),t.interleaved=r;return}}catch{}finally{}n=pp(e,t,r,s),n!==null&&(r=ot(),Gt(n,e,s,r),Lp(n,t,s))}}function Tp(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Op(e,t){zr=jl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Lp(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,mc(e,n)}}var Nl={readContext:Dt,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},Bx={readContext:Dt,useCallback:function(e,t){return tn().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:yf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,nl(4194308,4,Ep.bind(null,t,e),n)},useLayoutEffect:function(e,t){return nl(4194308,4,e,t)},useInsertionEffect:function(e,t){return nl(4,2,e,t)},useMemo:function(e,t){var n=tn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=tn();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=zx.bind(null,Ae,e),[s.memoizedState,e]},useRef:function(e){var t=tn();return e={current:e},t.memoizedState=e},useState:vf,useDebugValue:$c,useDeferredValue:function(e){return tn().memoizedState=e},useTransition:function(){var e=vf(!1),t=e[0];return e=Rx.bind(null,e[1]),tn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Ae,r=tn();if(Me){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),He===null)throw Error(z(349));ms&30||xp(s,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,yf(bp.bind(null,s,i,e),[e]),s.flags|=2048,ri(9,wp.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=tn(),t=He.identifierPrefix;if(Me){var n=mn,s=fn;n=(s&~(1<<32-Qt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=ni++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Dx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ux={readContext:Dt,useCallback:Mp,useContext:Dt,useEffect:Lc,useImperativeHandle:Cp,useInsertionEffect:Np,useLayoutEffect:Sp,useMemo:Ip,useReducer:Zo,useRef:jp,useState:function(){return Zo(si)},useDebugValue:$c,useDeferredValue:function(e){var t=Rt();return Ap(t,Be.memoizedState,e)},useTransition:function(){var e=Zo(si)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:vp,useSyncExternalStore:yp,useId:Pp,unstable_isNewReconciler:!1},qx={readContext:Dt,useCallback:Mp,useContext:Dt,useEffect:Lc,useImperativeHandle:Cp,useInsertionEffect:Np,useLayoutEffect:Sp,useMemo:Ip,useReducer:ea,useRef:jp,useState:function(){return ea(si)},useDebugValue:$c,useDeferredValue:function(e){var t=Rt();return Be===null?t.memoizedState=e:Ap(t,Be.memoizedState,e)},useTransition:function(){var e=ea(si)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:vp,useSyncExternalStore:yp,useId:Pp,unstable_isNewReconciler:!1};function Wt(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Da(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zl={isMounted:function(e){return(e=e._reactInternals)?vs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ot(),r=Rn(e),i=pn(s,r);i.payload=t,n!=null&&(i.callback=n),t=$n(e,i,r),t!==null&&(Gt(t,e,r,s),el(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ot(),r=Rn(e),i=pn(s,r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=$n(e,i,r),t!==null&&(Gt(t,e,r,s),el(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ot(),s=Rn(e),r=pn(n,s);r.tag=2,t!=null&&(r.callback=t),t=$n(e,r,s),t!==null&&(Gt(t,e,s,n),el(t,e,s))}};function xf(e,t,n,s,r,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,a):t.prototype&&t.prototype.isPureReactComponent?!Xr(n,s)||!Xr(r,i):!0}function $p(e,t,n){var s=!1,r=Bn,i=t.contextType;return typeof i=="object"&&i!==null?i=Dt(i):(r=pt(t)?ds:Je.current,s=t.contextTypes,i=(s=s!=null)?tr(e,r):Bn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function wf(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&zl.enqueueReplaceState(t,t.state,null)}function Ra(e,t,n,s){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Cc(e);var i=t.contextType;typeof i=="object"&&i!==null?r.context=Dt(i):(i=pt(t)?ds:Je.current,r.context=tr(e,i)),r.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Da(e,t,i,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&zl.enqueueReplaceState(r,r.state,null),_l(e,n,r,s),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function ir(e,t){try{var n="",s=t;do n+=vy(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:r,digest:null}}function ta(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function za(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Wx=typeof WeakMap=="function"?WeakMap:Map;function Dp(e,t,n){n=pn(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){El||(El=!0,Ka=s),za(e,t)},n}function Rp(e,t,n){n=pn(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var r=t.value;n.payload=function(){return s(r)},n.callback=function(){za(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){za(e,t),typeof s!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function bf(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Wx;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||(r.add(n),e=r0.bind(null,e,t,n),t.then(e,e))}function _f(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kf(e,t,n,s,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pn(-1,1),t.tag=2,$n(n,t,1))),n.lanes|=1),e)}var Hx=xn.ReactCurrentOwner,ft=!1;function lt(e,t,n,s){t.child=e===null?mp(t,null,n,s):sr(t,e.child,n,s)}function jf(e,t,n,s,r){n=n.render;var i=t.ref;return Xs(t,r),s=Tc(e,t,n,s,i,r),n=Oc(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,yn(e,t,r)):(Me&&n&&bc(t),t.flags|=1,lt(e,t,s,r),t.child)}function Nf(e,t,n,s,r){if(e===null){var i=n.type;return typeof i=="function"&&!Wc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,zp(e,t,i,s,r)):(e=ll(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&r)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Xr,n(a,s)&&e.ref===t.ref)return yn(e,t,r)}return t.flags|=1,e=zn(i,s),e.ref=t.ref,e.return=t,t.child=e}function zp(e,t,n,s,r){if(e!==null){var i=e.memoizedProps;if(Xr(i,s)&&e.ref===t.ref)if(ft=!1,t.pendingProps=s=i,(e.lanes&r)!==0)e.flags&131072&&(ft=!0);else return t.lanes=e.lanes,yn(e,t,r)}return Fa(e,t,n,s,r)}function Fp(e,t,n){var s=t.pendingProps,r=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Hs,bt),bt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(Hs,bt),bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,Ne(Hs,bt),bt|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,Ne(Hs,bt),bt|=s;return lt(e,t,r,n),t.child}function Bp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Fa(e,t,n,s,r){var i=pt(n)?ds:Je.current;return i=tr(t,i),Xs(t,r),n=Tc(e,t,n,s,i,r),s=Oc(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,yn(e,t,r)):(Me&&s&&bc(t),t.flags|=1,lt(e,t,n,r),t.child)}function Sf(e,t,n,s,r){if(pt(n)){var i=!0;vl(t)}else i=!1;if(Xs(t,r),t.stateNode===null)sl(e,t),$p(t,n,s),Ra(t,n,s,r),s=!0;else if(e===null){var a=t.stateNode,c=t.memoizedProps;a.props=c;var f=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Dt(d):(d=pt(n)?ds:Je.current,d=tr(t,d));var v=n.getDerivedStateFromProps,g=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==s||f!==d)&&wf(t,a,s,d),Sn=!1;var p=t.memoizedState;a.state=p,_l(t,s,a,r),f=t.memoizedState,c!==s||p!==f||mt.current||Sn?(typeof v=="function"&&(Da(t,n,v,s),f=t.memoizedState),(c=Sn||xf(t,n,c,s,p,f,d))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=f),a.props=s,a.state=f,a.context=d,s=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{a=t.stateNode,hp(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:Wt(t.type,c),a.props=d,g=t.pendingProps,p=a.context,f=n.contextType,typeof f=="object"&&f!==null?f=Dt(f):(f=pt(n)?ds:Je.current,f=tr(t,f));var y=n.getDerivedStateFromProps;(v=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==g||p!==f)&&wf(t,a,s,f),Sn=!1,p=t.memoizedState,a.state=p,_l(t,s,a,r);var _=t.memoizedState;c!==g||p!==_||mt.current||Sn?(typeof y=="function"&&(Da(t,n,y,s),_=t.memoizedState),(d=Sn||xf(t,n,d,s,p,_,f)||!1)?(v||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,_,f),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,_,f)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=_),a.props=s,a.state=_,a.context=f,s=d):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),s=!1)}return Ba(e,t,n,s,i,r)}function Ba(e,t,n,s,r,i){Bp(e,t);var a=(t.flags&128)!==0;if(!s&&!a)return r&&df(t,n,!1),yn(e,t,i);s=t.stateNode,Hx.current=t;var c=a&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&a?(t.child=sr(t,e.child,null,i),t.child=sr(t,null,c,i)):lt(e,t,c,i),t.memoizedState=s.state,r&&df(t,n,!0),t.child}function Up(e){var t=e.stateNode;t.pendingContext?uf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&uf(e,t.context,!1),Mc(e,t.containerInfo)}function Ef(e,t,n,s,r){return nr(),kc(r),t.flags|=256,lt(e,t,n,s),t.child}var Ua={dehydrated:null,treeContext:null,retryLane:0};function qa(e){return{baseLanes:e,cachePool:null,transitions:null}}function qp(e,t,n){var s=t.pendingProps,r=Ie.current,i=!1,a=(t.flags&128)!==0,c;if((c=a)||(c=e!==null&&e.memoizedState===null?!1:(r&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),Ne(Ie,r&1),e===null)return La(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=s.children,e=s.fallback,i?(s=t.mode,i=t.child,a={mode:"hidden",children:a},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ul(a,s,0,null),e=us(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=qa(n),t.memoizedState=Ua,e):Dc(t,a));if(r=e.memoizedState,r!==null&&(c=r.dehydrated,c!==null))return Vx(e,t,a,s,c,r,n);if(i){i=s.fallback,a=t.mode,r=e.child,c=r.sibling;var f={mode:"hidden",children:s.children};return!(a&1)&&t.child!==r?(s=t.child,s.childLanes=0,s.pendingProps=f,t.deletions=null):(s=zn(r,f),s.subtreeFlags=r.subtreeFlags&14680064),c!==null?i=zn(c,i):(i=us(i,a,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,a=e.child.memoizedState,a=a===null?qa(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Ua,s}return i=e.child,e=i.sibling,s=zn(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Dc(e,t){return t=Ul({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hi(e,t,n,s){return s!==null&&kc(s),sr(t,e.child,null,n),e=Dc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vx(e,t,n,s,r,i,a){if(n)return t.flags&256?(t.flags&=-257,s=ta(Error(z(422))),Hi(e,t,a,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,r=t.mode,s=Ul({mode:"visible",children:s.children},r,0,null),i=us(i,r,a,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&sr(t,e.child,null,a),t.child.memoizedState=qa(a),t.memoizedState=Ua,i);if(!(t.mode&1))return Hi(e,t,a,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var c=s.dgst;return s=c,i=Error(z(419)),s=ta(i,s,void 0),Hi(e,t,a,s)}if(c=(a&e.childLanes)!==0,ft||c){if(s=He,s!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|a)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,vn(e,r),Gt(s,e,r,-1))}return qc(),s=ta(Error(z(421))),Hi(e,t,a,s)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=i0.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,_t=Ln(r.nextSibling),kt=t,Me=!0,Vt=null,e!==null&&(Tt[Ot++]=fn,Tt[Ot++]=mn,Tt[Ot++]=fs,fn=e.id,mn=e.overflow,fs=t),t=Dc(t,s.children),t.flags|=4096,t)}function Cf(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),$a(e.return,t,n)}function na(e,t,n,s,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function Wp(e,t,n){var s=t.pendingProps,r=s.revealOrder,i=s.tail;if(lt(e,t,s.children,n),s=Ie.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cf(e,n,t);else if(e.tag===19)Cf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ne(Ie,s),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&kl(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),na(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&kl(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}na(t,!0,n,null,i);break;case"together":na(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ps|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=zn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Qx(e,t,n){switch(t.tag){case 3:Up(t),nr();break;case 5:gp(t);break;case 1:pt(t.type)&&vl(t);break;case 4:Mc(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,r=t.memoizedProps.value;Ne(wl,s._currentValue),s._currentValue=r;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ne(Ie,Ie.current&1),t.flags|=128,null):n&t.child.childLanes?qp(e,t,n):(Ne(Ie,Ie.current&1),e=yn(e,t,n),e!==null?e.sibling:null);Ne(Ie,Ie.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Wp(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ne(Ie,Ie.current),s)break;return null;case 22:case 23:return t.lanes=0,Fp(e,t,n)}return yn(e,t,n)}var Hp,Wa,Vp,Qp;Hp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wa=function(){};Vp=function(e,t,n,s){var r=e.memoizedProps;if(r!==s){e=t.stateNode,os(ln.current);var i=null;switch(n){case"input":r=fa(e,r),s=fa(e,s),i=[];break;case"select":r=Pe({},r,{value:void 0}),s=Pe({},s,{value:void 0}),i=[];break;case"textarea":r=ha(e,r),s=ha(e,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=hl)}va(n,s);var a;n=null;for(d in r)if(!s.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var c=r[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(qr.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var f=s[d];if(c=r!=null?r[d]:void 0,s.hasOwnProperty(d)&&f!==c&&(f!=null||c!=null))if(d==="style")if(c){for(a in c)!c.hasOwnProperty(a)||f&&f.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in f)f.hasOwnProperty(a)&&c[a]!==f[a]&&(n||(n={}),n[a]=f[a])}else n||(i||(i=[]),i.push(d,n)),n=f;else d==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,c=c?c.__html:void 0,f!=null&&c!==f&&(i=i||[]).push(d,f)):d==="children"?typeof f!="string"&&typeof f!="number"||(i=i||[]).push(d,""+f):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(qr.hasOwnProperty(d)?(f!=null&&d==="onScroll"&&Se("scroll",e),i||c===f||(i=[])):(i=i||[]).push(d,f))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Qp=function(e,t,n,s){n!==s&&(t.flags|=4)};function Er(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Gx(e,t,n){var s=t.pendingProps;switch(_c(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return pt(t.type)&&gl(),Xe(t),null;case 3:return s=t.stateNode,rr(),Ee(mt),Ee(Je),Ac(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(qi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vt!==null&&(Ja(Vt),Vt=null))),Wa(e,t),Xe(t),null;case 5:Ic(t);var r=os(ti.current);if(n=t.type,e!==null&&t.stateNode!=null)Vp(e,t,n,s,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(z(166));return Xe(t),null}if(e=os(ln.current),qi(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[sn]=t,s[Zr]=i,e=(t.mode&1)!==0,n){case"dialog":Se("cancel",s),Se("close",s);break;case"iframe":case"object":case"embed":Se("load",s);break;case"video":case"audio":for(r=0;r<Tr.length;r++)Se(Tr[r],s);break;case"source":Se("error",s);break;case"img":case"image":case"link":Se("error",s),Se("load",s);break;case"details":Se("toggle",s);break;case"input":$d(s,i),Se("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Se("invalid",s);break;case"textarea":Rd(s,i),Se("invalid",s)}va(n,i),r=null;for(var a in i)if(i.hasOwnProperty(a)){var c=i[a];a==="children"?typeof c=="string"?s.textContent!==c&&(i.suppressHydrationWarning!==!0&&Ui(s.textContent,c,e),r=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&Ui(s.textContent,c,e),r=["children",""+c]):qr.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Se("scroll",s)}switch(n){case"input":Oi(s),Dd(s,i,!0);break;case"textarea":Oi(s),zd(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=hl)}s=r,t.updateQueue=s,s!==null&&(t.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=a.createElement(n,{is:s.is}):(e=a.createElement(n),n==="select"&&(a=e,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):e=a.createElementNS(e,n),e[sn]=t,e[Zr]=s,Hp(e,t,!1,!1),t.stateNode=e;e:{switch(a=ya(n,s),n){case"dialog":Se("cancel",e),Se("close",e),r=s;break;case"iframe":case"object":case"embed":Se("load",e),r=s;break;case"video":case"audio":for(r=0;r<Tr.length;r++)Se(Tr[r],e);r=s;break;case"source":Se("error",e),r=s;break;case"img":case"image":case"link":Se("error",e),Se("load",e),r=s;break;case"details":Se("toggle",e),r=s;break;case"input":$d(e,s),r=fa(e,s),Se("invalid",e);break;case"option":r=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},r=Pe({},s,{value:void 0}),Se("invalid",e);break;case"textarea":Rd(e,s),r=ha(e,s),Se("invalid",e);break;default:r=s}va(n,r),c=r;for(i in c)if(c.hasOwnProperty(i)){var f=c[i];i==="style"?jm(e,f):i==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&_m(e,f)):i==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&Wr(e,f):typeof f=="number"&&Wr(e,""+f):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qr.hasOwnProperty(i)?f!=null&&i==="onScroll"&&Se("scroll",e):f!=null&&oc(e,i,f,a))}switch(n){case"input":Oi(e),Dd(e,s,!1);break;case"textarea":Oi(e),zd(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Fn(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Vs(e,!!s.multiple,i,!1):s.defaultValue!=null&&Vs(e,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=hl)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)Qp(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(z(166));if(n=os(ti.current),os(ln.current),qi(t)){if(s=t.stateNode,n=t.memoizedProps,s[sn]=t,(i=s.nodeValue!==n)&&(e=kt,e!==null))switch(e.tag){case 3:Ui(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ui(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[sn]=t,t.stateNode=s}return Xe(t),null;case 13:if(Ee(Ie),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&_t!==null&&t.mode&1&&!(t.flags&128))dp(),nr(),t.flags|=98560,i=!1;else if(i=qi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[sn]=t}else nr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xe(t),i=!1}else Vt!==null&&(Ja(Vt),Vt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?Ue===0&&(Ue=3):qc())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return rr(),Wa(e,t),e===null&&Yr(t.stateNode.containerInfo),Xe(t),null;case 10:return Sc(t.type._context),Xe(t),null;case 17:return pt(t.type)&&gl(),Xe(t),null;case 19:if(Ee(Ie),i=t.memoizedState,i===null)return Xe(t),null;if(s=(t.flags&128)!==0,a=i.rendering,a===null)if(s)Er(i,!1);else{if(Ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=kl(e),a!==null){for(t.flags|=128,Er(i,!1),s=a.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ne(Ie,Ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&$e()>lr&&(t.flags|=128,s=!0,Er(i,!1),t.lanes=4194304)}else{if(!s)if(e=kl(a),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Er(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Me)return Xe(t),null}else 2*$e()-i.renderingStartTime>lr&&n!==1073741824&&(t.flags|=128,s=!0,Er(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=$e(),t.sibling=null,n=Ie.current,Ne(Ie,s?n&1|2:n&1),t):(Xe(t),null);case 22:case 23:return Uc(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?bt&1073741824&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function Kx(e,t){switch(_c(t),t.tag){case 1:return pt(t.type)&&gl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rr(),Ee(mt),Ee(Je),Ac(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ic(t),null;case 13:if(Ee(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));nr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(Ie),null;case 4:return rr(),null;case 10:return Sc(t.type._context),null;case 22:case 23:return Uc(),null;case 24:return null;default:return null}}var Vi=!1,Ye=!1,Xx=typeof WeakSet=="function"?WeakSet:Set,K=null;function Ws(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Oe(e,t,s)}else n.current=null}function Ha(e,t,n){try{n()}catch(s){Oe(e,t,s)}}var Mf=!1;function Yx(e,t){if(Ca=fl,e=Jm(),wc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,c=-1,f=-1,d=0,v=0,g=e,p=null;t:for(;;){for(var y;g!==n||r!==0&&g.nodeType!==3||(c=a+r),g!==i||s!==0&&g.nodeType!==3||(f=a+s),g.nodeType===3&&(a+=g.nodeValue.length),(y=g.firstChild)!==null;)p=g,g=y;for(;;){if(g===e)break t;if(p===n&&++d===r&&(c=a),p===i&&++v===s&&(f=a),(y=g.nextSibling)!==null)break;g=p,p=g.parentNode}g=y}n=c===-1||f===-1?null:{start:c,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ma={focusedElem:e,selectionRange:n},fl=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var S=_.memoizedProps,C=_.memoizedState,w=t.stateNode,x=w.getSnapshotBeforeUpdate(t.elementType===t.type?S:Wt(t.type,S),C);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(O){Oe(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return _=Mf,Mf=!1,_}function Fr(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,i!==void 0&&Ha(t,n,i)}r=r.next}while(r!==s)}}function Fl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Va(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Gp(e){var t=e.alternate;t!==null&&(e.alternate=null,Gp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sn],delete t[Zr],delete t[Pa],delete t[Tx],delete t[Ox])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Kp(e){return e.tag===5||e.tag===3||e.tag===4}function If(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qa(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hl));else if(s!==4&&(e=e.child,e!==null))for(Qa(e,t,n),e=e.sibling;e!==null;)Qa(e,t,n),e=e.sibling}function Ga(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Ga(e,t,n),e=e.sibling;e!==null;)Ga(e,t,n),e=e.sibling}var Ve=null,Ht=!1;function jn(e,t,n){for(n=n.child;n!==null;)Xp(e,t,n),n=n.sibling}function Xp(e,t,n){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Pl,n)}catch{}switch(n.tag){case 5:Ye||Ws(n,t);case 6:var s=Ve,r=Ht;Ve=null,jn(e,t,n),Ve=s,Ht=r,Ve!==null&&(Ht?(e=Ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(Ht?(e=Ve,n=n.stateNode,e.nodeType===8?Ko(e.parentNode,n):e.nodeType===1&&Ko(e,n),Gr(e)):Ko(Ve,n.stateNode));break;case 4:s=Ve,r=Ht,Ve=n.stateNode.containerInfo,Ht=!0,jn(e,t,n),Ve=s,Ht=r;break;case 0:case 11:case 14:case 15:if(!Ye&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Ha(n,t,a),r=r.next}while(r!==s)}jn(e,t,n);break;case 1:if(!Ye&&(Ws(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(c){Oe(n,t,c)}jn(e,t,n);break;case 21:jn(e,t,n);break;case 22:n.mode&1?(Ye=(s=Ye)||n.memoizedState!==null,jn(e,t,n),Ye=s):jn(e,t,n);break;default:jn(e,t,n)}}function Af(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Xx),t.forEach(function(s){var r=l0.bind(null,e,s);n.has(s)||(n.add(s),s.then(r,r))})}}function qt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=e,a=t,c=a;e:for(;c!==null;){switch(c.tag){case 5:Ve=c.stateNode,Ht=!1;break e;case 3:Ve=c.stateNode.containerInfo,Ht=!0;break e;case 4:Ve=c.stateNode.containerInfo,Ht=!0;break e}c=c.return}if(Ve===null)throw Error(z(160));Xp(i,a,r),Ve=null,Ht=!1;var f=r.alternate;f!==null&&(f.return=null),r.return=null}catch(d){Oe(r,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yp(t,e),t=t.sibling}function Yp(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qt(t,e),en(e),s&4){try{Fr(3,e,e.return),Fl(3,e)}catch(S){Oe(e,e.return,S)}try{Fr(5,e,e.return)}catch(S){Oe(e,e.return,S)}}break;case 1:qt(t,e),en(e),s&512&&n!==null&&Ws(n,n.return);break;case 5:if(qt(t,e),en(e),s&512&&n!==null&&Ws(n,n.return),e.flags&32){var r=e.stateNode;try{Wr(r,"")}catch(S){Oe(e,e.return,S)}}if(s&4&&(r=e.stateNode,r!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,c=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&xm(r,i),ya(c,a);var d=ya(c,i);for(a=0;a<f.length;a+=2){var v=f[a],g=f[a+1];v==="style"?jm(r,g):v==="dangerouslySetInnerHTML"?_m(r,g):v==="children"?Wr(r,g):oc(r,v,g,d)}switch(c){case"input":ma(r,i);break;case"textarea":wm(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Vs(r,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?Vs(r,!!i.multiple,i.defaultValue,!0):Vs(r,!!i.multiple,i.multiple?[]:"",!1))}r[Zr]=i}catch(S){Oe(e,e.return,S)}}break;case 6:if(qt(t,e),en(e),s&4){if(e.stateNode===null)throw Error(z(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(S){Oe(e,e.return,S)}}break;case 3:if(qt(t,e),en(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Gr(t.containerInfo)}catch(S){Oe(e,e.return,S)}break;case 4:qt(t,e),en(e);break;case 13:qt(t,e),en(e),r=e.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Fc=$e())),s&4&&Af(e);break;case 22:if(v=n!==null&&n.memoizedState!==null,e.mode&1?(Ye=(d=Ye)||v,qt(t,e),Ye=d):qt(t,e),en(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!v&&e.mode&1)for(K=e,v=e.child;v!==null;){for(g=K=v;K!==null;){switch(p=K,y=p.child,p.tag){case 0:case 11:case 14:case 15:Fr(4,p,p.return);break;case 1:Ws(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){s=p,n=p.return;try{t=s,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(S){Oe(s,n,S)}}break;case 5:Ws(p,p.return);break;case 22:if(p.memoizedState!==null){Tf(g);continue}}y!==null?(y.return=p,K=y):Tf(g)}v=v.sibling}e:for(v=null,g=e;;){if(g.tag===5){if(v===null){v=g;try{r=g.stateNode,d?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=g.stateNode,f=g.memoizedProps.style,a=f!=null&&f.hasOwnProperty("display")?f.display:null,c.style.display=km("display",a))}catch(S){Oe(e,e.return,S)}}}else if(g.tag===6){if(v===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(S){Oe(e,e.return,S)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;v===g&&(v=null),g=g.return}v===g&&(v=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:qt(t,e),en(e),s&4&&Af(e);break;case 21:break;default:qt(t,e),en(e)}}function en(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Kp(n)){var s=n;break e}n=n.return}throw Error(z(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Wr(r,""),s.flags&=-33);var i=If(e);Ga(e,i,r);break;case 3:case 4:var a=s.stateNode.containerInfo,c=If(e);Qa(e,c,a);break;default:throw Error(z(161))}}catch(f){Oe(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jx(e,t,n){K=e,Jp(e)}function Jp(e,t,n){for(var s=(e.mode&1)!==0;K!==null;){var r=K,i=r.child;if(r.tag===22&&s){var a=r.memoizedState!==null||Vi;if(!a){var c=r.alternate,f=c!==null&&c.memoizedState!==null||Ye;c=Vi;var d=Ye;if(Vi=a,(Ye=f)&&!d)for(K=r;K!==null;)a=K,f=a.child,a.tag===22&&a.memoizedState!==null?Of(r):f!==null?(f.return=a,K=f):Of(r);for(;i!==null;)K=i,Jp(i),i=i.sibling;K=r,Vi=c,Ye=d}Pf(e)}else r.subtreeFlags&8772&&i!==null?(i.return=r,K=i):Pf(e)}}function Pf(e){for(;K!==null;){var t=K;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ye||Fl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Ye)if(n===null)s.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Wt(t.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&gf(t,i,s);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gf(t,a,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var v=d.memoizedState;if(v!==null){var g=v.dehydrated;g!==null&&Gr(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Ye||t.flags&512&&Va(t)}catch(p){Oe(t,t.return,p)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function Tf(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function Of(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Fl(4,t)}catch(f){Oe(t,n,f)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var r=t.return;try{s.componentDidMount()}catch(f){Oe(t,r,f)}}var i=t.return;try{Va(t)}catch(f){Oe(t,i,f)}break;case 5:var a=t.return;try{Va(t)}catch(f){Oe(t,a,f)}}}catch(f){Oe(t,t.return,f)}if(t===e){K=null;break}var c=t.sibling;if(c!==null){c.return=t.return,K=c;break}K=t.return}}var Zx=Math.ceil,Sl=xn.ReactCurrentDispatcher,Rc=xn.ReactCurrentOwner,$t=xn.ReactCurrentBatchConfig,pe=0,He=null,ze=null,Qe=0,bt=0,Hs=qn(0),Ue=0,ii=null,ps=0,Bl=0,zc=0,Br=null,dt=null,Fc=0,lr=1/0,un=null,El=!1,Ka=null,Dn=null,Qi=!1,In=null,Cl=0,Ur=0,Xa=null,rl=-1,il=0;function ot(){return pe&6?$e():rl!==-1?rl:rl=$e()}function Rn(e){return e.mode&1?pe&2&&Qe!==0?Qe&-Qe:$x.transition!==null?(il===0&&(il=$m()),il):(e=ye,e!==0||(e=window.event,e=e===void 0?16:qm(e.type)),e):1}function Gt(e,t,n,s){if(50<Ur)throw Ur=0,Xa=null,Error(z(185));oi(e,n,s),(!(pe&2)||e!==He)&&(e===He&&(!(pe&2)&&(Bl|=n),Ue===4&&Cn(e,Qe)),ht(e,s),n===1&&pe===0&&!(t.mode&1)&&(lr=$e()+500,Dl&&Wn()))}function ht(e,t){var n=e.callbackNode;$y(e,t);var s=dl(e,e===He?Qe:0);if(s===0)n!==null&&Ud(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Ud(n),t===1)e.tag===0?Lx(Lf.bind(null,e)):ap(Lf.bind(null,e)),Ax(function(){!(pe&6)&&Wn()}),n=null;else{switch(Dm(s)){case 1:n=fc;break;case 4:n=Om;break;case 16:n=ul;break;case 536870912:n=Lm;break;default:n=ul}n=lh(n,Zp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Zp(e,t){if(rl=-1,il=0,pe&6)throw Error(z(327));var n=e.callbackNode;if(Ys()&&e.callbackNode!==n)return null;var s=dl(e,e===He?Qe:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Ml(e,s);else{t=s;var r=pe;pe|=2;var i=th();(He!==e||Qe!==t)&&(un=null,lr=$e()+500,cs(e,t));do try{n0();break}catch(c){eh(e,c)}while(!0);Nc(),Sl.current=i,pe=r,ze!==null?t=0:(He=null,Qe=0,t=Ue)}if(t!==0){if(t===2&&(r=ka(e),r!==0&&(s=r,t=Ya(e,r))),t===1)throw n=ii,cs(e,0),Cn(e,s),ht(e,$e()),n;if(t===6)Cn(e,s);else{if(r=e.current.alternate,!(s&30)&&!e0(r)&&(t=Ml(e,s),t===2&&(i=ka(e),i!==0&&(s=i,t=Ya(e,i))),t===1))throw n=ii,cs(e,0),Cn(e,s),ht(e,$e()),n;switch(e.finishedWork=r,e.finishedLanes=s,t){case 0:case 1:throw Error(z(345));case 2:ss(e,dt,un);break;case 3:if(Cn(e,s),(s&130023424)===s&&(t=Fc+500-$e(),10<t)){if(dl(e,0)!==0)break;if(r=e.suspendedLanes,(r&s)!==s){ot(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Aa(ss.bind(null,e,dt,un),t);break}ss(e,dt,un);break;case 4:if(Cn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,r=-1;0<s;){var a=31-Qt(s);i=1<<a,a=t[a],a>r&&(r=a),s&=~i}if(s=r,s=$e()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Zx(s/1960))-s,10<s){e.timeoutHandle=Aa(ss.bind(null,e,dt,un),s);break}ss(e,dt,un);break;case 5:ss(e,dt,un);break;default:throw Error(z(329))}}}return ht(e,$e()),e.callbackNode===n?Zp.bind(null,e):null}function Ya(e,t){var n=Br;return e.current.memoizedState.isDehydrated&&(cs(e,t).flags|=256),e=Ml(e,t),e!==2&&(t=dt,dt=n,t!==null&&Ja(t)),e}function Ja(e){dt===null?dt=e:dt.push.apply(dt,e)}function e0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Kt(i(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cn(e,t){for(t&=~zc,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Qt(t),s=1<<n;e[n]=-1,t&=~s}}function Lf(e){if(pe&6)throw Error(z(327));Ys();var t=dl(e,0);if(!(t&1))return ht(e,$e()),null;var n=Ml(e,t);if(e.tag!==0&&n===2){var s=ka(e);s!==0&&(t=s,n=Ya(e,s))}if(n===1)throw n=ii,cs(e,0),Cn(e,t),ht(e,$e()),n;if(n===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ss(e,dt,un),ht(e,$e()),null}function Bc(e,t){var n=pe;pe|=1;try{return e(t)}finally{pe=n,pe===0&&(lr=$e()+500,Dl&&Wn())}}function hs(e){In!==null&&In.tag===0&&!(pe&6)&&Ys();var t=pe;pe|=1;var n=$t.transition,s=ye;try{if($t.transition=null,ye=1,e)return e()}finally{ye=s,$t.transition=n,pe=t,!(pe&6)&&Wn()}}function Uc(){bt=Hs.current,Ee(Hs)}function cs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ix(n)),ze!==null)for(n=ze.return;n!==null;){var s=n;switch(_c(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&gl();break;case 3:rr(),Ee(mt),Ee(Je),Ac();break;case 5:Ic(s);break;case 4:rr();break;case 13:Ee(Ie);break;case 19:Ee(Ie);break;case 10:Sc(s.type._context);break;case 22:case 23:Uc()}n=n.return}if(He=e,ze=e=zn(e.current,null),Qe=bt=t,Ue=0,ii=null,zc=Bl=ps=0,dt=Br=null,ls!==null){for(t=0;t<ls.length;t++)if(n=ls[t],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var a=i.next;i.next=r,s.next=a}n.pending=s}ls=null}return e}function eh(e,t){do{var n=ze;try{if(Nc(),tl.current=Nl,jl){for(var s=Ae.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}jl=!1}if(ms=0,We=Be=Ae=null,zr=!1,ni=0,Rc.current=null,n===null||n.return===null){Ue=1,ii=t,ze=null;break}e:{var i=e,a=n.return,c=n,f=t;if(t=Qe,c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var d=f,v=c,g=v.tag;if(!(v.mode&1)&&(g===0||g===11||g===15)){var p=v.alternate;p?(v.updateQueue=p.updateQueue,v.memoizedState=p.memoizedState,v.lanes=p.lanes):(v.updateQueue=null,v.memoizedState=null)}var y=_f(a);if(y!==null){y.flags&=-257,kf(y,a,c,i,t),y.mode&1&&bf(i,d,t),t=y,f=d;var _=t.updateQueue;if(_===null){var S=new Set;S.add(f),t.updateQueue=S}else _.add(f);break e}else{if(!(t&1)){bf(i,d,t),qc();break e}f=Error(z(426))}}else if(Me&&c.mode&1){var C=_f(a);if(C!==null){!(C.flags&65536)&&(C.flags|=256),kf(C,a,c,i,t),kc(ir(f,c));break e}}i=f=ir(f,c),Ue!==4&&(Ue=2),Br===null?Br=[i]:Br.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=Dp(i,f,t);hf(i,w);break e;case 1:c=f;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Dn===null||!Dn.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var O=Rp(i,c,t);hf(i,O);break e}}i=i.return}while(i!==null)}sh(n)}catch(U){t=U,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(!0)}function th(){var e=Sl.current;return Sl.current=Nl,e===null?Nl:e}function qc(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),He===null||!(ps&268435455)&&!(Bl&268435455)||Cn(He,Qe)}function Ml(e,t){var n=pe;pe|=2;var s=th();(He!==e||Qe!==t)&&(un=null,cs(e,t));do try{t0();break}catch(r){eh(e,r)}while(!0);if(Nc(),pe=n,Sl.current=s,ze!==null)throw Error(z(261));return He=null,Qe=0,Ue}function t0(){for(;ze!==null;)nh(ze)}function n0(){for(;ze!==null&&!Ey();)nh(ze)}function nh(e){var t=ih(e.alternate,e,bt);e.memoizedProps=e.pendingProps,t===null?sh(e):ze=t,Rc.current=null}function sh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Kx(n,t),n!==null){n.flags&=32767,ze=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,ze=null;return}}else if(n=Gx(n,t,bt),n!==null){ze=n;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);Ue===0&&(Ue=5)}function ss(e,t,n){var s=ye,r=$t.transition;try{$t.transition=null,ye=1,s0(e,t,n,s)}finally{$t.transition=r,ye=s}return null}function s0(e,t,n,s){do Ys();while(In!==null);if(pe&6)throw Error(z(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Dy(e,i),e===He&&(ze=He=null,Qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qi||(Qi=!0,lh(ul,function(){return Ys(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=$t.transition,$t.transition=null;var a=ye;ye=1;var c=pe;pe|=4,Rc.current=null,Yx(e,n),Yp(n,e),kx(Ma),fl=!!Ca,Ma=Ca=null,e.current=n,Jx(n),Cy(),pe=c,ye=a,$t.transition=i}else e.current=n;if(Qi&&(Qi=!1,In=e,Cl=r),i=e.pendingLanes,i===0&&(Dn=null),Ay(n.stateNode),ht(e,$e()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(El)throw El=!1,e=Ka,Ka=null,e;return Cl&1&&e.tag!==0&&Ys(),i=e.pendingLanes,i&1?e===Xa?Ur++:(Ur=0,Xa=e):Ur=0,Wn(),null}function Ys(){if(In!==null){var e=Dm(Cl),t=$t.transition,n=ye;try{if($t.transition=null,ye=16>e?16:e,In===null)var s=!1;else{if(e=In,In=null,Cl=0,pe&6)throw Error(z(331));var r=pe;for(pe|=4,K=e.current;K!==null;){var i=K,a=i.child;if(K.flags&16){var c=i.deletions;if(c!==null){for(var f=0;f<c.length;f++){var d=c[f];for(K=d;K!==null;){var v=K;switch(v.tag){case 0:case 11:case 15:Fr(8,v,i)}var g=v.child;if(g!==null)g.return=v,K=g;else for(;K!==null;){v=K;var p=v.sibling,y=v.return;if(Gp(v),v===d){K=null;break}if(p!==null){p.return=y,K=p;break}K=y}}}var _=i.alternate;if(_!==null){var S=_.child;if(S!==null){_.child=null;do{var C=S.sibling;S.sibling=null,S=C}while(S!==null)}}K=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,K=a;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Fr(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,K=w;break e}K=i.return}}var x=e.current;for(K=x;K!==null;){a=K;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,K=b;else e:for(a=x;K!==null;){if(c=K,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Fl(9,c)}}catch(U){Oe(c,c.return,U)}if(c===a){K=null;break e}var O=c.sibling;if(O!==null){O.return=c.return,K=O;break e}K=c.return}}if(pe=r,Wn(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Pl,e)}catch{}s=!0}return s}finally{ye=n,$t.transition=t}}return!1}function $f(e,t,n){t=ir(n,t),t=Dp(e,t,1),e=$n(e,t,1),t=ot(),e!==null&&(oi(e,1,t),ht(e,t))}function Oe(e,t,n){if(e.tag===3)$f(e,e,n);else for(;t!==null;){if(t.tag===3){$f(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Dn===null||!Dn.has(s))){e=ir(n,e),e=Rp(t,e,1),t=$n(t,e,1),e=ot(),t!==null&&(oi(t,1,e),ht(t,e));break}}t=t.return}}function r0(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=ot(),e.pingedLanes|=e.suspendedLanes&n,He===e&&(Qe&n)===n&&(Ue===4||Ue===3&&(Qe&130023424)===Qe&&500>$e()-Fc?cs(e,0):zc|=n),ht(e,t)}function rh(e,t){t===0&&(e.mode&1?(t=Di,Di<<=1,!(Di&130023424)&&(Di=4194304)):t=1);var n=ot();e=vn(e,t),e!==null&&(oi(e,t,n),ht(e,n))}function i0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),rh(e,n)}function l0(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(z(314))}s!==null&&s.delete(t),rh(e,n)}var ih;ih=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||mt.current)ft=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ft=!1,Qx(e,t,n);ft=!!(e.flags&131072)}else ft=!1,Me&&t.flags&1048576&&cp(t,xl,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;sl(e,t),e=t.pendingProps;var r=tr(t,Je.current);Xs(t,n),r=Tc(null,t,s,e,r,n);var i=Oc();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(s)?(i=!0,vl(t)):i=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Cc(t),r.updater=zl,t.stateNode=r,r._reactInternals=t,Ra(t,s,e,n),t=Ba(null,t,s,!0,i,n)):(t.tag=0,Me&&i&&bc(t),lt(null,t,r,n),t=t.child),t;case 16:s=t.elementType;e:{switch(sl(e,t),e=t.pendingProps,r=s._init,s=r(s._payload),t.type=s,r=t.tag=a0(s),e=Wt(s,e),r){case 0:t=Fa(null,t,s,e,n);break e;case 1:t=Sf(null,t,s,e,n);break e;case 11:t=jf(null,t,s,e,n);break e;case 14:t=Nf(null,t,s,Wt(s.type,e),n);break e}throw Error(z(306,s,""))}return t;case 0:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Wt(s,r),Fa(e,t,s,r,n);case 1:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Wt(s,r),Sf(e,t,s,r,n);case 3:e:{if(Up(t),e===null)throw Error(z(387));s=t.pendingProps,i=t.memoizedState,r=i.element,hp(e,t),_l(t,s,null,n);var a=t.memoizedState;if(s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){r=ir(Error(z(423)),t),t=Ef(e,t,s,n,r);break e}else if(s!==r){r=ir(Error(z(424)),t),t=Ef(e,t,s,n,r);break e}else for(_t=Ln(t.stateNode.containerInfo.firstChild),kt=t,Me=!0,Vt=null,n=mp(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nr(),s===r){t=yn(e,t,n);break e}lt(e,t,s,n)}t=t.child}return t;case 5:return gp(t),e===null&&La(t),s=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,a=r.children,Ia(s,r)?a=null:i!==null&&Ia(s,i)&&(t.flags|=32),Bp(e,t),lt(e,t,a,n),t.child;case 6:return e===null&&La(t),null;case 13:return qp(e,t,n);case 4:return Mc(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=sr(t,null,s,n):lt(e,t,s,n),t.child;case 11:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Wt(s,r),jf(e,t,s,r,n);case 7:return lt(e,t,t.pendingProps,n),t.child;case 8:return lt(e,t,t.pendingProps.children,n),t.child;case 12:return lt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,r=t.pendingProps,i=t.memoizedProps,a=r.value,Ne(wl,s._currentValue),s._currentValue=a,i!==null)if(Kt(i.value,a)){if(i.children===r.children&&!mt.current){t=yn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){a=i.child;for(var f=c.firstContext;f!==null;){if(f.context===s){if(i.tag===1){f=pn(-1,n&-n),f.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var v=d.pending;v===null?f.next=f:(f.next=v.next,v.next=f),d.pending=f}}i.lanes|=n,f=i.alternate,f!==null&&(f.lanes|=n),$a(i.return,n,t),c.lanes|=n;break}f=f.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(z(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),$a(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}lt(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,s=t.pendingProps.children,Xs(t,n),r=Dt(r),s=s(r),t.flags|=1,lt(e,t,s,n),t.child;case 14:return s=t.type,r=Wt(s,t.pendingProps),r=Wt(s.type,r),Nf(e,t,s,r,n);case 15:return zp(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Wt(s,r),sl(e,t),t.tag=1,pt(s)?(e=!0,vl(t)):e=!1,Xs(t,n),$p(t,s,r),Ra(t,s,r,n),Ba(null,t,s,!0,e,n);case 19:return Wp(e,t,n);case 22:return Fp(e,t,n)}throw Error(z(156,t.tag))};function lh(e,t){return Tm(e,t)}function o0(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,n,s){return new o0(e,t,n,s)}function Wc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function a0(e){if(typeof e=="function")return Wc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cc)return 11;if(e===uc)return 14}return 2}function zn(e,t){var n=e.alternate;return n===null?(n=Lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ll(e,t,n,s,r,i){var a=2;if(s=e,typeof e=="function")Wc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ls:return us(n.children,r,i,t);case ac:a=8,r|=8;break;case aa:return e=Lt(12,n,t,r|2),e.elementType=aa,e.lanes=i,e;case ca:return e=Lt(13,n,t,r),e.elementType=ca,e.lanes=i,e;case ua:return e=Lt(19,n,t,r),e.elementType=ua,e.lanes=i,e;case gm:return Ul(n,r,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pm:a=10;break e;case hm:a=9;break e;case cc:a=11;break e;case uc:a=14;break e;case Nn:a=16,s=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=Lt(a,n,t,r),t.elementType=e,t.type=s,t.lanes=i,t}function us(e,t,n,s){return e=Lt(7,e,s,t),e.lanes=n,e}function Ul(e,t,n,s){return e=Lt(22,e,s,t),e.elementType=gm,e.lanes=n,e.stateNode={isHidden:!1},e}function sa(e,t,n){return e=Lt(6,e,null,t),e.lanes=n,e}function ra(e,t,n){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function c0(e,t,n,s,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ro(0),this.expirationTimes=Ro(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ro(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Hc(e,t,n,s,r,i,a,c,f){return e=new c0(e,t,n,c,f),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Lt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cc(i),e}function u0(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Os,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function oh(e){if(!e)return Bn;e=e._reactInternals;e:{if(vs(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var n=e.type;if(pt(n))return op(e,n,t)}return t}function ah(e,t,n,s,r,i,a,c,f){return e=Hc(n,s,!0,e,r,i,a,c,f),e.context=oh(null),n=e.current,s=ot(),r=Rn(n),i=pn(s,r),i.callback=t??null,$n(n,i,r),e.current.lanes=r,oi(e,r,s),ht(e,s),e}function ql(e,t,n,s){var r=t.current,i=ot(),a=Rn(r);return n=oh(n),t.context===null?t.context=n:t.pendingContext=n,t=pn(i,a),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=$n(r,t,a),e!==null&&(Gt(e,r,a,i),el(e,r,a)),a}function Il(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Df(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vc(e,t){Df(e,t),(e=e.alternate)&&Df(e,t)}function d0(){return null}var ch=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}Wl.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));ql(e,t,null,null)};Wl.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hs(function(){ql(null,e,null,null)}),t[gn]=null}};function Wl(e){this._internalRoot=e}Wl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<En.length&&t!==0&&t<En[n].priority;n++);En.splice(n,0,e),n===0&&Um(e)}};function Gc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rf(){}function f0(e,t,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var d=Il(a);i.call(d)}}var a=ah(t,s,e,0,null,!1,!1,"",Rf);return e._reactRootContainer=a,e[gn]=a.current,Yr(e.nodeType===8?e.parentNode:e),hs(),a}for(;r=e.lastChild;)e.removeChild(r);if(typeof s=="function"){var c=s;s=function(){var d=Il(f);c.call(d)}}var f=Hc(e,0,!1,null,null,!1,!1,"",Rf);return e._reactRootContainer=f,e[gn]=f.current,Yr(e.nodeType===8?e.parentNode:e),hs(function(){ql(t,f,n,s)}),f}function Vl(e,t,n,s,r){var i=n._reactRootContainer;if(i){var a=i;if(typeof r=="function"){var c=r;r=function(){var f=Il(a);c.call(f)}}ql(t,a,e,r)}else a=f0(n,t,e,r,s);return Il(a)}Rm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Pr(t.pendingLanes);n!==0&&(mc(t,n|1),ht(t,$e()),!(pe&6)&&(lr=$e()+500,Wn()))}break;case 13:hs(function(){var s=vn(e,1);if(s!==null){var r=ot();Gt(s,e,1,r)}}),Vc(e,1)}};pc=function(e){if(e.tag===13){var t=vn(e,134217728);if(t!==null){var n=ot();Gt(t,e,134217728,n)}Vc(e,134217728)}};zm=function(e){if(e.tag===13){var t=Rn(e),n=vn(e,t);if(n!==null){var s=ot();Gt(n,e,t,s)}Vc(e,t)}};Fm=function(){return ye};Bm=function(e,t){var n=ye;try{return ye=e,t()}finally{ye=n}};wa=function(e,t,n){switch(t){case"input":if(ma(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=$l(s);if(!r)throw Error(z(90));ym(s),ma(s,r)}}}break;case"textarea":wm(e,n);break;case"select":t=n.value,t!=null&&Vs(e,!!n.multiple,t,!1)}};Em=Bc;Cm=hs;var m0={usingClientEntryPoint:!1,Events:[ci,zs,$l,Nm,Sm,Bc]},Cr={findFiberByHostInstance:is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},p0={bundleType:Cr.bundleType,version:Cr.version,rendererPackageName:Cr.rendererPackageName,rendererConfig:Cr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Am(e),e===null?null:e.stateNode},findFiberByHostInstance:Cr.findFiberByHostInstance||d0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gi.isDisabled&&Gi.supportsFiber)try{Pl=Gi.inject(p0),rn=Gi}catch{}}Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m0;Nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gc(t))throw Error(z(200));return u0(e,t,null,n)};Nt.createRoot=function(e,t){if(!Gc(e))throw Error(z(299));var n=!1,s="",r=ch;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Hc(e,1,!1,null,null,n,!1,s,r),e[gn]=t.current,Yr(e.nodeType===8?e.parentNode:e),new Qc(t)};Nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=Am(t),e=e===null?null:e.stateNode,e};Nt.flushSync=function(e){return hs(e)};Nt.hydrate=function(e,t,n){if(!Hl(t))throw Error(z(200));return Vl(null,e,t,!0,n)};Nt.hydrateRoot=function(e,t,n){if(!Gc(e))throw Error(z(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",a=ch;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=ah(t,null,e,1,n??null,r,!1,i,a),e[gn]=t.current,Yr(e),s)for(e=0;e<s.length;e++)n=s[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Wl(t)};Nt.render=function(e,t,n){if(!Hl(t))throw Error(z(200));return Vl(null,e,t,!1,n)};Nt.unmountComponentAtNode=function(e){if(!Hl(e))throw Error(z(40));return e._reactRootContainer?(hs(function(){Vl(null,null,e,!1,function(){e._reactRootContainer=null,e[gn]=null})}),!0):!1};Nt.unstable_batchedUpdates=Bc;Nt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Hl(n))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return Vl(e,t,n,!1,s)};Nt.version="18.3.1-next-f1338f8080-20240426";function uh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uh)}catch(e){console.error(e)}}uh(),um.exports=Nt;var h0=um.exports,zf=h0;la.createRoot=zf.createRoot,la.hydrateRoot=zf.hydrateRoot;var g0={exports:{}};/*!
  * Bootstrap v5.3.7 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(e,t){(function(n,s){e.exports=s()})(Uv,function(){const n=new Map,s={set(m,l,u){n.has(m)||n.set(m,new Map);const h=n.get(m);h.has(l)||h.size===0?h.set(l,u):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(h.keys())[0]}.`)},get:(m,l)=>n.has(m)&&n.get(m).get(l)||null,remove(m,l){if(!n.has(m))return;const u=n.get(m);u.delete(l),u.size===0&&n.delete(m)}},r="transitionend",i=m=>(m&&window.CSS&&window.CSS.escape&&(m=m.replace(/#([^\s"#']+)/g,(l,u)=>`#${CSS.escape(u)}`)),m),a=m=>{m.dispatchEvent(new Event(r))},c=m=>!(!m||typeof m!="object")&&(m.jquery!==void 0&&(m=m[0]),m.nodeType!==void 0),f=m=>c(m)?m.jquery?m[0]:m:typeof m=="string"&&m.length>0?document.querySelector(i(m)):null,d=m=>{if(!c(m)||m.getClientRects().length===0)return!1;const l=getComputedStyle(m).getPropertyValue("visibility")==="visible",u=m.closest("details:not([open])");if(!u)return l;if(u!==m){const h=m.closest("summary");if(h&&h.parentNode!==u||h===null)return!1}return l},v=m=>!m||m.nodeType!==Node.ELEMENT_NODE||!!m.classList.contains("disabled")||(m.disabled!==void 0?m.disabled:m.hasAttribute("disabled")&&m.getAttribute("disabled")!=="false"),g=m=>{if(!document.documentElement.attachShadow)return null;if(typeof m.getRootNode=="function"){const l=m.getRootNode();return l instanceof ShadowRoot?l:null}return m instanceof ShadowRoot?m:m.parentNode?g(m.parentNode):null},p=()=>{},y=m=>{m.offsetHeight},_=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,S=[],C=()=>document.documentElement.dir==="rtl",w=m=>{var l;l=()=>{const u=_();if(u){const h=m.NAME,k=u.fn[h];u.fn[h]=m.jQueryInterface,u.fn[h].Constructor=m,u.fn[h].noConflict=()=>(u.fn[h]=k,m.jQueryInterface)}},document.readyState==="loading"?(S.length||document.addEventListener("DOMContentLoaded",()=>{for(const u of S)u()}),S.push(l)):l()},x=(m,l=[],u=m)=>typeof m=="function"?m.call(...l):u,b=(m,l,u=!0)=>{if(!u)return void x(m);const h=(M=>{if(!M)return 0;let{transitionDuration:D,transitionDelay:q}=window.getComputedStyle(M);const G=Number.parseFloat(D),X=Number.parseFloat(q);return G||X?(D=D.split(",")[0],q=q.split(",")[0],1e3*(Number.parseFloat(D)+Number.parseFloat(q))):0})(l)+5;let k=!1;const j=({target:M})=>{M===l&&(k=!0,l.removeEventListener(r,j),x(m))};l.addEventListener(r,j),setTimeout(()=>{k||a(l)},h)},O=(m,l,u,h)=>{const k=m.length;let j=m.indexOf(l);return j===-1?!u&&h?m[k-1]:m[0]:(j+=u?1:-1,h&&(j=(j+k)%k),m[Math.max(0,Math.min(j,k-1))])},U=/[^.]*(?=\..*)\.|.*/,N=/\..*/,P=/::\d+$/,B={};let oe=1;const J={mouseenter:"mouseover",mouseleave:"mouseout"},fe=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Re(m,l){return l&&`${l}::${oe++}`||m.uidEvent||oe++}function Fe(m){const l=Re(m);return m.uidEvent=l,B[l]=B[l]||{},B[l]}function Ze(m,l,u=null){return Object.values(m).find(h=>h.callable===l&&h.delegationSelector===u)}function zt(m,l,u){const h=typeof l=="string",k=h?u:l||u;let j=ee(m);return fe.has(j)||(j=m),[h,k,j]}function et(m,l,u,h,k){if(typeof l!="string"||!m)return;let[j,M,D]=zt(l,u,h);l in J&&(M=(re=>function(te){if(!te.relatedTarget||te.relatedTarget!==te.delegateTarget&&!te.delegateTarget.contains(te.relatedTarget))return re.call(this,te)})(M));const q=Fe(m),G=q[D]||(q[D]={}),X=Ze(G,M,j?u:null);if(X)return void(X.oneOff=X.oneOff&&k);const H=Re(M,l.replace(U,"")),ae=j?function(Z,re,te){return function ie(xe){const je=Z.querySelectorAll(re);for(let{target:ue}=xe;ue&&ue!==this;ue=ue.parentNode)for(const he of je)if(he===ue)return be(xe,{delegateTarget:ue}),ie.oneOff&&E.off(Z,xe.type,re,te),te.apply(ue,[xe])}}(m,u,M):function(Z,re){return function te(ie){return be(ie,{delegateTarget:Z}),te.oneOff&&E.off(Z,ie.type,re),re.apply(Z,[ie])}}(m,M);ae.delegationSelector=j?u:null,ae.callable=M,ae.oneOff=k,ae.uidEvent=H,G[H]=ae,m.addEventListener(D,ae,j)}function gt(m,l,u,h,k){const j=Ze(l[u],h,k);j&&(m.removeEventListener(u,j,!!k),delete l[u][j.uidEvent])}function Q(m,l,u,h){const k=l[u]||{};for(const[j,M]of Object.entries(k))j.includes(h)&&gt(m,l,u,M.callable,M.delegationSelector)}function ee(m){return m=m.replace(N,""),J[m]||m}const E={on(m,l,u,h){et(m,l,u,h,!1)},one(m,l,u,h){et(m,l,u,h,!0)},off(m,l,u,h){if(typeof l!="string"||!m)return;const[k,j,M]=zt(l,u,h),D=M!==l,q=Fe(m),G=q[M]||{},X=l.startsWith(".");if(j===void 0){if(X)for(const H of Object.keys(q))Q(m,q,H,l.slice(1));for(const[H,ae]of Object.entries(G)){const Z=H.replace(P,"");D&&!l.includes(Z)||gt(m,q,M,ae.callable,ae.delegationSelector)}}else{if(!Object.keys(G).length)return;gt(m,q,M,j,k?u:null)}},trigger(m,l,u){if(typeof l!="string"||!m)return null;const h=_();let k=null,j=!0,M=!0,D=!1;l!==ee(l)&&h&&(k=h.Event(l,u),h(m).trigger(k),j=!k.isPropagationStopped(),M=!k.isImmediatePropagationStopped(),D=k.isDefaultPrevented());const q=be(new Event(l,{bubbles:j,cancelable:!0}),u);return D&&q.preventDefault(),M&&m.dispatchEvent(q),q.defaultPrevented&&k&&k.preventDefault(),q}};function be(m,l={}){for(const[u,h]of Object.entries(l))try{m[u]=h}catch{Object.defineProperty(m,u,{configurable:!0,get:()=>h})}return m}function Ce(m){if(m==="true")return!0;if(m==="false")return!1;if(m===Number(m).toString())return Number(m);if(m===""||m==="null")return null;if(typeof m!="string")return m;try{return JSON.parse(decodeURIComponent(m))}catch{return m}}function Ft(m){return m.replace(/[A-Z]/g,l=>`-${l.toLowerCase()}`)}const I={setDataAttribute(m,l,u){m.setAttribute(`data-bs-${Ft(l)}`,u)},removeDataAttribute(m,l){m.removeAttribute(`data-bs-${Ft(l)}`)},getDataAttributes(m){if(!m)return{};const l={},u=Object.keys(m.dataset).filter(h=>h.startsWith("bs")&&!h.startsWith("bsConfig"));for(const h of u){let k=h.replace(/^bs/,"");k=k.charAt(0).toLowerCase()+k.slice(1),l[k]=Ce(m.dataset[h])}return l},getDataAttribute:(m,l)=>Ce(m.getAttribute(`data-bs-${Ft(l)}`))};class R{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(l){return l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l}_mergeConfigObj(l,u){const h=c(u)?I.getDataAttribute(u,"config"):{};return{...this.constructor.Default,...typeof h=="object"?h:{},...c(u)?I.getDataAttributes(u):{},...typeof l=="object"?l:{}}}_typeCheckConfig(l,u=this.constructor.DefaultType){for(const[k,j]of Object.entries(u)){const M=l[k],D=c(M)?"element":(h=M)==null?`${h}`:Object.prototype.toString.call(h).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(j).test(D))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${k}" provided type "${D}" but expected type "${j}".`)}var h}}class T extends R{constructor(l,u){super(),(l=f(l))&&(this._element=l,this._config=this._getConfig(u),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),E.off(this._element,this.constructor.EVENT_KEY);for(const l of Object.getOwnPropertyNames(this))this[l]=null}_queueCallback(l,u,h=!0){b(l,u,h)}_getConfig(l){return l=this._mergeConfigObj(l,this._element),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}static getInstance(l){return s.get(f(l),this.DATA_KEY)}static getOrCreateInstance(l,u={}){return this.getInstance(l)||new this(l,typeof u=="object"?u:null)}static get VERSION(){return"5.3.7"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(l){return`${l}${this.EVENT_KEY}`}}const L=m=>{let l=m.getAttribute("data-bs-target");if(!l||l==="#"){let u=m.getAttribute("href");if(!u||!u.includes("#")&&!u.startsWith("."))return null;u.includes("#")&&!u.startsWith("#")&&(u=`#${u.split("#")[1]}`),l=u&&u!=="#"?u.trim():null}return l?l.split(",").map(u=>i(u)).join(","):null},A={find:(m,l=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(l,m)),findOne:(m,l=document.documentElement)=>Element.prototype.querySelector.call(l,m),children:(m,l)=>[].concat(...m.children).filter(u=>u.matches(l)),parents(m,l){const u=[];let h=m.parentNode.closest(l);for(;h;)u.push(h),h=h.parentNode.closest(l);return u},prev(m,l){let u=m.previousElementSibling;for(;u;){if(u.matches(l))return[u];u=u.previousElementSibling}return[]},next(m,l){let u=m.nextElementSibling;for(;u;){if(u.matches(l))return[u];u=u.nextElementSibling}return[]},focusableChildren(m){const l=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(u=>`${u}:not([tabindex^="-"])`).join(",");return this.find(l,m).filter(u=>!v(u)&&d(u))},getSelectorFromElement(m){const l=L(m);return l&&A.findOne(l)?l:null},getElementFromSelector(m){const l=L(m);return l?A.findOne(l):null},getMultipleElementsFromSelector(m){const l=L(m);return l?A.find(l):[]}},F=(m,l="hide")=>{const u=`click.dismiss${m.EVENT_KEY}`,h=m.NAME;E.on(document,u,`[data-bs-dismiss="${h}"]`,function(k){if(["A","AREA"].includes(this.tagName)&&k.preventDefault(),v(this))return;const j=A.getElementFromSelector(this)||this.closest(`.${h}`);m.getOrCreateInstance(j)[l]()})},W=".bs.alert",$=`close${W}`,Y=`closed${W}`;class se extends T{static get NAME(){return"alert"}close(){if(E.trigger(this._element,$).defaultPrevented)return;this._element.classList.remove("show");const l=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,l)}_destroyElement(){this._element.remove(),E.trigger(this._element,Y),this.dispose()}static jQueryInterface(l){return this.each(function(){const u=se.getOrCreateInstance(this);if(typeof l=="string"){if(u[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);u[l](this)}})}}F(se,"close"),w(se);const _e='[data-bs-toggle="button"]';class tt extends T{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(l){return this.each(function(){const u=tt.getOrCreateInstance(this);l==="toggle"&&u[l]()})}}E.on(document,"click.bs.button.data-api",_e,m=>{m.preventDefault();const l=m.target.closest(_e);tt.getOrCreateInstance(l).toggle()}),w(tt);const le=".bs.swipe",ut=`touchstart${le}`,di=`touchmove${le}`,fr=`touchend${le}`,Xl=`pointerdown${le}`,Yl=`pointerup${le}`,Mh={endCallback:null,leftCallback:null,rightCallback:null},Ih={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class fi extends R{constructor(l,u){super(),this._element=l,l&&fi.isSupported()&&(this._config=this._getConfig(u),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Mh}static get DefaultType(){return Ih}static get NAME(){return"swipe"}dispose(){E.off(this._element,le)}_start(l){this._supportPointerEvents?this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX):this._deltaX=l.touches[0].clientX}_end(l){this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX-this._deltaX),this._handleSwipe(),x(this._config.endCallback)}_move(l){this._deltaX=l.touches&&l.touches.length>1?0:l.touches[0].clientX-this._deltaX}_handleSwipe(){const l=Math.abs(this._deltaX);if(l<=40)return;const u=l/this._deltaX;this._deltaX=0,u&&x(u>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(E.on(this._element,Xl,l=>this._start(l)),E.on(this._element,Yl,l=>this._end(l)),this._element.classList.add("pointer-event")):(E.on(this._element,ut,l=>this._start(l)),E.on(this._element,di,l=>this._move(l)),E.on(this._element,fr,l=>this._end(l)))}_eventIsPointerPenTouch(l){return this._supportPointerEvents&&(l.pointerType==="pen"||l.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const wn=".bs.carousel",Zc=".data-api",Ah="ArrowLeft",Ph="ArrowRight",mr="next",ys="prev",xs="left",mi="right",Th=`slide${wn}`,Jl=`slid${wn}`,Oh=`keydown${wn}`,Lh=`mouseenter${wn}`,$h=`mouseleave${wn}`,Dh=`dragstart${wn}`,Rh=`load${wn}${Zc}`,zh=`click${wn}${Zc}`,eu="carousel",pi="active",tu=".active",nu=".carousel-item",Fh=tu+nu,Bh={[Ah]:mi,[Ph]:xs},Uh={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},qh={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ws extends T{constructor(l,u){super(l,u),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=A.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===eu&&this.cycle()}static get Default(){return Uh}static get DefaultType(){return qh}static get NAME(){return"carousel"}next(){this._slide(mr)}nextWhenVisible(){!document.hidden&&d(this._element)&&this.next()}prev(){this._slide(ys)}pause(){this._isSliding&&a(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?E.one(this._element,Jl,()=>this.cycle()):this.cycle())}to(l){const u=this._getItems();if(l>u.length-1||l<0)return;if(this._isSliding)return void E.one(this._element,Jl,()=>this.to(l));const h=this._getItemIndex(this._getActive());if(h===l)return;const k=l>h?mr:ys;this._slide(k,u[l])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(l){return l.defaultInterval=l.interval,l}_addEventListeners(){this._config.keyboard&&E.on(this._element,Oh,l=>this._keydown(l)),this._config.pause==="hover"&&(E.on(this._element,Lh,()=>this.pause()),E.on(this._element,$h,()=>this._maybeEnableCycle())),this._config.touch&&fi.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const u of A.find(".carousel-item img",this._element))E.on(u,Dh,h=>h.preventDefault());const l={leftCallback:()=>this._slide(this._directionToOrder(xs)),rightCallback:()=>this._slide(this._directionToOrder(mi)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new fi(this._element,l)}_keydown(l){if(/input|textarea/i.test(l.target.tagName))return;const u=Bh[l.key];u&&(l.preventDefault(),this._slide(this._directionToOrder(u)))}_getItemIndex(l){return this._getItems().indexOf(l)}_setActiveIndicatorElement(l){if(!this._indicatorsElement)return;const u=A.findOne(tu,this._indicatorsElement);u.classList.remove(pi),u.removeAttribute("aria-current");const h=A.findOne(`[data-bs-slide-to="${l}"]`,this._indicatorsElement);h&&(h.classList.add(pi),h.setAttribute("aria-current","true"))}_updateInterval(){const l=this._activeElement||this._getActive();if(!l)return;const u=Number.parseInt(l.getAttribute("data-bs-interval"),10);this._config.interval=u||this._config.defaultInterval}_slide(l,u=null){if(this._isSliding)return;const h=this._getActive(),k=l===mr,j=u||O(this._getItems(),h,k,this._config.wrap);if(j===h)return;const M=this._getItemIndex(j),D=H=>E.trigger(this._element,H,{relatedTarget:j,direction:this._orderToDirection(l),from:this._getItemIndex(h),to:M});if(D(Th).defaultPrevented||!h||!j)return;const q=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(M),this._activeElement=j;const G=k?"carousel-item-start":"carousel-item-end",X=k?"carousel-item-next":"carousel-item-prev";j.classList.add(X),y(j),h.classList.add(G),j.classList.add(G),this._queueCallback(()=>{j.classList.remove(G,X),j.classList.add(pi),h.classList.remove(pi,X,G),this._isSliding=!1,D(Jl)},h,this._isAnimated()),q&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return A.findOne(Fh,this._element)}_getItems(){return A.find(nu,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(l){return C()?l===xs?ys:mr:l===xs?mr:ys}_orderToDirection(l){return C()?l===ys?xs:mi:l===ys?mi:xs}static jQueryInterface(l){return this.each(function(){const u=ws.getOrCreateInstance(this,l);if(typeof l!="number"){if(typeof l=="string"){if(u[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);u[l]()}}else u.to(l)})}}E.on(document,zh,"[data-bs-slide], [data-bs-slide-to]",function(m){const l=A.getElementFromSelector(this);if(!l||!l.classList.contains(eu))return;m.preventDefault();const u=ws.getOrCreateInstance(l),h=this.getAttribute("data-bs-slide-to");return h?(u.to(h),void u._maybeEnableCycle()):I.getDataAttribute(this,"slide")==="next"?(u.next(),void u._maybeEnableCycle()):(u.prev(),void u._maybeEnableCycle())}),E.on(window,Rh,()=>{const m=A.find('[data-bs-ride="carousel"]');for(const l of m)ws.getOrCreateInstance(l)}),w(ws);const pr=".bs.collapse",Wh=`show${pr}`,Hh=`shown${pr}`,Vh=`hide${pr}`,Qh=`hidden${pr}`,Gh=`click${pr}.data-api`,Zl="show",bs="collapse",hi="collapsing",Kh=`:scope .${bs} .${bs}`,eo='[data-bs-toggle="collapse"]',Xh={parent:null,toggle:!0},Yh={parent:"(null|element)",toggle:"boolean"};class _s extends T{constructor(l,u){super(l,u),this._isTransitioning=!1,this._triggerArray=[];const h=A.find(eo);for(const k of h){const j=A.getSelectorFromElement(k),M=A.find(j).filter(D=>D===this._element);j!==null&&M.length&&this._triggerArray.push(k)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Xh}static get DefaultType(){return Yh}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let l=[];if(this._config.parent&&(l=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(k=>k!==this._element).map(k=>_s.getOrCreateInstance(k,{toggle:!1}))),l.length&&l[0]._isTransitioning||E.trigger(this._element,Wh).defaultPrevented)return;for(const k of l)k.hide();const u=this._getDimension();this._element.classList.remove(bs),this._element.classList.add(hi),this._element.style[u]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const h=`scroll${u[0].toUpperCase()+u.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(hi),this._element.classList.add(bs,Zl),this._element.style[u]="",E.trigger(this._element,Hh)},this._element,!0),this._element.style[u]=`${this._element[h]}px`}hide(){if(this._isTransitioning||!this._isShown()||E.trigger(this._element,Vh).defaultPrevented)return;const l=this._getDimension();this._element.style[l]=`${this._element.getBoundingClientRect()[l]}px`,y(this._element),this._element.classList.add(hi),this._element.classList.remove(bs,Zl);for(const u of this._triggerArray){const h=A.getElementFromSelector(u);h&&!this._isShown(h)&&this._addAriaAndCollapsedClass([u],!1)}this._isTransitioning=!0,this._element.style[l]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(hi),this._element.classList.add(bs),E.trigger(this._element,Qh)},this._element,!0)}_isShown(l=this._element){return l.classList.contains(Zl)}_configAfterMerge(l){return l.toggle=!!l.toggle,l.parent=f(l.parent),l}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const l=this._getFirstLevelChildren(eo);for(const u of l){const h=A.getElementFromSelector(u);h&&this._addAriaAndCollapsedClass([u],this._isShown(h))}}_getFirstLevelChildren(l){const u=A.find(Kh,this._config.parent);return A.find(l,this._config.parent).filter(h=>!u.includes(h))}_addAriaAndCollapsedClass(l,u){if(l.length)for(const h of l)h.classList.toggle("collapsed",!u),h.setAttribute("aria-expanded",u)}static jQueryInterface(l){const u={};return typeof l=="string"&&/show|hide/.test(l)&&(u.toggle=!1),this.each(function(){const h=_s.getOrCreateInstance(this,u);if(typeof l=="string"){if(h[l]===void 0)throw new TypeError(`No method named "${l}"`);h[l]()}})}}E.on(document,Gh,eo,function(m){(m.target.tagName==="A"||m.delegateTarget&&m.delegateTarget.tagName==="A")&&m.preventDefault();for(const l of A.getMultipleElementsFromSelector(this))_s.getOrCreateInstance(l,{toggle:!1}).toggle()}),w(_s);var nt="top",vt="bottom",yt="right",st="left",gi="auto",ks=[nt,vt,yt,st],Hn="start",js="end",su="clippingParents",to="viewport",Ns="popper",ru="reference",no=ks.reduce(function(m,l){return m.concat([l+"-"+Hn,l+"-"+js])},[]),so=[].concat(ks,[gi]).reduce(function(m,l){return m.concat([l,l+"-"+Hn,l+"-"+js])},[]),iu="beforeRead",lu="read",ou="afterRead",au="beforeMain",cu="main",uu="afterMain",du="beforeWrite",fu="write",mu="afterWrite",pu=[iu,lu,ou,au,cu,uu,du,fu,mu];function Xt(m){return m?(m.nodeName||"").toLowerCase():null}function xt(m){if(m==null)return window;if(m.toString()!=="[object Window]"){var l=m.ownerDocument;return l&&l.defaultView||window}return m}function Vn(m){return m instanceof xt(m).Element||m instanceof Element}function Et(m){return m instanceof xt(m).HTMLElement||m instanceof HTMLElement}function ro(m){return typeof ShadowRoot<"u"&&(m instanceof xt(m).ShadowRoot||m instanceof ShadowRoot)}const io={name:"applyStyles",enabled:!0,phase:"write",fn:function(m){var l=m.state;Object.keys(l.elements).forEach(function(u){var h=l.styles[u]||{},k=l.attributes[u]||{},j=l.elements[u];Et(j)&&Xt(j)&&(Object.assign(j.style,h),Object.keys(k).forEach(function(M){var D=k[M];D===!1?j.removeAttribute(M):j.setAttribute(M,D===!0?"":D)}))})},effect:function(m){var l=m.state,u={popper:{position:l.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(l.elements.popper.style,u.popper),l.styles=u,l.elements.arrow&&Object.assign(l.elements.arrow.style,u.arrow),function(){Object.keys(l.elements).forEach(function(h){var k=l.elements[h],j=l.attributes[h]||{},M=Object.keys(l.styles.hasOwnProperty(h)?l.styles[h]:u[h]).reduce(function(D,q){return D[q]="",D},{});Et(k)&&Xt(k)&&(Object.assign(k.style,M),Object.keys(j).forEach(function(D){k.removeAttribute(D)}))})}},requires:["computeStyles"]};function Yt(m){return m.split("-")[0]}var Qn=Math.max,vi=Math.min,Ss=Math.round;function lo(){var m=navigator.userAgentData;return m!=null&&m.brands&&Array.isArray(m.brands)?m.brands.map(function(l){return l.brand+"/"+l.version}).join(" "):navigator.userAgent}function hu(){return!/^((?!chrome|android).)*safari/i.test(lo())}function Es(m,l,u){l===void 0&&(l=!1),u===void 0&&(u=!1);var h=m.getBoundingClientRect(),k=1,j=1;l&&Et(m)&&(k=m.offsetWidth>0&&Ss(h.width)/m.offsetWidth||1,j=m.offsetHeight>0&&Ss(h.height)/m.offsetHeight||1);var M=(Vn(m)?xt(m):window).visualViewport,D=!hu()&&u,q=(h.left+(D&&M?M.offsetLeft:0))/k,G=(h.top+(D&&M?M.offsetTop:0))/j,X=h.width/k,H=h.height/j;return{width:X,height:H,top:G,right:q+X,bottom:G+H,left:q,x:q,y:G}}function oo(m){var l=Es(m),u=m.offsetWidth,h=m.offsetHeight;return Math.abs(l.width-u)<=1&&(u=l.width),Math.abs(l.height-h)<=1&&(h=l.height),{x:m.offsetLeft,y:m.offsetTop,width:u,height:h}}function gu(m,l){var u=l.getRootNode&&l.getRootNode();if(m.contains(l))return!0;if(u&&ro(u)){var h=l;do{if(h&&m.isSameNode(h))return!0;h=h.parentNode||h.host}while(h)}return!1}function on(m){return xt(m).getComputedStyle(m)}function Jh(m){return["table","td","th"].indexOf(Xt(m))>=0}function bn(m){return((Vn(m)?m.ownerDocument:m.document)||window.document).documentElement}function yi(m){return Xt(m)==="html"?m:m.assignedSlot||m.parentNode||(ro(m)?m.host:null)||bn(m)}function vu(m){return Et(m)&&on(m).position!=="fixed"?m.offsetParent:null}function hr(m){for(var l=xt(m),u=vu(m);u&&Jh(u)&&on(u).position==="static";)u=vu(u);return u&&(Xt(u)==="html"||Xt(u)==="body"&&on(u).position==="static")?l:u||function(h){var k=/firefox/i.test(lo());if(/Trident/i.test(lo())&&Et(h)&&on(h).position==="fixed")return null;var j=yi(h);for(ro(j)&&(j=j.host);Et(j)&&["html","body"].indexOf(Xt(j))<0;){var M=on(j);if(M.transform!=="none"||M.perspective!=="none"||M.contain==="paint"||["transform","perspective"].indexOf(M.willChange)!==-1||k&&M.willChange==="filter"||k&&M.filter&&M.filter!=="none")return j;j=j.parentNode}return null}(m)||l}function ao(m){return["top","bottom"].indexOf(m)>=0?"x":"y"}function gr(m,l,u){return Qn(m,vi(l,u))}function yu(m){return Object.assign({},{top:0,right:0,bottom:0,left:0},m)}function xu(m,l){return l.reduce(function(u,h){return u[h]=m,u},{})}const wu={name:"arrow",enabled:!0,phase:"main",fn:function(m){var l,u=m.state,h=m.name,k=m.options,j=u.elements.arrow,M=u.modifiersData.popperOffsets,D=Yt(u.placement),q=ao(D),G=[st,yt].indexOf(D)>=0?"height":"width";if(j&&M){var X=function(we,ve){return yu(typeof(we=typeof we=="function"?we(Object.assign({},ve.rects,{placement:ve.placement})):we)!="number"?we:xu(we,ks))}(k.padding,u),H=oo(j),ae=q==="y"?nt:st,Z=q==="y"?vt:yt,re=u.rects.reference[G]+u.rects.reference[q]-M[q]-u.rects.popper[G],te=M[q]-u.rects.reference[q],ie=hr(j),xe=ie?q==="y"?ie.clientHeight||0:ie.clientWidth||0:0,je=re/2-te/2,ue=X[ae],he=xe-H[G]-X[Z],ce=xe/2-H[G]/2+je,me=gr(ue,ce,he),ge=q;u.modifiersData[h]=((l={})[ge]=me,l.centerOffset=me-ce,l)}},effect:function(m){var l=m.state,u=m.options.element,h=u===void 0?"[data-popper-arrow]":u;h!=null&&(typeof h!="string"||(h=l.elements.popper.querySelector(h)))&&gu(l.elements.popper,h)&&(l.elements.arrow=h)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Cs(m){return m.split("-")[1]}var Zh={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bu(m){var l,u=m.popper,h=m.popperRect,k=m.placement,j=m.variation,M=m.offsets,D=m.position,q=m.gpuAcceleration,G=m.adaptive,X=m.roundOffsets,H=m.isFixed,ae=M.x,Z=ae===void 0?0:ae,re=M.y,te=re===void 0?0:re,ie=typeof X=="function"?X({x:Z,y:te}):{x:Z,y:te};Z=ie.x,te=ie.y;var xe=M.hasOwnProperty("x"),je=M.hasOwnProperty("y"),ue=st,he=nt,ce=window;if(G){var me=hr(u),ge="clientHeight",we="clientWidth";me===xt(u)&&on(me=bn(u)).position!=="static"&&D==="absolute"&&(ge="scrollHeight",we="scrollWidth"),(k===nt||(k===st||k===yt)&&j===js)&&(he=vt,te-=(H&&me===ce&&ce.visualViewport?ce.visualViewport.height:me[ge])-h.height,te*=q?1:-1),k!==st&&(k!==nt&&k!==vt||j!==js)||(ue=yt,Z-=(H&&me===ce&&ce.visualViewport?ce.visualViewport.width:me[we])-h.width,Z*=q?1:-1)}var ve,Le=Object.assign({position:D},G&&Zh),wt=X===!0?function(Ut,rt){var Mt=Ut.x,It=Ut.y,Te=rt.devicePixelRatio||1;return{x:Ss(Mt*Te)/Te||0,y:Ss(It*Te)/Te||0}}({x:Z,y:te},xt(u)):{x:Z,y:te};return Z=wt.x,te=wt.y,q?Object.assign({},Le,((ve={})[he]=je?"0":"",ve[ue]=xe?"0":"",ve.transform=(ce.devicePixelRatio||1)<=1?"translate("+Z+"px, "+te+"px)":"translate3d("+Z+"px, "+te+"px, 0)",ve)):Object.assign({},Le,((l={})[he]=je?te+"px":"",l[ue]=xe?Z+"px":"",l.transform="",l))}const co={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(m){var l=m.state,u=m.options,h=u.gpuAcceleration,k=h===void 0||h,j=u.adaptive,M=j===void 0||j,D=u.roundOffsets,q=D===void 0||D,G={placement:Yt(l.placement),variation:Cs(l.placement),popper:l.elements.popper,popperRect:l.rects.popper,gpuAcceleration:k,isFixed:l.options.strategy==="fixed"};l.modifiersData.popperOffsets!=null&&(l.styles.popper=Object.assign({},l.styles.popper,bu(Object.assign({},G,{offsets:l.modifiersData.popperOffsets,position:l.options.strategy,adaptive:M,roundOffsets:q})))),l.modifiersData.arrow!=null&&(l.styles.arrow=Object.assign({},l.styles.arrow,bu(Object.assign({},G,{offsets:l.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:q})))),l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-placement":l.placement})},data:{}};var xi={passive:!0};const uo={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(m){var l=m.state,u=m.instance,h=m.options,k=h.scroll,j=k===void 0||k,M=h.resize,D=M===void 0||M,q=xt(l.elements.popper),G=[].concat(l.scrollParents.reference,l.scrollParents.popper);return j&&G.forEach(function(X){X.addEventListener("scroll",u.update,xi)}),D&&q.addEventListener("resize",u.update,xi),function(){j&&G.forEach(function(X){X.removeEventListener("scroll",u.update,xi)}),D&&q.removeEventListener("resize",u.update,xi)}},data:{}};var eg={left:"right",right:"left",bottom:"top",top:"bottom"};function wi(m){return m.replace(/left|right|bottom|top/g,function(l){return eg[l]})}var tg={start:"end",end:"start"};function _u(m){return m.replace(/start|end/g,function(l){return tg[l]})}function fo(m){var l=xt(m);return{scrollLeft:l.pageXOffset,scrollTop:l.pageYOffset}}function mo(m){return Es(bn(m)).left+fo(m).scrollLeft}function po(m){var l=on(m),u=l.overflow,h=l.overflowX,k=l.overflowY;return/auto|scroll|overlay|hidden/.test(u+k+h)}function ku(m){return["html","body","#document"].indexOf(Xt(m))>=0?m.ownerDocument.body:Et(m)&&po(m)?m:ku(yi(m))}function vr(m,l){var u;l===void 0&&(l=[]);var h=ku(m),k=h===((u=m.ownerDocument)==null?void 0:u.body),j=xt(h),M=k?[j].concat(j.visualViewport||[],po(h)?h:[]):h,D=l.concat(M);return k?D:D.concat(vr(yi(M)))}function ho(m){return Object.assign({},m,{left:m.x,top:m.y,right:m.x+m.width,bottom:m.y+m.height})}function ju(m,l,u){return l===to?ho(function(h,k){var j=xt(h),M=bn(h),D=j.visualViewport,q=M.clientWidth,G=M.clientHeight,X=0,H=0;if(D){q=D.width,G=D.height;var ae=hu();(ae||!ae&&k==="fixed")&&(X=D.offsetLeft,H=D.offsetTop)}return{width:q,height:G,x:X+mo(h),y:H}}(m,u)):Vn(l)?function(h,k){var j=Es(h,!1,k==="fixed");return j.top=j.top+h.clientTop,j.left=j.left+h.clientLeft,j.bottom=j.top+h.clientHeight,j.right=j.left+h.clientWidth,j.width=h.clientWidth,j.height=h.clientHeight,j.x=j.left,j.y=j.top,j}(l,u):ho(function(h){var k,j=bn(h),M=fo(h),D=(k=h.ownerDocument)==null?void 0:k.body,q=Qn(j.scrollWidth,j.clientWidth,D?D.scrollWidth:0,D?D.clientWidth:0),G=Qn(j.scrollHeight,j.clientHeight,D?D.scrollHeight:0,D?D.clientHeight:0),X=-M.scrollLeft+mo(h),H=-M.scrollTop;return on(D||j).direction==="rtl"&&(X+=Qn(j.clientWidth,D?D.clientWidth:0)-q),{width:q,height:G,x:X,y:H}}(bn(m)))}function Nu(m){var l,u=m.reference,h=m.element,k=m.placement,j=k?Yt(k):null,M=k?Cs(k):null,D=u.x+u.width/2-h.width/2,q=u.y+u.height/2-h.height/2;switch(j){case nt:l={x:D,y:u.y-h.height};break;case vt:l={x:D,y:u.y+u.height};break;case yt:l={x:u.x+u.width,y:q};break;case st:l={x:u.x-h.width,y:q};break;default:l={x:u.x,y:u.y}}var G=j?ao(j):null;if(G!=null){var X=G==="y"?"height":"width";switch(M){case Hn:l[G]=l[G]-(u[X]/2-h[X]/2);break;case js:l[G]=l[G]+(u[X]/2-h[X]/2)}}return l}function Ms(m,l){l===void 0&&(l={});var u=l,h=u.placement,k=h===void 0?m.placement:h,j=u.strategy,M=j===void 0?m.strategy:j,D=u.boundary,q=D===void 0?su:D,G=u.rootBoundary,X=G===void 0?to:G,H=u.elementContext,ae=H===void 0?Ns:H,Z=u.altBoundary,re=Z!==void 0&&Z,te=u.padding,ie=te===void 0?0:te,xe=yu(typeof ie!="number"?ie:xu(ie,ks)),je=ae===Ns?ru:Ns,ue=m.rects.popper,he=m.elements[re?je:ae],ce=function(rt,Mt,It,Te){var Jt=Mt==="clippingParents"?function(ke){var it=vr(yi(ke)),At=["absolute","fixed"].indexOf(on(ke).position)>=0&&Et(ke)?hr(ke):ke;return Vn(At)?it.filter(function(kn){return Vn(kn)&&gu(kn,At)&&Xt(kn)!=="body"}):[]}(rt):[].concat(Mt),Zt=[].concat(Jt,[It]),Ps=Zt[0],qe=Zt.reduce(function(ke,it){var At=ju(rt,it,Te);return ke.top=Qn(At.top,ke.top),ke.right=vi(At.right,ke.right),ke.bottom=vi(At.bottom,ke.bottom),ke.left=Qn(At.left,ke.left),ke},ju(rt,Ps,Te));return qe.width=qe.right-qe.left,qe.height=qe.bottom-qe.top,qe.x=qe.left,qe.y=qe.top,qe}(Vn(he)?he:he.contextElement||bn(m.elements.popper),q,X,M),me=Es(m.elements.reference),ge=Nu({reference:me,element:ue,placement:k}),we=ho(Object.assign({},ue,ge)),ve=ae===Ns?we:me,Le={top:ce.top-ve.top+xe.top,bottom:ve.bottom-ce.bottom+xe.bottom,left:ce.left-ve.left+xe.left,right:ve.right-ce.right+xe.right},wt=m.modifiersData.offset;if(ae===Ns&&wt){var Ut=wt[k];Object.keys(Le).forEach(function(rt){var Mt=[yt,vt].indexOf(rt)>=0?1:-1,It=[nt,vt].indexOf(rt)>=0?"y":"x";Le[rt]+=Ut[It]*Mt})}return Le}function ng(m,l){l===void 0&&(l={});var u=l,h=u.placement,k=u.boundary,j=u.rootBoundary,M=u.padding,D=u.flipVariations,q=u.allowedAutoPlacements,G=q===void 0?so:q,X=Cs(h),H=X?D?no:no.filter(function(re){return Cs(re)===X}):ks,ae=H.filter(function(re){return G.indexOf(re)>=0});ae.length===0&&(ae=H);var Z=ae.reduce(function(re,te){return re[te]=Ms(m,{placement:te,boundary:k,rootBoundary:j,padding:M})[Yt(te)],re},{});return Object.keys(Z).sort(function(re,te){return Z[re]-Z[te]})}const Su={name:"flip",enabled:!0,phase:"main",fn:function(m){var l=m.state,u=m.options,h=m.name;if(!l.modifiersData[h]._skip){for(var k=u.mainAxis,j=k===void 0||k,M=u.altAxis,D=M===void 0||M,q=u.fallbackPlacements,G=u.padding,X=u.boundary,H=u.rootBoundary,ae=u.altBoundary,Z=u.flipVariations,re=Z===void 0||Z,te=u.allowedAutoPlacements,ie=l.options.placement,xe=Yt(ie),je=q||(xe!==ie&&re?function(ke){if(Yt(ke)===gi)return[];var it=wi(ke);return[_u(ke),it,_u(it)]}(ie):[wi(ie)]),ue=[ie].concat(je).reduce(function(ke,it){return ke.concat(Yt(it)===gi?ng(l,{placement:it,boundary:X,rootBoundary:H,padding:G,flipVariations:re,allowedAutoPlacements:te}):it)},[]),he=l.rects.reference,ce=l.rects.popper,me=new Map,ge=!0,we=ue[0],ve=0;ve<ue.length;ve++){var Le=ue[ve],wt=Yt(Le),Ut=Cs(Le)===Hn,rt=[nt,vt].indexOf(wt)>=0,Mt=rt?"width":"height",It=Ms(l,{placement:Le,boundary:X,rootBoundary:H,altBoundary:ae,padding:G}),Te=rt?Ut?yt:st:Ut?vt:nt;he[Mt]>ce[Mt]&&(Te=wi(Te));var Jt=wi(Te),Zt=[];if(j&&Zt.push(It[wt]<=0),D&&Zt.push(It[Te]<=0,It[Jt]<=0),Zt.every(function(ke){return ke})){we=Le,ge=!1;break}me.set(Le,Zt)}if(ge)for(var Ps=function(ke){var it=ue.find(function(At){var kn=me.get(At);if(kn)return kn.slice(0,ke).every(function(Mi){return Mi})});if(it)return we=it,"break"},qe=re?3:1;qe>0&&Ps(qe)!=="break";qe--);l.placement!==we&&(l.modifiersData[h]._skip=!0,l.placement=we,l.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Eu(m,l,u){return u===void 0&&(u={x:0,y:0}),{top:m.top-l.height-u.y,right:m.right-l.width+u.x,bottom:m.bottom-l.height+u.y,left:m.left-l.width-u.x}}function Cu(m){return[nt,yt,vt,st].some(function(l){return m[l]>=0})}const Mu={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(m){var l=m.state,u=m.name,h=l.rects.reference,k=l.rects.popper,j=l.modifiersData.preventOverflow,M=Ms(l,{elementContext:"reference"}),D=Ms(l,{altBoundary:!0}),q=Eu(M,h),G=Eu(D,k,j),X=Cu(q),H=Cu(G);l.modifiersData[u]={referenceClippingOffsets:q,popperEscapeOffsets:G,isReferenceHidden:X,hasPopperEscaped:H},l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-reference-hidden":X,"data-popper-escaped":H})}},Iu={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(m){var l=m.state,u=m.options,h=m.name,k=u.offset,j=k===void 0?[0,0]:k,M=so.reduce(function(X,H){return X[H]=function(ae,Z,re){var te=Yt(ae),ie=[st,nt].indexOf(te)>=0?-1:1,xe=typeof re=="function"?re(Object.assign({},Z,{placement:ae})):re,je=xe[0],ue=xe[1];return je=je||0,ue=(ue||0)*ie,[st,yt].indexOf(te)>=0?{x:ue,y:je}:{x:je,y:ue}}(H,l.rects,j),X},{}),D=M[l.placement],q=D.x,G=D.y;l.modifiersData.popperOffsets!=null&&(l.modifiersData.popperOffsets.x+=q,l.modifiersData.popperOffsets.y+=G),l.modifiersData[h]=M}},go={name:"popperOffsets",enabled:!0,phase:"read",fn:function(m){var l=m.state,u=m.name;l.modifiersData[u]=Nu({reference:l.rects.reference,element:l.rects.popper,placement:l.placement})},data:{}},Au={name:"preventOverflow",enabled:!0,phase:"main",fn:function(m){var l=m.state,u=m.options,h=m.name,k=u.mainAxis,j=k===void 0||k,M=u.altAxis,D=M!==void 0&&M,q=u.boundary,G=u.rootBoundary,X=u.altBoundary,H=u.padding,ae=u.tether,Z=ae===void 0||ae,re=u.tetherOffset,te=re===void 0?0:re,ie=Ms(l,{boundary:q,rootBoundary:G,padding:H,altBoundary:X}),xe=Yt(l.placement),je=Cs(l.placement),ue=!je,he=ao(xe),ce=he==="x"?"y":"x",me=l.modifiersData.popperOffsets,ge=l.rects.reference,we=l.rects.popper,ve=typeof te=="function"?te(Object.assign({},l.rects,{placement:l.placement})):te,Le=typeof ve=="number"?{mainAxis:ve,altAxis:ve}:Object.assign({mainAxis:0,altAxis:0},ve),wt=l.modifiersData.offset?l.modifiersData.offset[l.placement]:null,Ut={x:0,y:0};if(me){if(j){var rt,Mt=he==="y"?nt:st,It=he==="y"?vt:yt,Te=he==="y"?"height":"width",Jt=me[he],Zt=Jt+ie[Mt],Ps=Jt-ie[It],qe=Z?-we[Te]/2:0,ke=je===Hn?ge[Te]:we[Te],it=je===Hn?-we[Te]:-ge[Te],At=l.elements.arrow,kn=Z&&At?oo(At):{width:0,height:0},Mi=l.modifiersData["arrow#persistent"]?l.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},vd=Mi[Mt],yd=Mi[It],Ii=gr(0,ge[Te],kn[Te]),Ov=ue?ge[Te]/2-qe-Ii-vd-Le.mainAxis:ke-Ii-vd-Le.mainAxis,Lv=ue?-ge[Te]/2+qe+Ii+yd+Le.mainAxis:it+Ii+yd+Le.mainAxis,Io=l.elements.arrow&&hr(l.elements.arrow),$v=Io?he==="y"?Io.clientTop||0:Io.clientLeft||0:0,xd=(rt=wt==null?void 0:wt[he])!=null?rt:0,Dv=Jt+Lv-xd,wd=gr(Z?vi(Zt,Jt+Ov-xd-$v):Zt,Jt,Z?Qn(Ps,Dv):Ps);me[he]=wd,Ut[he]=wd-Jt}if(D){var bd,Rv=he==="x"?nt:st,zv=he==="x"?vt:yt,ts=me[ce],Ai=ce==="y"?"height":"width",_d=ts+ie[Rv],kd=ts-ie[zv],Ao=[nt,st].indexOf(xe)!==-1,jd=(bd=wt==null?void 0:wt[ce])!=null?bd:0,Nd=Ao?_d:ts-ge[Ai]-we[Ai]-jd+Le.altAxis,Sd=Ao?ts+ge[Ai]+we[Ai]-jd-Le.altAxis:kd,Ed=Z&&Ao?function(Fv,Bv,Po){var Cd=gr(Fv,Bv,Po);return Cd>Po?Po:Cd}(Nd,ts,Sd):gr(Z?Nd:_d,ts,Z?Sd:kd);me[ce]=Ed,Ut[ce]=Ed-ts}l.modifiersData[h]=Ut}},requiresIfExists:["offset"]};function sg(m,l,u){u===void 0&&(u=!1);var h,k,j=Et(l),M=Et(l)&&function(H){var ae=H.getBoundingClientRect(),Z=Ss(ae.width)/H.offsetWidth||1,re=Ss(ae.height)/H.offsetHeight||1;return Z!==1||re!==1}(l),D=bn(l),q=Es(m,M,u),G={scrollLeft:0,scrollTop:0},X={x:0,y:0};return(j||!j&&!u)&&((Xt(l)!=="body"||po(D))&&(G=(h=l)!==xt(h)&&Et(h)?{scrollLeft:(k=h).scrollLeft,scrollTop:k.scrollTop}:fo(h)),Et(l)?((X=Es(l,!0)).x+=l.clientLeft,X.y+=l.clientTop):D&&(X.x=mo(D))),{x:q.left+G.scrollLeft-X.x,y:q.top+G.scrollTop-X.y,width:q.width,height:q.height}}function rg(m){var l=new Map,u=new Set,h=[];function k(j){u.add(j.name),[].concat(j.requires||[],j.requiresIfExists||[]).forEach(function(M){if(!u.has(M)){var D=l.get(M);D&&k(D)}}),h.push(j)}return m.forEach(function(j){l.set(j.name,j)}),m.forEach(function(j){u.has(j.name)||k(j)}),h}var Pu={placement:"bottom",modifiers:[],strategy:"absolute"};function Tu(){for(var m=arguments.length,l=new Array(m),u=0;u<m;u++)l[u]=arguments[u];return!l.some(function(h){return!(h&&typeof h.getBoundingClientRect=="function")})}function bi(m){m===void 0&&(m={});var l=m,u=l.defaultModifiers,h=u===void 0?[]:u,k=l.defaultOptions,j=k===void 0?Pu:k;return function(M,D,q){q===void 0&&(q=j);var G,X,H={placement:"bottom",orderedModifiers:[],options:Object.assign({},Pu,j),modifiersData:{},elements:{reference:M,popper:D},attributes:{},styles:{}},ae=[],Z=!1,re={state:H,setOptions:function(ie){var xe=typeof ie=="function"?ie(H.options):ie;te(),H.options=Object.assign({},j,H.options,xe),H.scrollParents={reference:Vn(M)?vr(M):M.contextElement?vr(M.contextElement):[],popper:vr(D)};var je,ue,he=function(ce){var me=rg(ce);return pu.reduce(function(ge,we){return ge.concat(me.filter(function(ve){return ve.phase===we}))},[])}((je=[].concat(h,H.options.modifiers),ue=je.reduce(function(ce,me){var ge=ce[me.name];return ce[me.name]=ge?Object.assign({},ge,me,{options:Object.assign({},ge.options,me.options),data:Object.assign({},ge.data,me.data)}):me,ce},{}),Object.keys(ue).map(function(ce){return ue[ce]})));return H.orderedModifiers=he.filter(function(ce){return ce.enabled}),H.orderedModifiers.forEach(function(ce){var me=ce.name,ge=ce.options,we=ge===void 0?{}:ge,ve=ce.effect;if(typeof ve=="function"){var Le=ve({state:H,name:me,instance:re,options:we});ae.push(Le||function(){})}}),re.update()},forceUpdate:function(){if(!Z){var ie=H.elements,xe=ie.reference,je=ie.popper;if(Tu(xe,je)){H.rects={reference:sg(xe,hr(je),H.options.strategy==="fixed"),popper:oo(je)},H.reset=!1,H.placement=H.options.placement,H.orderedModifiers.forEach(function(ve){return H.modifiersData[ve.name]=Object.assign({},ve.data)});for(var ue=0;ue<H.orderedModifiers.length;ue++)if(H.reset!==!0){var he=H.orderedModifiers[ue],ce=he.fn,me=he.options,ge=me===void 0?{}:me,we=he.name;typeof ce=="function"&&(H=ce({state:H,options:ge,name:we,instance:re})||H)}else H.reset=!1,ue=-1}}},update:(G=function(){return new Promise(function(ie){re.forceUpdate(),ie(H)})},function(){return X||(X=new Promise(function(ie){Promise.resolve().then(function(){X=void 0,ie(G())})})),X}),destroy:function(){te(),Z=!0}};if(!Tu(M,D))return re;function te(){ae.forEach(function(ie){return ie()}),ae=[]}return re.setOptions(q).then(function(ie){!Z&&q.onFirstUpdate&&q.onFirstUpdate(ie)}),re}}var ig=bi(),lg=bi({defaultModifiers:[uo,go,co,io]}),vo=bi({defaultModifiers:[uo,go,co,io,Iu,Su,Au,wu,Mu]});const Ou=Object.freeze(Object.defineProperty({__proto__:null,afterMain:uu,afterRead:ou,afterWrite:mu,applyStyles:io,arrow:wu,auto:gi,basePlacements:ks,beforeMain:au,beforeRead:iu,beforeWrite:du,bottom:vt,clippingParents:su,computeStyles:co,createPopper:vo,createPopperBase:ig,createPopperLite:lg,detectOverflow:Ms,end:js,eventListeners:uo,flip:Su,hide:Mu,left:st,main:cu,modifierPhases:pu,offset:Iu,placements:so,popper:Ns,popperGenerator:bi,popperOffsets:go,preventOverflow:Au,read:lu,reference:ru,right:yt,start:Hn,top:nt,variationPlacements:no,viewport:to,write:fu},Symbol.toStringTag,{value:"Module"})),Lu="dropdown",Gn=".bs.dropdown",yo=".data-api",og="ArrowUp",$u="ArrowDown",ag=`hide${Gn}`,cg=`hidden${Gn}`,ug=`show${Gn}`,dg=`shown${Gn}`,Du=`click${Gn}${yo}`,Ru=`keydown${Gn}${yo}`,fg=`keyup${Gn}${yo}`,Is="show",Kn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',mg=`${Kn}.${Is}`,_i=".dropdown-menu",pg=C()?"top-end":"top-start",hg=C()?"top-start":"top-end",gg=C()?"bottom-end":"bottom-start",vg=C()?"bottom-start":"bottom-end",yg=C()?"left-start":"right-start",xg=C()?"right-start":"left-start",wg={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},bg={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Bt extends T{constructor(l,u){super(l,u),this._popper=null,this._parent=this._element.parentNode,this._menu=A.next(this._element,_i)[0]||A.prev(this._element,_i)[0]||A.findOne(_i,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return wg}static get DefaultType(){return bg}static get NAME(){return Lu}toggle(){return this._isShown()?this.hide():this.show()}show(){if(v(this._element)||this._isShown())return;const l={relatedTarget:this._element};if(!E.trigger(this._element,ug,l).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const u of[].concat(...document.body.children))E.on(u,"mouseover",p);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Is),this._element.classList.add(Is),E.trigger(this._element,dg,l)}}hide(){if(v(this._element)||!this._isShown())return;const l={relatedTarget:this._element};this._completeHide(l)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(l){if(!E.trigger(this._element,ag,l).defaultPrevented){if("ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))E.off(u,"mouseover",p);this._popper&&this._popper.destroy(),this._menu.classList.remove(Is),this._element.classList.remove(Is),this._element.setAttribute("aria-expanded","false"),I.removeDataAttribute(this._menu,"popper"),E.trigger(this._element,cg,l),this._element.focus()}}_getConfig(l){if(typeof(l=super._getConfig(l)).reference=="object"&&!c(l.reference)&&typeof l.reference.getBoundingClientRect!="function")throw new TypeError(`${Lu.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return l}_createPopper(){if(Ou===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let l=this._element;this._config.reference==="parent"?l=this._parent:c(this._config.reference)?l=f(this._config.reference):typeof this._config.reference=="object"&&(l=this._config.reference);const u=this._getPopperConfig();this._popper=vo(l,this._menu,u)}_isShown(){return this._menu.classList.contains(Is)}_getPlacement(){const l=this._parent;if(l.classList.contains("dropend"))return yg;if(l.classList.contains("dropstart"))return xg;if(l.classList.contains("dropup-center"))return"top";if(l.classList.contains("dropdown-center"))return"bottom";const u=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return l.classList.contains("dropup")?u?hg:pg:u?vg:gg}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:l}=this._config;return typeof l=="string"?l.split(",").map(u=>Number.parseInt(u,10)):typeof l=="function"?u=>l(u,this._element):l}_getPopperConfig(){const l={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(I.setDataAttribute(this._menu,"popper","static"),l.modifiers=[{name:"applyStyles",enabled:!1}]),{...l,...x(this._config.popperConfig,[void 0,l])}}_selectMenuItem({key:l,target:u}){const h=A.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(k=>d(k));h.length&&O(h,u,l===$u,!h.includes(u)).focus()}static jQueryInterface(l){return this.each(function(){const u=Bt.getOrCreateInstance(this,l);if(typeof l=="string"){if(u[l]===void 0)throw new TypeError(`No method named "${l}"`);u[l]()}})}static clearMenus(l){if(l.button===2||l.type==="keyup"&&l.key!=="Tab")return;const u=A.find(mg);for(const h of u){const k=Bt.getInstance(h);if(!k||k._config.autoClose===!1)continue;const j=l.composedPath(),M=j.includes(k._menu);if(j.includes(k._element)||k._config.autoClose==="inside"&&!M||k._config.autoClose==="outside"&&M||k._menu.contains(l.target)&&(l.type==="keyup"&&l.key==="Tab"||/input|select|option|textarea|form/i.test(l.target.tagName)))continue;const D={relatedTarget:k._element};l.type==="click"&&(D.clickEvent=l),k._completeHide(D)}}static dataApiKeydownHandler(l){const u=/input|textarea/i.test(l.target.tagName),h=l.key==="Escape",k=[og,$u].includes(l.key);if(!k&&!h||u&&!h)return;l.preventDefault();const j=this.matches(Kn)?this:A.prev(this,Kn)[0]||A.next(this,Kn)[0]||A.findOne(Kn,l.delegateTarget.parentNode),M=Bt.getOrCreateInstance(j);if(k)return l.stopPropagation(),M.show(),void M._selectMenuItem(l);M._isShown()&&(l.stopPropagation(),M.hide(),j.focus())}}E.on(document,Ru,Kn,Bt.dataApiKeydownHandler),E.on(document,Ru,_i,Bt.dataApiKeydownHandler),E.on(document,Du,Bt.clearMenus),E.on(document,fg,Bt.clearMenus),E.on(document,Du,Kn,function(m){m.preventDefault(),Bt.getOrCreateInstance(this).toggle()}),w(Bt);const zu="backdrop",Fu="show",Bu=`mousedown.bs.${zu}`,_g={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},kg={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Uu extends R{constructor(l){super(),this._config=this._getConfig(l),this._isAppended=!1,this._element=null}static get Default(){return _g}static get DefaultType(){return kg}static get NAME(){return zu}show(l){if(!this._config.isVisible)return void x(l);this._append();const u=this._getElement();this._config.isAnimated&&y(u),u.classList.add(Fu),this._emulateAnimation(()=>{x(l)})}hide(l){this._config.isVisible?(this._getElement().classList.remove(Fu),this._emulateAnimation(()=>{this.dispose(),x(l)})):x(l)}dispose(){this._isAppended&&(E.off(this._element,Bu),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const l=document.createElement("div");l.className=this._config.className,this._config.isAnimated&&l.classList.add("fade"),this._element=l}return this._element}_configAfterMerge(l){return l.rootElement=f(l.rootElement),l}_append(){if(this._isAppended)return;const l=this._getElement();this._config.rootElement.append(l),E.on(l,Bu,()=>{x(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(l){b(l,this._getElement(),this._config.isAnimated)}}const ki=".bs.focustrap",jg=`focusin${ki}`,Ng=`keydown.tab${ki}`,qu="backward",Sg={autofocus:!0,trapElement:null},Eg={autofocus:"boolean",trapElement:"element"};class Wu extends R{constructor(l){super(),this._config=this._getConfig(l),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Sg}static get DefaultType(){return Eg}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),E.off(document,ki),E.on(document,jg,l=>this._handleFocusin(l)),E.on(document,Ng,l=>this._handleKeydown(l)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,E.off(document,ki))}_handleFocusin(l){const{trapElement:u}=this._config;if(l.target===document||l.target===u||u.contains(l.target))return;const h=A.focusableChildren(u);h.length===0?u.focus():this._lastTabNavDirection===qu?h[h.length-1].focus():h[0].focus()}_handleKeydown(l){l.key==="Tab"&&(this._lastTabNavDirection=l.shiftKey?qu:"forward")}}const Hu=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Vu=".sticky-top",ji="padding-right",Qu="margin-right";class xo{constructor(){this._element=document.body}getWidth(){const l=document.documentElement.clientWidth;return Math.abs(window.innerWidth-l)}hide(){const l=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ji,u=>u+l),this._setElementAttributes(Hu,ji,u=>u+l),this._setElementAttributes(Vu,Qu,u=>u-l)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ji),this._resetElementAttributes(Hu,ji),this._resetElementAttributes(Vu,Qu)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(l,u,h){const k=this.getWidth();this._applyManipulationCallback(l,j=>{if(j!==this._element&&window.innerWidth>j.clientWidth+k)return;this._saveInitialAttribute(j,u);const M=window.getComputedStyle(j).getPropertyValue(u);j.style.setProperty(u,`${h(Number.parseFloat(M))}px`)})}_saveInitialAttribute(l,u){const h=l.style.getPropertyValue(u);h&&I.setDataAttribute(l,u,h)}_resetElementAttributes(l,u){this._applyManipulationCallback(l,h=>{const k=I.getDataAttribute(h,u);k!==null?(I.removeDataAttribute(h,u),h.style.setProperty(u,k)):h.style.removeProperty(u)})}_applyManipulationCallback(l,u){if(c(l))u(l);else for(const h of A.find(l,this._element))u(h)}}const Ct=".bs.modal",Cg=`hide${Ct}`,Mg=`hidePrevented${Ct}`,Gu=`hidden${Ct}`,Ku=`show${Ct}`,Ig=`shown${Ct}`,Ag=`resize${Ct}`,Pg=`click.dismiss${Ct}`,Tg=`mousedown.dismiss${Ct}`,Og=`keydown.dismiss${Ct}`,Lg=`click${Ct}.data-api`,Xu="modal-open",Yu="show",wo="modal-static",$g={backdrop:!0,focus:!0,keyboard:!0},Dg={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Xn extends T{constructor(l,u){super(l,u),this._dialog=A.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new xo,this._addEventListeners()}static get Default(){return $g}static get DefaultType(){return Dg}static get NAME(){return"modal"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||this._isTransitioning||E.trigger(this._element,Ku,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Xu),this._adjustDialog(),this._backdrop.show(()=>this._showElement(l)))}hide(){this._isShown&&!this._isTransitioning&&(E.trigger(this._element,Cg).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Yu),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){E.off(window,Ct),E.off(this._dialog,Ct),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Uu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Wu({trapElement:this._element})}_showElement(l){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const u=A.findOne(".modal-body",this._dialog);u&&(u.scrollTop=0),y(this._element),this._element.classList.add(Yu),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,E.trigger(this._element,Ig,{relatedTarget:l})},this._dialog,this._isAnimated())}_addEventListeners(){E.on(this._element,Og,l=>{l.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),E.on(window,Ag,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),E.on(this._element,Tg,l=>{E.one(this._element,Pg,u=>{this._element===l.target&&this._element===u.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Xu),this._resetAdjustments(),this._scrollBar.reset(),E.trigger(this._element,Gu)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(E.trigger(this._element,Mg).defaultPrevented)return;const l=this._element.scrollHeight>document.documentElement.clientHeight,u=this._element.style.overflowY;u==="hidden"||this._element.classList.contains(wo)||(l||(this._element.style.overflowY="hidden"),this._element.classList.add(wo),this._queueCallback(()=>{this._element.classList.remove(wo),this._queueCallback(()=>{this._element.style.overflowY=u},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const l=this._element.scrollHeight>document.documentElement.clientHeight,u=this._scrollBar.getWidth(),h=u>0;if(h&&!l){const k=C()?"paddingLeft":"paddingRight";this._element.style[k]=`${u}px`}if(!h&&l){const k=C()?"paddingRight":"paddingLeft";this._element.style[k]=`${u}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(l,u){return this.each(function(){const h=Xn.getOrCreateInstance(this,l);if(typeof l=="string"){if(h[l]===void 0)throw new TypeError(`No method named "${l}"`);h[l](u)}})}}E.on(document,Lg,'[data-bs-toggle="modal"]',function(m){const l=A.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&m.preventDefault(),E.one(l,Ku,h=>{h.defaultPrevented||E.one(l,Gu,()=>{d(this)&&this.focus()})});const u=A.findOne(".modal.show");u&&Xn.getInstance(u).hide(),Xn.getOrCreateInstance(l).toggle(this)}),F(Xn),w(Xn);const an=".bs.offcanvas",Ju=".data-api",Rg=`load${an}${Ju}`,Zu="show",ed="showing",td="hiding",nd=".offcanvas.show",zg=`show${an}`,Fg=`shown${an}`,Bg=`hide${an}`,sd=`hidePrevented${an}`,rd=`hidden${an}`,Ug=`resize${an}`,qg=`click${an}${Ju}`,Wg=`keydown.dismiss${an}`,Hg={backdrop:!0,keyboard:!0,scroll:!1},Vg={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class cn extends T{constructor(l,u){super(l,u),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Hg}static get DefaultType(){return Vg}static get NAME(){return"offcanvas"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||E.trigger(this._element,zg,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new xo().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ed),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Zu),this._element.classList.remove(ed),E.trigger(this._element,Fg,{relatedTarget:l})},this._element,!0))}hide(){this._isShown&&(E.trigger(this._element,Bg).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(td),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Zu,td),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new xo().reset(),E.trigger(this._element,rd)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=!!this._config.backdrop;return new Uu({className:"offcanvas-backdrop",isVisible:l,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:l?()=>{this._config.backdrop!=="static"?this.hide():E.trigger(this._element,sd)}:null})}_initializeFocusTrap(){return new Wu({trapElement:this._element})}_addEventListeners(){E.on(this._element,Wg,l=>{l.key==="Escape"&&(this._config.keyboard?this.hide():E.trigger(this._element,sd))})}static jQueryInterface(l){return this.each(function(){const u=cn.getOrCreateInstance(this,l);if(typeof l=="string"){if(u[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);u[l](this)}})}}E.on(document,qg,'[data-bs-toggle="offcanvas"]',function(m){const l=A.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&m.preventDefault(),v(this))return;E.one(l,rd,()=>{d(this)&&this.focus()});const u=A.findOne(nd);u&&u!==l&&cn.getInstance(u).hide(),cn.getOrCreateInstance(l).toggle(this)}),E.on(window,Rg,()=>{for(const m of A.find(nd))cn.getOrCreateInstance(m).show()}),E.on(window,Ug,()=>{for(const m of A.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(m).position!=="fixed"&&cn.getOrCreateInstance(m).hide()}),F(cn),w(cn);const id={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Qg=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Gg=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Kg=(m,l)=>{const u=m.nodeName.toLowerCase();return l.includes(u)?!Qg.has(u)||!!Gg.test(m.nodeValue):l.filter(h=>h instanceof RegExp).some(h=>h.test(u))},Xg={allowList:id,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Yg={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Jg={entry:"(string|element|function|null)",selector:"(string|element)"};class Zg extends R{constructor(l){super(),this._config=this._getConfig(l)}static get Default(){return Xg}static get DefaultType(){return Yg}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(l=>this._resolvePossibleFunction(l)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(l){return this._checkContent(l),this._config.content={...this._config.content,...l},this}toHtml(){const l=document.createElement("div");l.innerHTML=this._maybeSanitize(this._config.template);for(const[k,j]of Object.entries(this._config.content))this._setContent(l,j,k);const u=l.children[0],h=this._resolvePossibleFunction(this._config.extraClass);return h&&u.classList.add(...h.split(" ")),u}_typeCheckConfig(l){super._typeCheckConfig(l),this._checkContent(l.content)}_checkContent(l){for(const[u,h]of Object.entries(l))super._typeCheckConfig({selector:u,entry:h},Jg)}_setContent(l,u,h){const k=A.findOne(h,l);k&&((u=this._resolvePossibleFunction(u))?c(u)?this._putElementInTemplate(f(u),k):this._config.html?k.innerHTML=this._maybeSanitize(u):k.textContent=u:k.remove())}_maybeSanitize(l){return this._config.sanitize?function(u,h,k){if(!u.length)return u;if(k&&typeof k=="function")return k(u);const j=new window.DOMParser().parseFromString(u,"text/html"),M=[].concat(...j.body.querySelectorAll("*"));for(const D of M){const q=D.nodeName.toLowerCase();if(!Object.keys(h).includes(q)){D.remove();continue}const G=[].concat(...D.attributes),X=[].concat(h["*"]||[],h[q]||[]);for(const H of G)Kg(H,X)||D.removeAttribute(H.nodeName)}return j.body.innerHTML}(l,this._config.allowList,this._config.sanitizeFn):l}_resolvePossibleFunction(l){return x(l,[void 0,this])}_putElementInTemplate(l,u){if(this._config.html)return u.innerHTML="",void u.append(l);u.textContent=l.textContent}}const ev=new Set(["sanitize","allowList","sanitizeFn"]),bo="fade",Ni="show",tv=".tooltip-inner",ld=".modal",od="hide.bs.modal",yr="hover",_o="focus",ko="click",nv={AUTO:"auto",TOP:"top",RIGHT:C()?"left":"right",BOTTOM:"bottom",LEFT:C()?"right":"left"},sv={allowList:id,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},rv={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Yn extends T{constructor(l,u){if(Ou===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(l,u),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return sv}static get DefaultType(){return rv}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),E.off(this._element.closest(ld),od,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const l=E.trigger(this._element,this.constructor.eventName("show")),u=(g(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(l.defaultPrevented||!u)return;this._disposePopper();const h=this._getTipElement();this._element.setAttribute("aria-describedby",h.getAttribute("id"));const{container:k}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(k.append(h),E.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(h),h.classList.add(Ni),"ontouchstart"in document.documentElement)for(const j of[].concat(...document.body.children))E.on(j,"mouseover",p);this._queueCallback(()=>{E.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!E.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Ni),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))E.off(l,"mouseover",p);this._activeTrigger[ko]=!1,this._activeTrigger[_o]=!1,this._activeTrigger[yr]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),E.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(l){const u=this._getTemplateFactory(l).toHtml();if(!u)return null;u.classList.remove(bo,Ni),u.classList.add(`bs-${this.constructor.NAME}-auto`);const h=(k=>{do k+=Math.floor(1e6*Math.random());while(document.getElementById(k));return k})(this.constructor.NAME).toString();return u.setAttribute("id",h),this._isAnimated()&&u.classList.add(bo),u}setContent(l){this._newContent=l,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(l){return this._templateFactory?this._templateFactory.changeContent(l):this._templateFactory=new Zg({...this._config,content:l,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[tv]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(l){return this.constructor.getOrCreateInstance(l.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(bo)}_isShown(){return this.tip&&this.tip.classList.contains(Ni)}_createPopper(l){const u=x(this._config.placement,[this,l,this._element]),h=nv[u.toUpperCase()];return vo(this._element,l,this._getPopperConfig(h))}_getOffset(){const{offset:l}=this._config;return typeof l=="string"?l.split(",").map(u=>Number.parseInt(u,10)):typeof l=="function"?u=>l(u,this._element):l}_resolvePossibleFunction(l){return x(l,[this._element,this._element])}_getPopperConfig(l){const u={placement:l,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:h=>{this._getTipElement().setAttribute("data-popper-placement",h.state.placement)}}]};return{...u,...x(this._config.popperConfig,[void 0,u])}}_setListeners(){const l=this._config.trigger.split(" ");for(const u of l)if(u==="click")E.on(this._element,this.constructor.eventName("click"),this._config.selector,h=>{const k=this._initializeOnDelegatedTarget(h);k._activeTrigger[ko]=!(k._isShown()&&k._activeTrigger[ko]),k.toggle()});else if(u!=="manual"){const h=u===yr?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),k=u===yr?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");E.on(this._element,h,this._config.selector,j=>{const M=this._initializeOnDelegatedTarget(j);M._activeTrigger[j.type==="focusin"?_o:yr]=!0,M._enter()}),E.on(this._element,k,this._config.selector,j=>{const M=this._initializeOnDelegatedTarget(j);M._activeTrigger[j.type==="focusout"?_o:yr]=M._element.contains(j.relatedTarget),M._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},E.on(this._element.closest(ld),od,this._hideModalHandler)}_fixTitle(){const l=this._element.getAttribute("title");l&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",l),this._element.setAttribute("data-bs-original-title",l),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(l,u){clearTimeout(this._timeout),this._timeout=setTimeout(l,u)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(l){const u=I.getDataAttributes(this._element);for(const h of Object.keys(u))ev.has(h)&&delete u[h];return l={...u,...typeof l=="object"&&l?l:{}},l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l.container=l.container===!1?document.body:f(l.container),typeof l.delay=="number"&&(l.delay={show:l.delay,hide:l.delay}),typeof l.title=="number"&&(l.title=l.title.toString()),typeof l.content=="number"&&(l.content=l.content.toString()),l}_getDelegateConfig(){const l={};for(const[u,h]of Object.entries(this._config))this.constructor.Default[u]!==h&&(l[u]=h);return l.selector=!1,l.trigger="manual",l}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(l){return this.each(function(){const u=Yn.getOrCreateInstance(this,l);if(typeof l=="string"){if(u[l]===void 0)throw new TypeError(`No method named "${l}"`);u[l]()}})}}w(Yn);const iv=".popover-header",lv=".popover-body",ov={...Yn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},av={...Yn.DefaultType,content:"(null|string|element|function)"};class Si extends Yn{static get Default(){return ov}static get DefaultType(){return av}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[iv]:this._getTitle(),[lv]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(l){return this.each(function(){const u=Si.getOrCreateInstance(this,l);if(typeof l=="string"){if(u[l]===void 0)throw new TypeError(`No method named "${l}"`);u[l]()}})}}w(Si);const jo=".bs.scrollspy",cv=`activate${jo}`,ad=`click${jo}`,uv=`load${jo}.data-api`,As="active",No="[href]",cd=".nav-link",dv=`${cd}, .nav-item > ${cd}, .list-group-item`,fv={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},mv={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class xr extends T{constructor(l,u){super(l,u),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return fv}static get DefaultType(){return mv}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const l of this._observableSections.values())this._observer.observe(l)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(l){return l.target=f(l.target)||document.body,l.rootMargin=l.offset?`${l.offset}px 0px -30%`:l.rootMargin,typeof l.threshold=="string"&&(l.threshold=l.threshold.split(",").map(u=>Number.parseFloat(u))),l}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(E.off(this._config.target,ad),E.on(this._config.target,ad,No,l=>{const u=this._observableSections.get(l.target.hash);if(u){l.preventDefault();const h=this._rootElement||window,k=u.offsetTop-this._element.offsetTop;if(h.scrollTo)return void h.scrollTo({top:k,behavior:"smooth"});h.scrollTop=k}}))}_getNewObserver(){const l={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(u=>this._observerCallback(u),l)}_observerCallback(l){const u=M=>this._targetLinks.get(`#${M.target.id}`),h=M=>{this._previousScrollData.visibleEntryTop=M.target.offsetTop,this._process(u(M))},k=(this._rootElement||document.documentElement).scrollTop,j=k>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=k;for(const M of l){if(!M.isIntersecting){this._activeTarget=null,this._clearActiveClass(u(M));continue}const D=M.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(j&&D){if(h(M),!k)return}else j||D||h(M)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const l=A.find(No,this._config.target);for(const u of l){if(!u.hash||v(u))continue;const h=A.findOne(decodeURI(u.hash),this._element);d(h)&&(this._targetLinks.set(decodeURI(u.hash),u),this._observableSections.set(u.hash,h))}}_process(l){this._activeTarget!==l&&(this._clearActiveClass(this._config.target),this._activeTarget=l,l.classList.add(As),this._activateParents(l),E.trigger(this._element,cv,{relatedTarget:l}))}_activateParents(l){if(l.classList.contains("dropdown-item"))A.findOne(".dropdown-toggle",l.closest(".dropdown")).classList.add(As);else for(const u of A.parents(l,".nav, .list-group"))for(const h of A.prev(u,dv))h.classList.add(As)}_clearActiveClass(l){l.classList.remove(As);const u=A.find(`${No}.${As}`,l);for(const h of u)h.classList.remove(As)}static jQueryInterface(l){return this.each(function(){const u=xr.getOrCreateInstance(this,l);if(typeof l=="string"){if(u[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);u[l]()}})}}E.on(window,uv,()=>{for(const m of A.find('[data-bs-spy="scroll"]'))xr.getOrCreateInstance(m)}),w(xr);const Jn=".bs.tab",pv=`hide${Jn}`,hv=`hidden${Jn}`,gv=`show${Jn}`,vv=`shown${Jn}`,yv=`click${Jn}`,xv=`keydown${Jn}`,wv=`load${Jn}`,bv="ArrowLeft",ud="ArrowRight",_v="ArrowUp",dd="ArrowDown",So="Home",fd="End",Zn="active",md="fade",Eo="show",pd=".dropdown-toggle",Co=`:not(${pd})`,hd='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Mo=`.nav-link${Co}, .list-group-item${Co}, [role="tab"]${Co}, ${hd}`,kv=`.${Zn}[data-bs-toggle="tab"], .${Zn}[data-bs-toggle="pill"], .${Zn}[data-bs-toggle="list"]`;class es extends T{constructor(l){super(l),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),E.on(this._element,xv,u=>this._keydown(u)))}static get NAME(){return"tab"}show(){const l=this._element;if(this._elemIsActive(l))return;const u=this._getActiveElem(),h=u?E.trigger(u,pv,{relatedTarget:l}):null;E.trigger(l,gv,{relatedTarget:u}).defaultPrevented||h&&h.defaultPrevented||(this._deactivate(u,l),this._activate(l,u))}_activate(l,u){l&&(l.classList.add(Zn),this._activate(A.getElementFromSelector(l)),this._queueCallback(()=>{l.getAttribute("role")==="tab"?(l.removeAttribute("tabindex"),l.setAttribute("aria-selected",!0),this._toggleDropDown(l,!0),E.trigger(l,vv,{relatedTarget:u})):l.classList.add(Eo)},l,l.classList.contains(md)))}_deactivate(l,u){l&&(l.classList.remove(Zn),l.blur(),this._deactivate(A.getElementFromSelector(l)),this._queueCallback(()=>{l.getAttribute("role")==="tab"?(l.setAttribute("aria-selected",!1),l.setAttribute("tabindex","-1"),this._toggleDropDown(l,!1),E.trigger(l,hv,{relatedTarget:u})):l.classList.remove(Eo)},l,l.classList.contains(md)))}_keydown(l){if(![bv,ud,_v,dd,So,fd].includes(l.key))return;l.stopPropagation(),l.preventDefault();const u=this._getChildren().filter(k=>!v(k));let h;if([So,fd].includes(l.key))h=u[l.key===So?0:u.length-1];else{const k=[ud,dd].includes(l.key);h=O(u,l.target,k,!0)}h&&(h.focus({preventScroll:!0}),es.getOrCreateInstance(h).show())}_getChildren(){return A.find(Mo,this._parent)}_getActiveElem(){return this._getChildren().find(l=>this._elemIsActive(l))||null}_setInitialAttributes(l,u){this._setAttributeIfNotExists(l,"role","tablist");for(const h of u)this._setInitialAttributesOnChild(h)}_setInitialAttributesOnChild(l){l=this._getInnerElement(l);const u=this._elemIsActive(l),h=this._getOuterElement(l);l.setAttribute("aria-selected",u),h!==l&&this._setAttributeIfNotExists(h,"role","presentation"),u||l.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(l,"role","tab"),this._setInitialAttributesOnTargetPanel(l)}_setInitialAttributesOnTargetPanel(l){const u=A.getElementFromSelector(l);u&&(this._setAttributeIfNotExists(u,"role","tabpanel"),l.id&&this._setAttributeIfNotExists(u,"aria-labelledby",`${l.id}`))}_toggleDropDown(l,u){const h=this._getOuterElement(l);if(!h.classList.contains("dropdown"))return;const k=(j,M)=>{const D=A.findOne(j,h);D&&D.classList.toggle(M,u)};k(pd,Zn),k(".dropdown-menu",Eo),h.setAttribute("aria-expanded",u)}_setAttributeIfNotExists(l,u,h){l.hasAttribute(u)||l.setAttribute(u,h)}_elemIsActive(l){return l.classList.contains(Zn)}_getInnerElement(l){return l.matches(Mo)?l:A.findOne(Mo,l)}_getOuterElement(l){return l.closest(".nav-item, .list-group-item")||l}static jQueryInterface(l){return this.each(function(){const u=es.getOrCreateInstance(this);if(typeof l=="string"){if(u[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);u[l]()}})}}E.on(document,yv,hd,function(m){["A","AREA"].includes(this.tagName)&&m.preventDefault(),v(this)||es.getOrCreateInstance(this).show()}),E.on(window,wv,()=>{for(const m of A.find(kv))es.getOrCreateInstance(m)}),w(es);const _n=".bs.toast",jv=`mouseover${_n}`,Nv=`mouseout${_n}`,Sv=`focusin${_n}`,Ev=`focusout${_n}`,Cv=`hide${_n}`,Mv=`hidden${_n}`,Iv=`show${_n}`,Av=`shown${_n}`,gd="hide",Ei="show",Ci="showing",Pv={animation:"boolean",autohide:"boolean",delay:"number"},Tv={animation:!0,autohide:!0,delay:5e3};class wr extends T{constructor(l,u){super(l,u),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Tv}static get DefaultType(){return Pv}static get NAME(){return"toast"}show(){E.trigger(this._element,Iv).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(gd),y(this._element),this._element.classList.add(Ei,Ci),this._queueCallback(()=>{this._element.classList.remove(Ci),E.trigger(this._element,Av),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(E.trigger(this._element,Cv).defaultPrevented||(this._element.classList.add(Ci),this._queueCallback(()=>{this._element.classList.add(gd),this._element.classList.remove(Ci,Ei),E.trigger(this._element,Mv)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ei),super.dispose()}isShown(){return this._element.classList.contains(Ei)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(l,u){switch(l.type){case"mouseover":case"mouseout":this._hasMouseInteraction=u;break;case"focusin":case"focusout":this._hasKeyboardInteraction=u}if(u)return void this._clearTimeout();const h=l.relatedTarget;this._element===h||this._element.contains(h)||this._maybeScheduleHide()}_setListeners(){E.on(this._element,jv,l=>this._onInteraction(l,!0)),E.on(this._element,Nv,l=>this._onInteraction(l,!1)),E.on(this._element,Sv,l=>this._onInteraction(l,!0)),E.on(this._element,Ev,l=>this._onInteraction(l,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(l){return this.each(function(){const u=wr.getOrCreateInstance(this,l);if(typeof l=="string"){if(u[l]===void 0)throw new TypeError(`No method named "${l}"`);u[l](this)}})}}return F(wr),w(wr),{Alert:se,Button:tt,Carousel:ws,Collapse:_s,Dropdown:Bt,Modal:Xn,Offcanvas:cn,Popover:Si,ScrollSpy:xr,Tab:es,Toast:wr,Tooltip:Yn}})})(g0);let as=[],Ff=!1;async function v0(){if(Ff&&as.length)return as;try{const e=await fetch("/adventurers/manifest.json",{cache:"no-cache"});e.ok&&(as=await e.json(),Ff=!0)}catch(e){console.warn("Failed to load portrait manifest",e)}return as}function y0(){return as.length?`/adventurers/${as[Math.floor(Math.random()*as.length)]}`:null}const Bf=["heroic","cunning","stoic","chaotic","scholar"],Uf=["Aria","Hana","Eira","Juno","Lyra","Mina","Nadia","Ophelia","Rin","Sera","Talia","Yuna"],qf=["Borin","Caius","Fynn","Garruk","Kai","Leon","Rook","Sylas"],Wf=["Human","Elf","Catfolk","Dragonkin"],Hf=["black","brown","blonde","silver","red","white","blue"],Vf=["brown","green","blue","amber","violet","gold"],Qf=["elegant","cute","athletic","mysterious","cheerful","stoic","noble","graceful"];function x0(e="id"){return`${e}_${Math.random().toString(36).slice(2,9)}`}async function dh(e,t){const n=[{k:"Warrior",primaryStat:"str",secondaryStat:"defense"},{k:"Mage",primaryStat:"mag",secondaryStat:"resistance"},{k:"Rogue",primaryStat:"skill",secondaryStat:"speed"},{k:"Cleric",primaryStat:"mag",secondaryStat:"luck"},{k:"Ranger",primaryStat:"skill",secondaryStat:"speed"}],s=3+Math.floor(e/10),r=Math.min(10,Math.max(3,s)),i=[];for(let a=0;a<r;a++){const c=n[Math.floor(Math.random()*n.length)],f=Math.max(1,Math.min(10,1+Math.floor(e/10)+Math.floor(Math.random()*4)-1)),d=Math.random()<.99,v=d?"female":"male",g=d?"♀️":"♂️",p=Wf[Math.floor(Math.random()*Wf.length)],y=Hf[Math.floor(Math.random()*Hf.length)],_=Vf[Math.floor(Math.random()*Vf.length)],S=Qf[Math.floor(Math.random()*Qf.length)],C=Math.max(6,Math.min(10,6+Math.floor(e/25)+(Math.floor(Math.random()*3)-1))),w=`${g} ${S} ${p.toLowerCase()} with ${y} hair and ${_} eyes; beauty ${C}/10`,x=Math.max(1,Math.min(20,Math.floor(Math.random()*5)+2+(c.primaryStat==="str"?f:0))),b=Math.max(1,Math.min(20,Math.floor(Math.random()*5)+2+(c.primaryStat==="mag"?f:0))),O=Math.max(1,Math.min(20,Math.floor(Math.random()*5)+2+(c.primaryStat==="skill"?f:0))),U=Math.max(1,Math.min(10,1+Math.floor(Math.random()*3)+(c.secondaryStat==="speed"?f:0))),N=Math.max(1,Math.min(20,Math.floor(Math.random()*5)+2+(c.primaryStat==="luck"?f:0))),P=Math.max(1,Math.min(20,Math.floor(Math.random()*5)+2+(c.secondaryStat==="defense"?f:0))),B=Math.max(1,Math.min(20,Math.floor(Math.random()*5)+2+(c.secondaryStat==="resistance"?f:0))),oe=10+Math.floor(Math.random()*11)+f*2,J=5+Math.floor((x+b+O+U+N+P+B)/7),fe=1,Fe=Math.floor(Math.random()*(4-fe+1))+fe,Ze=c.k==="Warrior"?["Slash"]:c.k==="Mage"?["Fireball"]:c.k==="Rogue"?["Backstab"]:c.k==="Cleric"?["Heal"]:["Aim"],zt=["1","1754849867652","1754864404298","1754864425962","1754864563561","1754864578481","1754879231663"],et=[{id:zt[Math.floor(Math.random()*zt.length)],qty:1}];i.push({id:x0("cand"),name:`${(d?Uf:qf)[Math.floor(Math.random()*(d?Uf.length:qf.length))]} ${Math.floor(Math.random()*99)+1}`,class:c.k,personality:Bf[Math.floor(Math.random()*Bf.length)],gender:v,appearance:w,avatar:y0(),stats:{str:x,mag:b,skill:O,speed:U,luck:N,defense:P,resistance:B,hp:oe},upkeep:J,skills:Ze,weekAppeared:t,expiresOnWeek:t+Fe,starterItems:et})}return i}function fh(e,t){e.money=Math.max(0,Math.floor(e.money-t))}function Kc(e){const t=e.members.reduce((s,r)=>s+(r.upkeep||0),0),n=(e.modifiers.upkeepDeltaPerMember||0)*e.members.length;return Math.max(0,Math.floor(t+n))}const mh={fast:e=>Math.floor(e*e*50),normal:e=>Math.floor(e*e*100),slow:e=>Math.floor(e*e*200),erratic:e=>e%3===0?Math.floor(e*e*75):e%5===0?Math.floor(e*e*300):Math.floor(e*e*150)};function Ql(e){const t=e.level+1;return mh[e.experienceCurve](t)}function w0(e){return e.level<=1?0:mh[e.experienceCurve](e.level)}function ph(e){const t=w0(e),n=Ql(e),s=e.experience-t,r=n-t;return Math.max(0,Math.min(1,s/r))}function Za(e,t){let n=!1,s=0;for(e.experience+=t;e.experience>=Ql(e);)e.level+=1,n=!0,s+=1,b0(e),_0(e);return{leveledUp:n,levelsGained:s}}function b0(e){const t=e.stats;if(!t)return;const n=Math.floor(Math.random()*2)+1,s=["str","mag","skill","speed","luck","defense","resistance"],r=Math.floor(Math.random()*2)+1;for(let i=0;i<r;i++){const a=s[Math.floor(Math.random()*s.length)];a&&typeof t[a]=="number"&&(t[a]=t[a]+n)}}function _0(e){const t=Math.floor(Math.random()*4)+2;if(e.hpMax+=t,e.hp=Math.min(e.hp+t,e.hpMax),typeof e.mpMax=="number"&&e.mpMax>0){const n=Math.floor(Math.random()*3)+1;e.mpMax+=n,e.mp=Math.min((e.mp||0)+n,e.mpMax)}Math.random()<.3&&(e.speed+=1)}function k0(e){switch(e){case"fast":return"Fast learner - gains levels quickly";case"normal":return"Standard progression - balanced growth";case"slow":return"Slow learner - takes time but becomes powerful";case"erratic":return"Unpredictable - sometimes fast, sometimes slow";default:return"Unknown progression type"}}function hh(e){switch(e){case"fast":return"🚀";case"normal":return"📈";case"slow":return"🐌";case"erratic":return"🎲";default:return"❓"}}const j0=400,N0=400;function gh(e,t){e.length>t&&(e.length=t)}function S0(e,t){const n=[];return n.push(e),n.join(" ")}function ne(e,t,n){e.logs=e.logs||{events:[],battle:[]},e.logs.events=e.logs.events||[],e.logs.events.unshift(S0(t)),gh(e.logs.events,j0)}function Mr(e,t,n){e.logs=e.logs||{events:[],battle:[]},e.logs.battle=e.logs.battle||[];const s=t;e.logs.battle.unshift(s),gh(e.logs.battle,N0)}function vh(e="quest"){return`${e}_${Math.random().toString(36).slice(2,9)}`}function ec(e){const t=e.stats||{str:5,mag:5,skill:5,luck:5,defense:3,resistance:3},n=Math.max(t.str,t.mag),s=Math.min(t.defense,t.resistance),r=t.skill+t.luck;return n+s+Math.floor(r/2)+Math.floor(e.speed||1)}function Xc(e,t,n){return e.members.find(i=>i.id===t),e.quests.some(i=>i.id!==n&&(i.assigned||[]).some(a=>a.id===t))?"already assigned to another quest":(e.activeMissions||[]).some(i=>(i.party||[]).some(a=>a.id===t))?"already on a mission":null}function E0(e,t){let n,s;e<=3?(n=2,s=3):e<=6?(n=2,s=4):e<=9?(n=3,s=5):(n=4,s=7);const r=Math.floor(Math.random()*(s-n+1))+n;return t+r}const Gf=["H","G","F","E","D","C","B","A","S"];function C0(e){const t=e<10?0:e<25?2:e<50?4:6,n=Math.max(0,Math.min(Gf.length-1,Math.floor(Math.random()*3)+t));return Gf[n]}function M0(e){switch(e){case"H":return[1,2];case"G":return[2,3];case"F":return[3,4];case"E":return[4,5];case"D":return[5,6];case"C":return[7,8];case"B":return[9,10];case"A":return[12,13];default:return[14,15]}}const I0={Find:"🔎",Deliver:"📦",Escort:"🛡️",Protect:"🛡️",Kill:"⚔️"},A0=["Noble","Scholar","Merchant","Priest","Runaway","Guard Captain"],yh=["Pink Slime","Wolf","Goblin","Bandit","Orc","Blue Slime","Warg","Vampire","Dragon"],P0=["Potion","Chest","Exotic Food","Weapon","Art Object","Legendary Item"],T0=["Abandoned Mine","Cursed Chapel","Haunted Library","Forest Shrine","Mountain Pass","Sunken Ruins"];function rs(e){return e[Math.floor(Math.random()*e.length)]}function O0(e,t){const n=rs(["Find","Deliver","Escort","Protect","Kill"]),s=rs(n==="Escort"?["Person","Item"]:n==="Kill"?["Person","Monster"]:n==="Protect"?["Person","Monster","Item","Location"]:n==="Deliver"?["Person","Item","Monster"]:["Person","Monster","Item","Location"]),r=C0(e),[i,a]=M0(r),c=Math.floor(Math.random()*(a-i+1))+i,f=Math.max(1,c<=3?1:c<=6?2:c<=10?3:4+Math.floor(Math.random()*2)),d=rs(s==="Person"?A0:s==="Monster"?yh:s==="Item"?P0:T0),v=I0[n],g=n==="Find"?"Find":n==="Deliver"?"Deliver":n==="Escort"?"Escort":n==="Protect"?"Protect":"Eliminate",p=`${v} ${g} ${d}`,y=n==="Kill"||n==="Protect"?"Combat":n==="Escort"?"Exploration":"Beginner",S=c*25+Math.floor(Math.random()*15)+(n==="Kill"?20:0),C=Math.max(1,Math.floor(c/2)+(r==="S"?5:r==="A"?3:0)),w=`${g} ${d}. Rank ${r}. Trip ~${f}d.`,x=[n,s,y];return{id:vh(),name:p,desc:w,diff:c,rank:r,reward:S,fame:C,day:t,expiresOnDay:E0(c,t),daysRequired:f,type:y,tags:x,emoji:v,job:n,target:s}}function xh(e,t){const n=Math.min(8,Math.max(3,3+Math.floor(e/15))),s=[];for(let r=0;r<n;r++)s.push(O0(e,t));return s}function L0(e){const t=Math.max(1,Math.floor(e.diff/4)),n=[];for(let s=0;s<t;s++){const r=e.target==="Monster"?rs(yh):e.target==="Person"?"Bandit":"Guard",i=12+Math.floor(e.diff*2.5);n.push({id:vh("enemy"),name:r,hp:i,hpMax:i,power:6+Math.floor(e.diff/2)})}return n}function Gl(e,t,n){const s=e.party.filter(i=>i.alive!==!1).map(i=>({id:i.id,name:i.name,hp:i.hp??i.hpMax,hpMax:i.hpMax,mp:i.mp,mpMax:i.mpMax,power:ec(i)})),r=L0(e);return{missionId:e.id,questName:e.name,diff:e.diff,wave:t,wavesTotal:n,allies:s,enemies:r,turnSide:"ally",turnIndex:0,log:[`Battle begins — Wave ${t}/${n}`]}}function $0(e,t,n){const s=e.quests.find(a=>a.id===t),r=e.members.find(a=>a.id===n);if(!s||!r)return;if(e.money<Kc(e)){ne(e,`⛔ Cannot assign to ${s.name}: insufficient funds to cover daily upkeep.`);return}if(s.assigned=s.assigned||[],s.assigned.find(a=>a.id===n))return;const i=Xc(e,n,t);if(i){ne(e,`⛔ ${r.name} cannot be assigned to ${s.name}: ${i}.`);return}s.assigned.push(r)}function D0(e,t,n){const s=e.quests.find(r=>r.id===t);s&&(s.assigned=(s.assigned||[]).filter(r=>r.id!==n))}function Kf(e,t){const n=e.quests.find(d=>d.id===t);if(!n)return;const s=n.assigned||[];if(s.length===0){ne(e,"⚠️ Assign at least one member to run a quest");return}const r=s.filter(d=>Xc(e,d.id,t)==="already on a mission");if(r.length>0){ne(e,`⛔ Cannot start ${n.name}: ${r.map(d=>d.name).join(", ")} already on a mission.`);return}const i=Math.max(1,n.daysRequired||1),a={id:n.id,name:n.name,diff:n.diff,rank:n.rank,reward:n.reward,fame:n.fame,type:n.type,tags:n.tags,emoji:n.emoji,job:n.job,target:n.target,dayStarted:e.day,endOnDay:e.day+i,party:s.map(d=>({...d})),log:[`🏁 Party departed for ${n.name} (${i}d).`]},c=n.job||"Find",f=c==="Kill"?1+Math.floor(Math.random()*2):c==="Escort"||c==="Protect"?Math.floor(Math.random()*3):0;a.battlesPlanned=f,a.battlesRemaining=f,a.battlesCleared=0,e.activeMissions=e.activeMissions||[],e.activeMissions.unshift(a),ne(e,`🧭 ${s.length} set out: ${n.name}`),e.quests=e.quests.filter(d=>d.id!==t),f>0&&!e.battle&&(e.battle=Gl(a,1,f),ne(e,`⚔️ Battle begins during ${a.name}!`))}function Yc(e){if(e.money<Kc(e)){ne(e,"⛔ Cannot auto-assign: insufficient funds to cover daily upkeep.");return}const t=[...e.members].sort((n,s)=>ec(s)-ec(n));for(const n of e.quests){const s=Math.min(3,Math.max(1,Math.floor(n.diff/3)));if(n.assigned=n.assigned||[],Math.max(0,s-n.assigned.length)<=0)continue;const i=new Set(n.assigned.map(a=>a.id));for(let a=0;a<t.length&&n.assigned.length<s;a++){const c=t[a];i.has(c.id)||Xc(e,c.id,n.id)||(n.assigned.push(c),i.add(c.id),t.splice(a,1),a-=1)}}}function R0(e){if(!e.activeMissions||e.battle)return;const t=[],n=[];for(const s of e.activeMissions){if((s.battlesRemaining??0)>0){const r=s.battlesPlanned||s.battlesRemaining||1;e.battle=Gl(s,(s.battlesCleared||0)+1,r),ne(e,`⚔️ A battle erupts during ${s.name}!`);return}if(e.day>=s.endOnDay){n.push(s),ne(e,`⏰ Mission failed: ${s.name} - Time expired`);continue}if((s.battlesCleared||0)>=(s.battlesPlanned||1)){t.push(s);for(const r of s.party)if(r.alive!==!1){const i=Math.max(25,s.diff*12),a=Math.floor(s.diff/2)*8,c=(()=>{switch(s.job){case"Kill":return Math.floor(s.diff*3);case"Escort":return Math.floor(s.diff*2);case"Protect":return Math.floor(s.diff*2.5);case"Deliver":return Math.floor(s.diff*1.5);case"Find":return Math.floor(s.diff*1.8);default:return Math.floor(s.diff*1.5)}})(),f=Math.floor(Math.random()*20),d=i+a+c+f;Za(r,d).leveledUp?ne(e,`🎉 ${r.name} leveled up to Lv.${r.level}! (+${d} EXP)`):ne(e,`⭐ ${r.name} gained ${d} experience from ${s.name}`)}e.money+=s.reward,e.notoriety+=s.fame,ne(e,`💰 Mission completed: ${s.name} - +${s.reward}g, +${s.fame} notoriety`);continue}s.log.push(`Day ${e.day}: Mission continues...`)}e.activeMissions=e.activeMissions.filter(s=>!t.includes(s)&&!n.includes(s));for(const s of t)e.archives.quests.push({id:s.id,name:s.name,expiredOnDay:e.day});for(const s of n)e.archives.quests.push({id:s.id,name:s.name,expiredOnDay:e.day})}function z0(e){const t=Math.max(25,e.diff*12),n=Math.floor(e.diff/2)*8,s=(()=>{switch(e.job){case"Kill":return Math.floor(e.diff*3);case"Escort":return Math.floor(e.diff*2);case"Protect":return Math.floor(e.diff*2.5);case"Deliver":return Math.floor(e.diff*1.5);case"Find":return Math.floor(e.diff*1.8);default:return Math.floor(e.diff*1.5)}})();return t+n+s}let nn=null;async function wh(){if(nn)return nn;try{const e="/",t=new URL(`${e}${e.endsWith("/")?"":"/"}items/item_categories.json`,window.location.href);console.log("[CategoriesLoader] loading from:",t.href);const n=await fetch(t.href,{cache:"no-cache"});if(!n.ok)throw new Error(`Failed to load item_categories.json: ${n.status} ${n.statusText}`);return nn=(await n.json()).sort((r,i)=>r.sortOrder-i.sortOrder),console.log("[CategoriesLoader] loaded categories:",nn.length),nn}catch(e){return console.error("[CategoriesLoader] failed to load categories:",e),nn=[{id:"food",name:"Food",emoji:"🍖",description:"Consumable food items",sortOrder:1},{id:"potion",name:"Potions",emoji:"🧪",description:"Magical potions",sortOrder:2},{id:"weapon",name:"Weapons",emoji:"⚔️",description:"Combat weapons",sortOrder:3},{id:"armor",name:"Armor",emoji:"🛡️",description:"Protective armor",sortOrder:4},{id:"accessory",name:"Accessories",emoji:"💍",description:"Special accessories",sortOrder:5},{id:"skill",name:"Skill Items",emoji:"📜",description:"Skill items",sortOrder:6}],nn}}function bh(e){if(!nn){console.warn("[Categories] Categories not loaded yet, call loadItemCategories() first");return}return nn.find(t=>t.id===e)}function _h(e){const t=bh(e);return(t==null?void 0:t.emoji)||"📦"}function kh(e){const t=bh(e);return(t==null?void 0:t.name)||e}function Xf(){return nn||[]}const jh={day:1,week:1,money:6e6,notoriety:0,members:[],candidates:[],quests:[],activeMissions:[],inventory:[],shop:[],itemsCatalog:[],itemsLoaded:!1,kitchen:{foodStorage:[],waitingForBreakfast:[]},logs:{events:[],battle:[]},archives:{quests:[],candidates:[],fallen:[]},modifiers:{upkeepDeltaPerMember:0,questSuccessBonus:0,recruitStatBonus:0},settings:{autoAssign:!1}};function F0(e,t){switch(t.type){case"load":return t.payload??e;case"emit":default:return{...e}}}const B0={state:{day:1,week:1,money:0,notoriety:0,members:[],candidates:[],quests:[],activeMissions:[],inventory:[],shop:[],itemsCatalog:[],itemsLoaded:!1,kitchen:{foodStorage:[],waitingForBreakfast:[]},logs:{events:[],battle:[]},archives:{quests:[],candidates:[],fallen:[]},modifiers:{upkeepDeltaPerMember:0,questSuccessBonus:0,recruitStatBonus:0},settings:{autoAssign:!1}},emit:()=>{},actions:{nextDay:()=>{},save:()=>{},load:()=>{},reset:()=>{},serveBreakfast:()=>{},battleAttack:()=>{},battleDefend:()=>{},battleUseItem:()=>{},battleEnemyTurn:()=>{},battleContinue:()=>{}}},Nh=V.createContext(B0),U0=1;function q0(e){return Math.floor((Math.max(1,e)-1)/7)+1}function W0(e){const t={day:e.day,week:e.week,money:e.money,notoriety:e.notoriety,members:e.members.map(n=>{const s={...n};return Array.isArray(s.items)&&(s.items=s.items.filter(r=>r&&typeof r=="object"&&r.id)),s}),candidates:e.candidates,quests:e.quests,activeMissions:e.activeMissions,inventory:e.inventory,logs:e.logs,modifiers:e.modifiers,settings:e.settings,archives:e.archives,isGameOver:e.isGameOver??!1};return t.itemsCatalog=void 0,t.shop=void 0,t.itemsLoaded=void 0,t.battle=void 0,JSON.parse(JSON.stringify(t))}function H0(e){return{version:U0,savedAt:Date.now(),state:W0(e)}}function Pt(e,t){return Array.isArray(e)?e:t}function V0(e,t){var c,f,d,v,g,p,y,_,S,C,w,x;const n=(()=>{if(!e||typeof e!="object")return null;const b=e;return typeof b.version=="number"&&b.state?b.state:b})(),s={...jh},r=n||{},i={...s,day:typeof r.day=="number"?r.day:s.day,week:q0(typeof r.day=="number"?r.day:s.day),money:typeof r.money=="number"?r.money:s.money,notoriety:typeof r.notoriety=="number"?r.notoriety:s.notoriety,members:Pt(r.members,[]),candidates:Pt(r.candidates,[]),quests:Pt(r.quests,[]),activeMissions:Pt(r.activeMissions,[]),battle:null,inventory:Pt(r.inventory,[]),itemsCatalog:t.itemsCatalog,itemsLoaded:t.itemsLoaded,shop:t.shop,kitchen:{foodStorage:Pt((c=r.kitchen)==null?void 0:c.foodStorage,[]),waitingForBreakfast:Pt((f=r.kitchen)==null?void 0:f.waitingForBreakfast,[])},logs:{events:Pt((d=r.logs)==null?void 0:d.events,[]),battle:Pt((v=r.logs)==null?void 0:v.battle,[])},modifiers:{upkeepDeltaPerMember:((g=r.modifiers)==null?void 0:g.upkeepDeltaPerMember)??0,questSuccessBonus:((p=r.modifiers)==null?void 0:p.questSuccessBonus)??0,recruitStatBonus:((y=r.modifiers)==null?void 0:y.recruitStatBonus)??0,shopDiscount:((_=r.modifiers)==null?void 0:_.shopDiscount)??void 0},settings:{autoAssign:!!((S=r.settings)!=null&&S.autoAssign)},archives:{quests:Pt((C=r.archives)==null?void 0:C.quests,[]),candidates:Pt((w=r.archives)==null?void 0:w.candidates,[]),fallen:Pt((x=r.archives)==null?void 0:x.fallen,[])},isGameOver:!!r.isGameOver&&r.isGameOver===!0};function a(b){var U;const O=[];for(let N=0;N<b;N++)O.push(`inst_${((U=crypto==null?void 0:crypto.randomUUID)==null?void 0:U.call(crypto))||Math.random().toString(36).slice(2,11)}`);return O}for(const b of i.members)if(Array.isArray(b.items)){const O=b.items,U=[];for(const N of O){if(!N||typeof N!="object"||!N.id)continue;const P=Math.max(1,N.qty||1),B=Array.isArray(N.instanceIds)?[...N.instanceIds]:[];B.length<P&&B.push(...a(P-B.length)),B.length>P&&(B.length=P),U.push({id:N.id,qty:P,instanceIds:B})}if(b.items=U,Array.isArray(b.equippedInstanceIds)){const N=new Set((b.items||[]).flatMap(P=>(P==null?void 0:P.instanceIds)||[]));b.equippedInstanceIds=b.equippedInstanceIds.filter(P=>N.has(P))}}return i}function Q0({children:e,initial:t}){const[n,s]=V.useReducer(F0,{...jh,...t||{}});V.useEffect(()=>{if(!n.members.some(c=>c.isPlayer)){const c={id:"player",isPlayer:!0,name:"You",class:"Guildmaster",personality:"heroic",gender:"male",appearance:"♂️ Summoned human with dark hair and determined eyes; beauty 7/10",upkeep:0,stats:{str:6,mag:6,skill:6,speed:3,luck:6,defense:4,resistance:4},hpMax:40,hp:18,mp:10,mpMax:300,speed:3,skills:["Leadership","Tactics"],level:1,experience:0,experienceCurve:"normal",items:[{id:"1754878147635"},{id:"1754878147635"},{id:"1755037566949"},{id:"1754864404298"},{id:"1754864404298"},{id:"1754864578481"},{id:"1754955449841"},{id:"1754935730336"}]};n.members.push(c),s({type:"emit"})}},[n.members]),V.useEffect(()=>{if(n.itemsLoaded===!0||Array.isArray(n.itemsCatalog)&&n.itemsCatalog.length>0)return;async function c(){try{await wh();const f="/",d=new URL(`${f}${f.endsWith("/")?"":"/"}items/items.json`,window.location.href);console.log("[ItemsLoader] base:",f,"location:",window.location.href,"hash:",window.location.hash,"computedUrl:",d.href);const v=await fetch(d.href,{cache:"no-cache"});console.log("[ItemsLoader] response status:",v.status,v.statusText);const g=v.headers.get("content-type")||"";if(console.log("[ItemsLoader] content-type:",g),!v.ok||!g.includes("application/json")){try{const y=await v.clone().text();console.warn("[ItemsLoader] Non-JSON or error response preview:",y.slice(0,200))}catch{}throw new Error(`Failed to load items.json: ${v.status} ${v.statusText}`)}const p=await v.json();console.log("[ItemsLoader] parsed items count:",Array.isArray(p)?p.length:"(not array)");for(const y of p)typeof y.apply!="function"&&(y.apply=()=>{});n.itemsCatalog=p}catch{console.error("[ItemsLoader] failed to load items.json"),n.itemsCatalog=[]}finally{let f=function(d){var g;const v=[];for(let p=0;p<d;p++)v.push(`inst_${((g=crypto==null?void 0:crypto.randomUUID)==null?void 0:g.call(crypto))||Math.random().toString(36).slice(2,11)}`);return v};n.shop=n.itemsCatalog.filter(d=>d.sellable),console.log("[ItemsLoader] derived shop count:",n.shop.length),n.itemsLoaded=!0;for(const d of n.members)if(Array.isArray(d.items)){const v=[];for(const g of d.items){if(!g||typeof g!="object"||!g.id)continue;const p=Math.max(1,g.qty||1),y=Array.isArray(g.instanceIds)?[...g.instanceIds]:[];y.length<p&&y.push(...f(p-y.length)),y.length>p&&(y.length=p),v.push({id:g.id,qty:p,instanceIds:y})}d.items=v}console.log("[ItemsLoader] itemsLoaded set to true"),s({type:"emit"})}}c()},[]);function r(){n.kitchen=n.kitchen||{foodStorage:[],waitingForBreakfast:[]},n.kitchen.waitingForBreakfast=[];const c=n.day;for(const d of n.members)Array.isArray(d.activeBuffs)&&(d.activeBuffs=d.activeBuffs.filter(v=>v.expiresOnDay>c));const f=n.inventory;for(const d of n.members){if(d.alive===!1)continue;const v=f.findIndex(g=>g.category==="food");v>=0?(f.splice(v,1),d.fedOnDay=c):(d.fedOnDay=void 0,n.kitchen.waitingForBreakfast.push(d.id))}}const i=V.useMemo(()=>({acceptCandidate(c){const f=n.candidates.findIndex(C=>C.id===c);if(f===-1)return;const d=n.candidates.splice(f,1)[0],v=d.stats.hp??20,g=10+Math.floor((d.stats.mag??3)/2),p=n.modifiers.recruitStatBonus||0,y=["fast","normal","slow","erratic"],_=y[Math.floor(Math.random()*y.length)],S={id:`mem_${Math.random().toString(36).slice(2,9)}`,name:d.name,class:d.class,personality:d.personality,gender:d.gender,appearance:d.appearance,avatar:d.avatar,upkeep:d.upkeep,stats:{str:d.stats.str+p,mag:d.stats.mag+p,skill:d.stats.skill+p,speed:d.stats.speed+p,luck:d.stats.luck+p,defense:d.stats.defense+p,resistance:d.stats.resistance+p},hpMax:v,hp:v,mpMax:g,mp:g,speed:Math.max(1,Math.floor(((d.stats.skill??3)+p)/3)),skills:d.skills||[],level:1,experience:0,experienceCurve:_,baseLevel:1,baseExp:0,classLevel:1,classExp:0,skillLevels:(d.skills||[]).reduce((C,w)=>(C[w]=1,C),{}),skillExp:{},alive:!0,items:(d.starterItems||[]).map(C=>({id:C.id,qty:C.qty||1}))};n.members.push(S)},async nextDay(){if(n.battle){ne(n,"⚔️ Ongoing battle prevents the day from advancing."),s({type:"emit"});return}n.day+=1;const c=n.week;n.week=Math.floor((n.day-1)/7)+1,R0(n),r();const f=Kc(n);if(f>0){const p=n.money;fh(n,f);const y=Math.min(p,f);ne(n,`🏷️ Daily upkeep paid: −${y}g`)}const[d,v]=n.quests.reduce((p,y)=>(y.expiresOnDay>n.day?p[0].push(y):p[1].push({id:y.id,name:y.name,expiredOnDay:n.day}),p),[[],[]]);n.quests=d,v.length&&(n.archives.quests.unshift(...v),v.forEach(p=>ne(n,`⌛ Quest expired: ${p.name} (D${p.expiredOnDay})`)));const g=xh(n.notoriety,n.day);if(n.quests=[...n.quests,...g],n.week!==c){const p=[],y=[];for(const S of n.candidates)S.expiresOnWeek>n.week?p.push(S):y.push({id:S.id,name:S.name,class:S.class,expiredOnWeek:n.week,weekAppeared:S.weekAppeared,gender:S.gender,appearance:S.appearance,avatar:S.avatar,stats:S.stats,upkeep:S.upkeep,personality:S.personality});n.candidates=p,y.length&&(n.archives.candidates.unshift(...y),y.forEach(S=>ne(n,`🕰️ Candidate expired: ${S.name} — ${S.class} (W${S.expiredOnWeek})`)));const _=await dh(n.notoriety,n.week);n.candidates=[...n.candidates,..._]}n.settings.autoAssign&&Yc(n),s({type:"emit"})},battleAttack(){const c=n.battle;if(!c||n.isGameOver||c.turnSide!=="ally")return;const f=c.allies[c.turnIndex%c.allies.length];if(!f||f.hp<=0)return c.turnIndex=(c.turnIndex+1)%c.allies.length,this.battleAttack();const d=c.enemies.findIndex(p=>p.hp>0);if(d<0)return;const v=c.enemies[d],g=Math.max(1,Math.floor((f.power??8)*(.8+Math.random()*.6)));if(v.hp=Math.max(0,v.hp-g),c.log.unshift(`${f.name} hits ${v.name} for ${g}`),ne(n,`⚔️ ${f.name} attacks ${v.name} for ${g} damage`),v.hp<=0){const p=n.members.find(y=>y.id===f.id);if(p){const y=Math.max(8,c.diff*4),_=Math.floor(Math.random()*8)+5,S=y+_;Za(p,S).leveledUp?(c.log.unshift(`🎉 ${p.name} leveled up to Lv.${p.level}! (+${S} EXP for defeating ${v.name})`),ne(n,`🎉 ${p.name} leveled up to Lv.${p.level}! (+${S} EXP for defeating ${v.name})`)):(c.log.unshift(`⭐ ${p.name} gained ${S} experience for defeating ${v.name}`),ne(n,`⭐ ${p.name} gained ${S} experience for defeating ${v.name}`))}}if(c.enemies.every(p=>p.hp<=0)){c.log.unshift("Enemies defeated!"),ne(n,`⚔️ Wave ${c.wave} cleared in ${c.questName}!`),this.battleContinue(),s({type:"emit"});return}c.turnIndex+=1,c.turnIndex>=c.allies.length&&(c.turnSide="enemy",c.turnIndex=0,this.battleEnemyTurn()),s({type:"emit"})},battleDefend(){const c=n.battle;if(!c||n.isGameOver||c.turnSide!=="ally")return;const f=c.allies[c.turnIndex%c.allies.length];if(!f||f.hp<=0)return c.turnIndex=(c.turnIndex+1)%c.allies.length,this.battleDefend();c.log.unshift(`${f.name} braces for impact (defend).`),f.hp=Math.min(f.hpMax,f.hp+2),ne(n,`🛡️ ${f.name} defends and recovers 2 HP`);const d=n.members.find(v=>v.id===f.id);if(d){const v=Math.max(3,Math.floor(c.diff*1.5));Za(d,v).leveledUp&&(c.log.unshift(`🎉 ${d.name} leveled up to Lv.${d.level}! (+${v} EXP for tactical defense)`),ne(n,`🎉 ${d.name} leveled up to Lv.${d.level}! (+${v} EXP for tactical defense)`))}c.turnIndex+=1,c.turnIndex>=c.allies.length&&(c.turnSide="enemy",c.turnIndex=0,this.battleEnemyTurn()),s({type:"emit"})},battleUseItem(){const c=n.battle;if(!c||n.isGameOver||c.turnSide!=="ally")return;const f=c.allies[c.turnIndex%c.allies.length];if(!f)return;const d=n.inventory.findIndex(p=>p.category==="potion");if(d<0){c.log.unshift("No usable items."),s({type:"emit"});return}const v=n.inventory[d];n.inventory.splice(d,1);const g=10;f.hp=Math.min(f.hpMax,f.hp+g),c.log.unshift(`${f.name} uses ${v.name} and heals ${g}.`),c.turnIndex+=1,c.turnIndex>=c.allies.length&&(c.turnSide="enemy",c.turnIndex=0,this.battleEnemyTurn()),s({type:"emit"})},battleEnemyTurn(){const c=n.battle;if(!c||n.isGameOver||c.turnSide!=="enemy")return;const f=Math.max(1,c.enemies.length*2);let d=0;for(;c.turnSide==="enemy"&&d<f;){const v=c.enemies[c.turnIndex%Math.max(1,c.enemies.length)];if(!v||v.hp<=0){c.turnIndex+=1,c.turnIndex>=c.enemies.length&&(c.turnSide="ally",c.turnIndex=0),d+=1;continue}const g=c.allies.findIndex(_=>_.hp>0);if(g<0){c.log.unshift("Your party has been defeated..."),n.isGameOver=!0,ne(n,"💀 Battle lost. Game Over."),s({type:"emit"});return}const p=c.allies[g],y=Math.max(1,Math.floor((v.power??7)*(.8+Math.random()*.6)));if(p.hp=Math.max(0,p.hp-y),c.log.unshift(`${v.name} hits ${p.name} for ${y}`),ne(n,`👹 ${v.name} attacks ${p.name} for ${y} damage`),c.allies.every(_=>_.hp<=0)){c.log.unshift("Your party has been defeated..."),n.isGameOver=!0,ne(n,"💀 Battle lost. Game Over."),s({type:"emit"});return}c.turnIndex+=1,c.turnIndex>=c.enemies.length&&(c.turnSide="ally",c.turnIndex=0),d+=1}s({type:"emit"})},battleContinue(){const c=n.battle;if(!c)return;const f=n.activeMissions.find(d=>d.id===c.missionId);if(!f){n.battle=null;return}for(const d of c.allies){const v=f.party.find(g=>g.id===d.id);v&&(v.hp=Math.max(0,d.hp),typeof d.mp=="number"&&(v.mp=Math.max(0,d.mp)),v.hp<=0&&(v.alive=!1))}if(f.battlesCleared=(f.battlesCleared||0)+1,f.battlesRemaining=Math.max(0,(f.battlesRemaining||0)-1),(f.battlesRemaining??0)>0){const d=Gl(f,(c.wave||1)+1,f.battlesPlanned||c.wavesTotal||1);n.battle=d,ne(n,"⚔️ A new wave approaches!")}else ne(n,"⚔️ Battle concluded. Quest combat cleared."),f.battlesCleared=f.battlesPlanned||f.battlesCleared||0,n.battle=null;s({type:"emit"})},serveBreakfast(){r(),ne(n,"🍳 Breakfast served"),s({type:"emit"})},save(){(async()=>{try{const c=H0(n),f=JSON.stringify(c,null,2);if(typeof window.showSaveFilePicker=="function"){const g=await(await window.showSaveFilePicker({suggestedName:`guild_save_D${n.day}_W${n.week}.json`,types:[{description:"Guild Save",accept:{"application/json":[".json"]}}]})).createWritable();await g.write(new Blob([f],{type:"application/json"})),await g.close()}else{const v=new Blob([f],{type:"application/json"}),g=URL.createObjectURL(v),p=document.createElement("a");p.href=g,p.download=`guild_save_D${n.day}_W${n.week}.json`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(g)}ne(n,"💾 Save exported to file")}catch(c){console.error("[Save] failed (file export):",c),ne(n,"⚠️ Save export failed")}s({type:"emit"})})()},load(){(async()=>{try{let c=null;if(typeof window.showOpenFilePicker=="function"){const g=await window.showOpenFilePicker({multiple:!1,types:[{description:"Guild Save",accept:{"application/json":[".json"]}}]}),p=Array.isArray(g)?g[0]:null;if(!p){ne(n,"ℹ️ Load cancelled"),s({type:"emit"});return}c=await(await p.getFile()).text()}else c=await new Promise(g=>{const p=document.createElement("input");p.type="file",p.accept="application/json,.json",p.onchange=async()=>{const y=p.files&&p.files[0];if(!y){g(null);return}const _=new FileReader;_.onload=()=>g(String(_.result||"")),_.onerror=()=>g(null),_.readAsText(y)},document.body.appendChild(p),p.click(),setTimeout(()=>{document.body.contains(p)&&document.body.removeChild(p)},0)});if(!c){ne(n,"ℹ️ No file selected"),s({type:"emit"});return}const d=JSON.parse(c),v=V0(d,n);ne(v,"📥 Game loaded from file"),s({type:"load",payload:v})}catch(c){console.error("[Load] failed (file import):",c),ne(n,"⚠️ Load failed (invalid file)"),s({type:"emit"})}})()},reset(){try{window.location.reload()}catch{}}}),[n]),a=V.useMemo(()=>({state:n,emit:()=>s({type:"emit"}),actions:i}),[n,i]);return o.jsx(Nh.Provider,{value:a,children:e})}const De=()=>V.useContext(Nh);function G0(){const{state:e,actions:t,emit:n}=De(),s=Math.floor((e.day-1)/7)+1;return o.jsx("nav",{className:"navbar navbar-dark bg-dark",children:o.jsxs("div",{className:"container-fluid",children:[o.jsx("span",{className:"navbar-brand",children:"⚔️ Guild CEO Simulator"}),o.jsxs("div",{className:"d-flex gap-3 align-items-center text-light small",children:[o.jsxs("div",{children:["Money: ",e.money,"g"]}),o.jsxs("div",{children:["Notoriety: ",e.notoriety]}),o.jsxs("div",{children:["Day ",e.day," / Week ",s]}),o.jsx("div",{className:"vr"}),o.jsxs("div",{className:"form-check form-switch m-0",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"autoAssignHeader",checked:e.settings.autoAssign,onChange:r=>{e.settings.autoAssign=r.target.checked,e.settings.autoAssign&&Yc(e),n()}}),o.jsx("label",{className:"form-check-label text-light",htmlFor:"autoAssignHeader",children:"Auto-assign"})]}),o.jsx("button",{className:"btn btn-outline-light btn-sm",onClick:()=>t.save(),children:"Save"}),o.jsx("button",{className:"btn btn-outline-light btn-sm",onClick:()=>t.load(),children:"Load"}),o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>t.reset(),children:"Reset"})]})]})})}function Yf(){const e=(window.location.hash||"").replace(/^#/,"");return e?e.startsWith("tab=")?e.slice(4):e.startsWith("/")?e.slice(1):e:""}function K0({tabs:e}){var f;const{state:t}=De(),n=!!t.battle,s=V.useMemo(()=>e.map(d=>d.key),[e]),r=((f=e[0])==null?void 0:f.key)||"dashboard",i=(()=>{const d=Yf();return s.includes(d)?d:r})(),[a,c]=V.useState(i);return V.useEffect(()=>{const d=`#${a}`;window.location.hash!==d&&window.history.replaceState(null,"",d)},[a]),V.useEffect(()=>{const d=()=>{const v=Yf();s.includes(v)&&c(v)};return window.addEventListener("hashchange",d),()=>window.removeEventListener("hashchange",d)},[s]),o.jsx("div",{className:"container-fluid py-3",style:{minHeight:"calc(100vh - 56px)"},children:o.jsxs("div",{className:"row g-3",children:[o.jsx("div",{className:"col-12 col-lg-3",children:o.jsx("div",{className:"list-group",children:e.map(d=>o.jsxs("a",{href:`#${d.key}`,className:`list-group-item list-group-item-action${a===d.key?" active":""} ${d.highlight?"list-group-item-warning":""} ${n?"disabled":""}`,"aria-disabled":n,onClick:v=>{v.preventDefault(),!n&&c(d.key)},children:[d.icon?`${d.icon} `:"",d.label]},d.key))})}),o.jsx("div",{className:"col-12 col-lg-9",children:e.map(d=>a===d.key&&o.jsx("div",{"aria-hidden":n,children:d.render()},d.key))})]})})}function X0(){var n;const{state:e}=De(),t=Math.floor((e.day-1)/7)+1;return o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h5",{className:"mb-3",children:"Dashboard"}),o.jsxs("div",{className:"row g-3",children:[o.jsx("div",{className:"col-md-4",children:o.jsxs("div",{className:"p-3 border rounded-3",children:[o.jsxs("div",{children:["💰 Money: ",e.money,"g"]}),o.jsxs("div",{children:["⭐ Notoriety: ",e.notoriety]}),o.jsxs("div",{children:["📅 Day ",e.day," / Week ",t]}),o.jsxs("div",{children:["🧑‍🚀 Members: ",e.members.length]}),o.jsxs("div",{children:["🧭 Active missions: ",((n=e.activeMissions)==null?void 0:n.length)||0]})]})}),o.jsx("div",{className:"col-md-8",children:o.jsx("div",{className:"p-3 border rounded-3 small text-muted",children:"💡 Tips: Recruit weekly, assign quests, buy artifacts, increase notoriety."})})]})]})})}const or=32,Jf={x:1,y:1},ar={x:2,y:2},Sh="/items/tileset_1.png";function Eh(e){const t=Jf.x+e.col*(or+ar.x),n=Jf.y+e.row*(or+ar.y);return{x:t,y:n}}function Js(e){const{x:t,y:n}=Eh(e);return{width:or+ar.x/2,height:or+ar.y/2,backgroundImage:`url(${Sh})`,backgroundPosition:`-${t}px -${n}px`,backgroundRepeat:"no-repeat",imageRendering:"pixelated"}}function An(e,t){const{x:n,y:s}=Eh(e);return{width:or+ar.x/2,height:or+ar.y/2,backgroundImage:`url(${t||Sh})`,backgroundPosition:`-${n}px -${s}px`,backgroundRepeat:"no-repeat",imageRendering:"pixelated"}}function Zs({value:e,max:t,variant:n="hp",width:s=120,height:r=8,showLabel:i=!1,className:a=""}){const c=Math.max(1,Math.floor(t||0)),f=Math.max(0,Math.min(c,Math.floor(e||0))),d=Math.round(f/c*100),v=n==="hp"?"linear-gradient(90deg, #ef4444, #dc2626)":n==="mp"?"linear-gradient(90deg, #60a5fa, #22d3ee)":"linear-gradient(90deg, #f59e0b, #fbbf24)";return o.jsxs("div",{className:`statbar ${a}`,style:{width:typeof s=="number"?`${s}px`:s,height:r,borderRadius:6,background:"rgba(0,0,0,0.15)",overflow:"hidden"},role:"progressbar","aria-valuenow":d,"aria-valuemin":0,"aria-valuemax":100,title:`${n.toUpperCase()}: ${f}/${c}`,children:[o.jsx("div",{className:"statbar-fill",style:{width:`${d}%`,height:"100%",background:v,transition:"width .25s ease"}}),i&&o.jsxs("div",{className:"statbar-label",style:{position:"relative",marginTop:-r,height:r,fontSize:Math.max(10,r-2),lineHeight:`${r}px`,color:"#fff",textAlign:"center",textShadow:"0 1px 2px rgba(0,0,0,.5)"},children:[f,"/",c]})]})}function ia(e,t,n){return Math.max(t,Math.min(n,e))}function Jc(e,t){var c,f,d,v,g;const{state:n}=t,s=e.use,r=Array.isArray(s)?s:s?[s]:[];if(r.length===0)return;function i(p,y){const _=p.hp;return p.hp=ia(p.hp+y,0,p.hpMax),p.hp-_}function a(p,y){const _=p.mp??0,S=p.mpMax??_,C=ia(_+y,0,S);return p.mp=C,C-_}for(const p of r){const y=t.target;switch(p.type){case"heal":{if(!y)break;const _=Math.max(0,Math.floor(p.amount??0));if("hpMax"in y){const S=i(y,_);t.battle?Mr(n,`${((c=t.user)==null?void 0:c.name)||"Someone"} uses ${e.name} on ${y.name} (+${S} HP)`):ne(n,`${((f=t.user)==null?void 0:f.name)||"Someone"} uses ${e.name} on ${y.name} (+${S} HP)`)}break}case"heal_mp":{if(!y)break;const _=Math.max(0,Math.floor(p.amount??0)),S=a(y,_);S!==0&&(t.battle?Mr(n,`${((d=t.user)==null?void 0:d.name)||"Someone"} restores ${S} MP to ${y.name} with ${e.name}`):ne(n,`${((v=t.user)==null?void 0:v.name)||"Someone"} restores ${S} MP to ${y.name} with ${e.name}`));break}case"damage":{if(!y)break;const _=Math.max(0,Math.floor(p.amount??0));if("hpMax"in y){const S=y.hp;y.hp=ia(S-_,0,y.hpMax);const C=S-y.hp,w=`${((g=t.user)==null?void 0:g.name)||"Someone"} uses ${e.name} on ${y.name} (−${C} HP)`;t.battle?Mr(n,w):ne(n,w)}break}case"buff":{if(!y||!("hpMax"in y))break;const _=t.user,S=p.stat||"str",C=Math.max(0,Math.floor(p.amount??0)),w=Math.max(1,Math.floor(p.durationDays??1));if(_){_.activeBuffs=_.activeBuffs||[];const x={stat:S,delta:C,expiresOnDay:t.state.day+w,sourceItemId:e.id};_.activeBuffs.push(x);const b=`${_.name} gains +${C} ${S.toUpperCase()} for ${w} day(s) from ${e.name}`;t.battle?Mr(t.state,b):ne(t.state,b)}break}case"cleanse":{const _=t.user;if(_&&Array.isArray(_.activeBuffs)){p.stat?_.activeBuffs=_.activeBuffs.filter(C=>C.stat!==p.stat):_.activeBuffs=[];const S=`${_.name} is cleansed by ${e.name}${p.stat?` (removed ${p.stat.toUpperCase()} buffs)`:""}`;t.battle?Mr(t.state,S):ne(t.state,S)}break}}}}function Y0(e,t){if(!e)return null;const n=Math.max(e.str,e.mag),s=Math.min(e.defense,e.resistance),r=e.skill+e.luck;return n+s+Math.floor(r/2)+Math.floor(t??(e.speed?Math.max(1,Math.floor(e.speed/3)):1))}function Kl({open:e,onClose:t,adventurer:n}){var Ft;Pd.useEffect(()=>{const I=document.createElement("style");return I.textContent=`
      .dragging {
        cursor: grabbing !important;
        z-index: 1000;
      }
      .inventory-slot {
        transition: all 0.2s ease;
            position: relative;
      }
      .inventory-slot:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      }
      .inventory-slot.dragging {
        transform: scale(0.95) rotate(2deg);
        opacity: 0.6;
        z-index: 1000;
      }
      .inventory-slot .custom-popover {
        position: absolute;
        right: 4px;
        bottom: 40px;
        background: #fff;
        border: 1px solid rgba(0,0,0,.175);
        border-radius: .5rem;
        box-shadow: 0 .5rem 1rem rgba(0,0,0,.15);
        z-index: 4;
        min-width: 140px;
      }
      .inventory-slot .custom-popover .popover-body { padding: 8px; }
      .inventory-slot.equipped {
        border-color: #000000 !important;
        box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.25);
      }
      .equipped-badge {
        position: absolute;
        bottom: 4px;
        left: 50%;
        transform: translateX(-50%) translateY(75%);
        background-color: #000000 !important;
        font-size: 0.65rem;
        z-index: 2;
        opacity: 0.75;
      }
    `,document.head.appendChild(I),()=>{document.head.contains(I)&&document.head.removeChild(I)}},[]);const{state:s,emit:r}=De(),i=V.useMemo(()=>s.members.find(I=>I.id===n.id)||null,[s.members,n.id]),a=s.itemsCatalog,[c,f]=V.useState(null),[d,v]=V.useState(null),[g,p]=V.useState(null),[y,_]=V.useState(!1),S=(i==null?void 0:i.mpMax)??n.mpMax,C=(i==null?void 0:i.mp)??n.mp,[w,x]=V.useState(""),[b,O]=V.useState(null),U=V.useMemo(()=>{const I=new Map;for(const T of s.inventory||[]){const L=I.get(T.id);L?L.count+=1:I.set(T.id,{item:T,count:1})}let R=Array.from(I.values());if(w.trim()){const T=w.trim().toLowerCase();R=R.filter(L=>L.item.name.toLowerCase().includes(T)||(L.item.desc||"").toLowerCase().includes(T))}return R.sort((T,L)=>T.item.name.localeCompare(L.item.name)),R},[s.inventory,w]);Pd.useEffect(()=>{var T;if(!i)return;const I=i.items=i.items||[];let R=!1;for(let L=0;L<I.length;L++){const A=I[L];if(!A)continue;const F=Math.max(1,A.qty||1),W=Array.isArray(A.instanceIds)?[...A.instanceIds]:[];if(W.length<F)for(let $=W.length;$<F;$++)W.push(`inst_${((T=crypto==null?void 0:crypto.randomUUID)==null?void 0:T.call(crypto))||Math.random().toString(36).slice(2,11)}`);W.length>F&&(W.length=F),(A.qty!==F||JSON.stringify(A.instanceIds||[])!==JSON.stringify(W))&&(I[L]={id:A.id,qty:F,instanceIds:W},R=!0)}R&&r()},[i==null?void 0:i.id]);function N(I){const R=a.find(T=>T.id===I);return!!(R!=null&&R.stackable)}function P(I,R){if(!i||R<=0)return 0;const T=i.items=i.items||[],L=T[I];if(!L)return 0;const A=L.qty||1,F=Math.min(A,R),W=A-F;if(W<=0){if((L.instanceIds||[]).slice(0),T[I]=void 0,i.equippedInstanceIds&&i.equippedInstanceIds.length){const $=(i.items||[]).flatMap(Y=>(Y==null?void 0:Y.instanceIds)||[]);i.equippedInstanceIds=i.equippedInstanceIds.filter(Y=>$.includes(Y))}}else if(L.qty=W,L.instanceIds=(L.instanceIds||[]).slice(0,W),i.equippedInstanceIds&&i.equippedInstanceIds.length){const $=(i.items||[]).flatMap(Y=>(Y==null?void 0:Y.instanceIds)||[]);i.equippedInstanceIds=i.equippedInstanceIds.filter(Y=>$.includes(Y))}for(let $=T.length-1;$>=0;$--){if(T[$]){T.length=$+1;break}$===0&&(T.length=0)}return F}function B(I,R){if(R<=0)return 0;let T=0;const L=[];for(let A=0;A<s.inventory.length;A++){const F=s.inventory[A];if(F.id===I&&T<R){T+=1;continue}L.push(F)}return T>0&&(s.inventory=L),T}function oe(I,R){const T=a.find(A=>A.id===I);if(!T)return 0;const L=[];for(let A=0;A<R;A++)L.push({...T});return s.inventory=[...s.inventory,...L],R}function J(I){if(c===null||!i)return;const T=(i.items=i.items||[])[c];if(!T)return;const L=P(c,I);L>0&&(oe(T.id,L),r())}function fe(I,R="self"){if(!i)return;const L=(i.items=i.items||[])[I];if(!L)return;const A=a.find(W=>W.id===L.id);if(!A)return;Jc(A,{state:s,user:i,target:i,battle:null}),P(I,1)>0&&r()}function Re(I){if(!i)return;const T=(i.items=i.items||[])[I];if(!T)return;i.equippedInstanceIds=i.equippedInstanceIds||[];const L=T.instanceIds&&T.instanceIds[0]||`inst_${T.id}_legacy`;if(console.log("[Equip] toggleEquipAtSlot",{memberId:i.id,slotIdx:I,itemId:T.id,stackQty:T.qty,stackInstanceIds:T.instanceIds,chosenInstanceId:L,equippedBefore:[...i.equippedInstanceIds||[]]}),i.equippedInstanceIds.includes(L))i.equippedInstanceIds=i.equippedInstanceIds.filter(F=>F!==L),console.log("[Equip] unequipped instance",L,"equippedAfter",i.equippedInstanceIds);else{const F=a.find($=>$.id===T.id),W=!!(F!=null&&F.equippable);if(console.log("[Equip] base item",F,"canEquip",W,"equippable",F==null?void 0:F.equippable),!W)return;i.equippedInstanceIds.push(L),console.log("[Equip] equipped instance",L,"equippedAfter",i.equippedInstanceIds)}r()}const Fe=V.useRef(null),Ze=V.useRef(null);function zt(I,R){Fe.current=I;const T=document.querySelector(`[data-item-slot="${I}"]`);if(T){const L=T.getBoundingClientRect(),A=T.cloneNode(!0);A.style.position="absolute",A.style.top="-1000px",A.style.left="-1000px",A.style.width=`${L.width}px`,A.style.height=`${L.height}px`,A.style.opacity="0.8",A.style.transform="rotate(5deg)",document.body.appendChild(A),R&&R.dataTransfer&&R.dataTransfer.setDragImage(A,L.width/2,L.height/2),setTimeout(()=>{document.body.contains(A)&&document.body.removeChild(A)},100)}}function et(I){I.preventDefault()}function gt(I,R){if(!i)return;if(Ze.current){const{id:W,count:$}=Ze.current;Ze.current=null;const Y=I.shiftKey?$:1,se=B(W,Y);if(se>0){const _e=E(W,se,R);_e<se&&oe(W,se-_e)}r();return}const T=Fe.current;if(Fe.current=null,T===null||T===R)return;const L=i.items=i.items||[];for(;L.length<12;)L.push(void 0);const A=L[T],F=L[R];if(A&&F&&A.id===F.id){const W=a.find($=>$.id===A.id);W!=null&&W.stackable?(F.qty=(F.qty||1)+(A.qty||1),F.instanceIds=[...F.instanceIds||[],...A.instanceIds||[]],L[T]=void 0):(L[T]=F,L[R]=A)}else A&&!F?(L[R]=A,L[T]=void 0):(L[T]=F,L[R]=A);for(let W=L.length-1;W>=0;W--){if(L[W]){L.length=W+1;break}W===0&&(L.length=0)}r()}function Q(I,R,T){Ze.current={id:I,count:R};const L=T==null?void 0:T.currentTarget;if(L&&T.dataTransfer){const A=L.getBoundingClientRect(),F=L.cloneNode(!0);F.style.position="absolute",F.style.top="-1000px",F.style.left="-1000px",F.style.opacity="0.8",document.body.appendChild(F),T.dataTransfer.setDragImage(F,A.width/2,A.height/2),setTimeout(()=>{document.body.contains(F)&&document.body.removeChild(F)},100)}}function ee(I){I.preventDefault();const R=Fe.current;if(Fe.current=null,R===null||!i)return;const L=(i.items=i.items||[])[R];if(!L)return;const A=I.shiftKey&&L.qty||1,F=P(R,A);F>0&&oe(L.id,F),r()}function E(I,R,T){var Y,se,_e,tt;if(!i||R<=0)return 0;const L=i.items=i.items||[];for(;L.length<12;)L.push(void 0);const A=N(I),F=L[T];let W=R,$=0;if(F){if(F.id===I&&A){F.qty=(F.qty||1)+W,F.instanceIds=F.instanceIds||[];for(let le=0;le<W;le++)F.instanceIds.push(`inst_${((_e=crypto.randomUUID)==null?void 0:_e.call(crypto))||Math.random().toString(36).slice(2,9)}`);$+=W,W=0}else for(let le=0;le<12&&W>0;le++)if(!L[le]){if(A){L[le]={id:I,qty:W,instanceIds:Array.from({length:W},()=>{var ut;return`inst_${((ut=crypto.randomUUID)==null?void 0:ut.call(crypto))||Math.random().toString(36).slice(2,9)}`})},$+=W,W=0;break}L[le]={id:I,qty:1,instanceIds:[`inst_${((tt=crypto.randomUUID)==null?void 0:tt.call(crypto))||Math.random().toString(36).slice(2,9)}`]},W-=1,$+=1}}else if(A)L[T]={id:I,qty:W,instanceIds:Array.from({length:W},()=>{var le;return`inst_${((le=crypto.randomUUID)==null?void 0:le.call(crypto))||Math.random().toString(36).slice(2,9)}`})},$+=W,W=0;else{L[T]={id:I,qty:1,instanceIds:[`inst_${((Y=crypto.randomUUID)==null?void 0:Y.call(crypto))||Math.random().toString(36).slice(2,9)}`]},$+=1,W-=1;for(let le=0;le<12&&W>0;le++)L[le]||(L[le]={id:I,qty:1,instanceIds:[`inst_${((se=crypto.randomUUID)==null?void 0:se.call(crypto))||Math.random().toString(36).slice(2,9)}`]},W-=1,$+=1)}return $}function be(I,R){if(!i)return;if(R&&R.shiftKey){const F=i.items=i.items||[],W=F[I];if(!W||(W.qty||1)<=1)return;for(;F.length<12;)F.push(void 0);let $=-1;for(let le=1;le<12;le++){const ut=(I+le)%12;if(ut!==I&&!F[ut]){$=ut;break}}if($===-1)return;const Y=Math.floor((W.qty||1)/2),se=W.instanceIds||[],_e=se.slice(0,Y),tt=se.slice(Y);W.qty=(W.qty||1)-Y,W.instanceIds=tt,F[$]={id:W.id,qty:Y,instanceIds:_e},r();return}const T=i.items=i.items||[];for(;T.length<12;)T.push(void 0);if(c===null){T[I]&&f(I);return}if(c===I){f(null);return}const L=T[c],A=T[I];T[c]=A,T[I]=L;for(let F=T.length-1;F>=0;F--){if(T[F]){T.length=F+1;break}F===0&&(T.length=0)}f(null),r()}const Ce=(()=>{const I=n.stats;if(!I)return null;const R=((i==null?void 0:i.equippedInstanceIds)||[]).map($=>{const se=((i==null?void 0:i.items)||[]).find(_e=>_e&&(_e.instanceIds||[]).includes($));return se==null?void 0:se.id}).filter(Boolean),T=R.map($=>{var Y,se;return((se=(Y=a.find(_e=>_e.id===$))==null?void 0:Y.equip)==null?void 0:se.bonuses)||[]}).flat();window.DEV_LOG&&console.log("[Equip] recompute power",{equippedInstanceIds:i==null?void 0:i.equippedInstanceIds,equippedItemIds:R,bonuses:T});const L={};for(const $ of T)L[$.stat]=(L[$.stat]||0)+($.delta||0);const A=(i==null?void 0:i.activeBuffs)||[];for(const $ of A)L[$.stat]=(L[$.stat]||0)+($.delta||0);const F={...I,str:I.str+(L.str||0),mag:I.mag+(L.mag||0),skill:I.skill+(L.skill||0),speed:I.speed+(L.speed||0),luck:I.luck+(L.luck||0),defense:I.defense+(L.defense||0),resistance:I.resistance+(L.resistance||0)},W=n.speed??F.speed;return Y0(F,W)})();return e?o.jsxs("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,.6)"},role:"dialog","aria-modal":"true",onMouseDown:I=>{I.target===I.currentTarget&&t()},children:[o.jsx(J0,{open:!!g,max:(g==null?void 0:g.max)??1,amount:(g==null?void 0:g.amount)??1,setAmount:I=>p(R=>R&&{...R,amount:Math.max(1,Math.min(R.max,I))}),onClose:()=>p(null),onConfirm:()=>{if(!i||!g)return;const I=i.items=i.items||[];for(;I.length<12;)I.push(void 0);const R=g.slotIdx,T=I[R],L=Math.max(1,Math.min(g.amount,((T==null?void 0:T.qty)||1)-1));let A=-1;for(let W=1;W<12;W++){const $=(R+W)%12;if(!I[$]){A=$;break}}if(A===-1||L<=0){p(null);return}const F=(T.instanceIds||[]).splice(0,L);T.qty=(T.qty||1)-L,I[A]={id:T.id,qty:L,instanceIds:F},r(),p(null)}}),o.jsx("div",{className:"modal-dialog modal-xl modal-dialog-centered",children:o.jsxs("div",{className:"modal-content border-0 shadow-lg",style:{borderRadius:"16px"},children:[o.jsxs("div",{className:"modal-header border-0 pb-0",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"16px 16px 0 0",padding:"1.5rem"},children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("h3",{className:"modal-title mb-2 fw-bold",style:{fontSize:"1.8rem",textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:[n.name," — ",n.class]}),o.jsxs("div",{className:"d-flex align-items-center justify-content-center gap-2 flex-wrap mb-2",children:[n.level&&o.jsxs("span",{className:"badge bg-warning bg-opacity-75 text-dark px-3 py-2",style:{fontSize:"0.9rem",borderRadius:"20px"},children:["Lv.",n.level]}),Ce!==null&&o.jsxs("span",{className:"badge bg-success bg-opacity-75 text-white px-3 py-2",style:{fontSize:"0.9rem",borderRadius:"20px"},children:["⚔️ Power ",Ce]})]})]}),o.jsx("button",{type:"button",className:"btn-close btn-close-white position-absolute","aria-label":"Close",onClick:t,style:{fontSize:"1.2rem",top:"1rem",right:"1rem"}})]}),o.jsxs("div",{className:"modal-body p-0",children:[null,o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"row g-4",children:[o.jsxs("div",{className:"col-12 col-lg-5",children:[o.jsx("div",{className:"text-center mb-4",children:n.avatar?o.jsx("div",{style:{width:"100%",borderRadius:"12px",overflow:"hidden",boxShadow:"0 8px 24px rgba(0,0,0,0.12)",margin:"0 auto"},children:o.jsx("img",{src:n.avatar,alt:n.name,style:{width:"100%",height:"100%",objectFit:"cover"}})}):o.jsx("div",{style:{width:"100%",maxWidth:"320px",height:"200px",borderRadius:"12px",backgroundColor:"#e9ecef",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",fontSize:"4rem",color:"#6c757d",boxShadow:"0 8px 24px rgba(0,0,0,0.12)"},children:"👤"})}),o.jsx("div",{className:"card border-0 shadow-sm",style:{borderRadius:"12px"},children:o.jsxs("div",{className:"card-body",children:[o.jsxs("h6",{className:"card-title fw-bold mb-3 text-primary",children:[o.jsx("span",{className:"me-2",children:"👤"}),"Character Details"]}),o.jsxs("div",{className:"mb-3",children:[n.appearance&&o.jsxs("div",{className:"mb-3 p-3 bg-light rounded-3",style:{fontSize:"0.9rem",lineHeight:"1.4"},children:[o.jsx("div",{className:"small text-muted mb-1",children:"Appearance"}),n.appearance]}),o.jsxs("div",{className:"row g-2 mb-3",children:[n.gender&&o.jsxs("div",{className:"col-6",children:[o.jsx("div",{className:"small text-muted",children:"Gender"}),o.jsx("div",{className:"fw-bold text-capitalize",children:n.gender})]}),typeof n.upkeep=="number"&&o.jsxs("div",{className:"col-6",children:[o.jsx("div",{className:"small text-muted",children:"Daily Upkeep"}),o.jsxs("div",{className:"fw-bold text-warning",children:[n.upkeep,"g"]})]})]}),n.personality&&o.jsxs("div",{className:"mb-3",children:[o.jsx("div",{className:"small text-muted mb-1",children:"Personality"}),o.jsx("div",{className:"fw-bold text-info",children:n.personality})]}),o.jsxs("div",{className:"row g-2",children:[typeof n.weekAppeared=="number"&&o.jsxs("div",{className:"col-6",children:[o.jsx("div",{className:"small text-muted",children:"Appeared"}),o.jsxs("div",{className:"fw-bold",children:["Week ",n.weekAppeared]})]}),typeof n.expiresOnWeek=="number"&&o.jsxs("div",{className:"col-6",children:[o.jsx("div",{className:"small text-muted",children:"Expires"}),o.jsxs("div",{className:"fw-bold text-danger",children:["Week ",n.expiresOnWeek]})]})]})]})]})})]}),o.jsxs("div",{className:"col-12 col-lg-7",children:[i&&Array.isArray(i.equippedInstanceIds)&&i.equippedInstanceIds.length>0&&o.jsxs("div",{className:"mb-3",children:[o.jsxs("div",{className:"small text-muted mb-1 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Equipped"}),o.jsx("span",{className:"badge text-bg-secondary",children:i.equippedInstanceIds.length})]}),o.jsx("div",{className:"d-flex gap-2 pe-1",style:{overflowX:"auto",paddingBottom:4},children:i.equippedInstanceIds.map((I,R)=>{const L=(i.items||[]).find(W=>W&&(W.instanceIds||[]).includes(I)),A=L?a.find(W=>W.id===L.id):null;if(!A)return null;const F=A!=null&&A.tilesetUrl?An(A.sprite,A.tilesetUrl):Js(A.sprite);return o.jsxs("div",{className:"d-inline-flex align-items-center gap-2 border rounded-3 bg-light px-2 py-1",style:{whiteSpace:"nowrap"},children:[o.jsx("span",{style:{...F,width:32,height:32,display:"inline-block"}}),o.jsx("span",{className:"small fw-semibold text-truncate",style:{maxWidth:160},children:A.name})]},`${I}_${R}`)})})]}),n.stats&&o.jsx("div",{className:"card border-0 shadow-sm mb-4",style:{borderRadius:"12px"},children:o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[o.jsxs("h6",{className:"card-title fw-bold mb-0 text-success",children:[o.jsx("span",{className:"me-2",children:"📊"}),"Combat Stats"]}),o.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>_(I=>!I),title:y?"Show compact chips":"Show detailed breakdown",children:y?"Compact":"Details"})]}),(()=>{const I=n.stats,R=$=>$!=null&&$.tilesetUrl?An($.sprite,$.tilesetUrl):Js($==null?void 0:$.sprite),L=((i==null?void 0:i.equippedInstanceIds)||[]).map($=>{const se=((i==null?void 0:i.items)||[]).find(_e=>_e&&(_e.instanceIds||[]).includes($));return se==null?void 0:se.id}).filter(Boolean).map($=>a.find(Y=>Y.id===$)).filter(Boolean),A=((i==null?void 0:i.activeBuffs)||[]).map($=>({stat:$.stat,delta:$.delta,item:$.sourceItemId?a.find(Y=>Y.id===$.sourceItemId):null})),W=[{key:"str",label:"STR",icon:"💪",base:I.str},{key:"mag",label:"MAG",icon:"🔮",base:I.mag},{key:"skill",label:"SKL",icon:"🎯",base:I.skill},{key:"speed",label:"SPD",icon:"🏃",base:n.speed??I.speed},{key:"luck",label:"LCK",icon:"🍀",base:I.luck},{key:"defense",label:"DEF",icon:"🛡️",base:I.defense},{key:"resistance",label:"RES",icon:"✨",base:I.resistance}].map($=>{var _e,tt;const Y=[];for(const le of L){const di=(((_e=le.equip)==null?void 0:_e.bonuses)||[]).filter(fr=>fr.stat===$.key);if(di.length){const fr=di.reduce((Xl,Yl)=>Xl+(Yl.delta||0),0);Y.push({label:le.name,delta:fr,iconStyle:R(le)})}}for(const le of A)le.stat===$.key&&Y.push({label:((tt=le.item)==null?void 0:tt.name)||"Buff",delta:le.delta,iconStyle:le.item?R(le.item):void 0});const se=$.base+Y.reduce((le,ut)=>le+ut.delta,0);return{...$,total:se,sources:Y}});return y?o.jsx("div",{className:"vstack gap-1",children:W.map($=>o.jsx("div",{className:"px-2 py-1 border rounded-3 bg-light small",children:o.jsxs("div",{children:[$.icon," ",$.label," ",$.total,":",o.jsxs("span",{className:"ms-2",children:["Base ",$.base]}),$.sources.map((Y,se)=>o.jsxs("span",{className:"ms-2 d-inline-flex align-items-center gap-1",children:[o.jsx("span",{children:"+"}),Y.iconStyle&&o.jsx("span",{style:{...Y.iconStyle,width:32,height:32,display:"inline-block"}}),o.jsx("span",{children:Y.delta})]},se))]})},$.key))}):o.jsx("div",{className:"d-flex flex-wrap gap-2",children:W.map($=>o.jsxs("div",{className:"px-2 py-1 border rounded-3 bg-light small",title:$.label,children:[$.icon," ",$.label," ",$.total]},$.key))})})()]})}),o.jsx("div",{className:"card border-0 shadow-sm mb-4",style:{borderRadius:"12px"},children:o.jsxs("div",{className:"card-body",children:[o.jsxs("h6",{className:"card-title fw-bold mb-3 text-danger",children:[o.jsx("span",{className:"me-2",children:"❤️"}),"Vitality"]}),o.jsx("div",{className:"mb-3",children:o.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[o.jsx("span",{className:"small text-muted",style:{minWidth:"20px"},children:"❤️"}),o.jsx("div",{className:"flex-grow-1",children:o.jsx(Zs,{variant:"hp",value:n.hp||0,max:n.hpMax||1,width:"100%",height:10})}),o.jsxs("span",{className:"fw-bold text-danger",style:{minWidth:"45px",fontSize:"0.9rem"},children:[n.hp,"/",n.hpMax]})]})}),typeof S=="number"&&S>0&&o.jsx("div",{className:"mb-3",children:o.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[o.jsx("span",{className:"small text-muted",style:{minWidth:"20px"},children:"🔮"}),o.jsx("div",{className:"flex-grow-1",children:o.jsx(Zs,{variant:"mp",value:C||0,max:S||1,width:"100%",height:10})}),o.jsxs("span",{className:"fw-bold text-info",style:{minWidth:"45px",fontSize:"0.9rem"},children:[C||0,"/",S]})]})})]})}),(n.level||n.experience||n.experienceCurve)&&o.jsx("div",{className:"card border-0 shadow-sm mb-4",style:{borderRadius:"12px"},children:o.jsxs("div",{className:"card-body",children:[o.jsxs("h6",{className:"card-title fw-bold mb-3 text-warning",children:[o.jsx("span",{className:"me-2",children:"⭐"}),"Level & Experience"]}),o.jsxs("div",{className:"row g-3 mb-3",children:[o.jsx("div",{className:"col-6",children:o.jsxs("div",{className:"text-center p-3 bg-light rounded-3",children:[o.jsxs("div",{className:"h4 mb-1 text-primary",children:["Lv.",n.level||1]}),o.jsx("div",{className:"small text-muted",children:"Level"})]})}),o.jsx("div",{className:"col-6",children:o.jsxs("div",{className:"text-center p-3 bg-light rounded-3",children:[o.jsxs("div",{className:"h4 mb-1 text-secondary d-flex align-items-center justify-content-center gap-1",children:[n.experienceCurve?hh(n.experienceCurve):"❓",n.experienceCurve||"Unknown"]}),o.jsx("div",{className:"small text-muted",children:"Experience Curve"})]})})]}),n.experience!==void 0&&n.experienceCurve&&o.jsxs("div",{className:"mb-3",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[o.jsx("span",{className:"small text-muted",children:"Experience Progress"}),o.jsxs("span",{className:"small fw-bold",children:[n.experience,"/",Ql({level:n.level||1,experience:n.experience,experienceCurve:n.experienceCurve})]})]}),o.jsx(Zs,{variant:"xp",value:ph({level:n.level||1,experience:n.experience,experienceCurve:n.experienceCurve})*100,max:100,width:"100%",height:12})]}),n.experienceCurve&&o.jsx("div",{className:"p-3 bg-light rounded-3",children:o.jsxs("div",{className:"small text-muted",children:[o.jsx("strong",{children:"Experience Curve:"})," ",k0(n.experienceCurve)]})})]})}),Array.isArray(n.skills)&&n.skills.length>0&&o.jsx("div",{className:"card border-0 shadow-sm mb-4",style:{borderRadius:"12px"},children:o.jsxs("div",{className:"card-body",children:[o.jsxs("h6",{className:"card-title fw-bold mb-3 text-info",children:[o.jsx("span",{className:"me-2",children:"⚔️"}),"Skills (",n.skills.length,")"]}),o.jsx("div",{className:"d-flex flex-wrap gap-2",children:n.skills.map((I,R)=>o.jsx("span",{className:"badge text-bg-info px-3 py-2",style:{fontSize:"0.9rem"},children:I},R))})]})})]})]}),Array.isArray(n.items)&&o.jsx("div",{className:"mt-4",children:o.jsx("div",{className:"card border-0 shadow-sm",style:{borderRadius:"12px"},children:o.jsxs("div",{className:"card-body",children:[o.jsxs("h6",{className:"card-title fw-bold mb-3 text-success",children:[o.jsx("span",{className:"me-2",children:"🎒"}),"Inventory (",n.items.filter(Boolean).reduce((I,R)=>I+(R.qty||1),0),"/12)"]}),i&&o.jsxs("div",{className:"alert alert-info small mb-3",children:[o.jsx("strong",{children:"💡 Tips:"})," Drag to move items. Drag onto same item to stack. Shift-click stack to split."]}),o.jsxs("div",{className:"d-flex flex-column gap-2 mb-3",children:[o.jsxs("div",{className:"d-flex gap-2 align-items-end",children:[o.jsxs("div",{className:"flex-grow-1",style:{minWidth:220},children:[o.jsx("label",{className:"form-label small mb-1",children:"Guild inventory"}),o.jsx("input",{className:"form-control form-control-sm",placeholder:"Search items",value:w,onChange:I=>x(I.target.value)})]}),o.jsx("div",{className:"small text-muted",children:"Tip: Drag items from here into the adventurer slots. Hold Shift to move all."})]}),o.jsx("div",{className:"d-flex flex-wrap gap-2 p-2 border rounded-3 bg-light",onDragOver:et,onDrop:ee,children:U.length===0?o.jsx("div",{className:"small text-muted",children:"No items"}):U.map(({item:I,count:R})=>o.jsxs("div",{className:"d-flex align-items-center gap-2 border rounded-3 bg-white px-2 py-1",draggable:!0,onDragStart:T=>Q(I.id,R,T),title:I.desc,style:{cursor:"grab"},children:[o.jsx("div",{style:{...I.tilesetUrl?An(I.sprite,I.tilesetUrl):Js(I.sprite)}}),o.jsx("div",{className:"small fw-semibold text-truncate",style:{maxWidth:140},children:I.name}),o.jsxs("span",{className:"badge text-bg-secondary",children:["×",R]})]},I.id))})]}),o.jsxs("div",{className:"d-flex flex-wrap gap-3",children:[Array.from({length:12}).map((I,R)=>{var L,A;const T=n.items[R];if(T){const F=a.find($=>$.id===T.id),W=F?An(F.sprite,F.tilesetUrl||""):void 0;return o.jsxs("div",{className:`inventory-slot border rounded-3 d-flex flex-column align-items-center p-2 position-relative ${c===R?"border-3 border-warning shadow":"border-2"} ${Fe.current===R?"dragging":""} ${i&&(i.equippedInstanceIds||[]).some($=>{var Y,se;return(se=(Y=n.items[R])==null?void 0:Y.instanceIds)==null?void 0:se.includes($)})?"equipped":""}`,style:{width:100,cursor:i?"grab":"default",transition:"all 0.2s ease",backgroundColor:c===R?"#fff3cd":"#f8f9fa"},title:(F==null?void 0:F.name)||T.id,draggable:!!i,onDragStart:$=>zt(R,$),onDragOver:et,onDrop:$=>gt($,R),onClick:$=>{$.stopPropagation(),v(d===R?null:R)},"data-item-slot":R,children:[i&&(i.equippedInstanceIds||[]).some($=>{var Y,se;return(se=(Y=n.items[R])==null?void 0:Y.instanceIds)==null?void 0:se.includes($)})&&o.jsx("span",{className:"badge text-bg-success equipped-badge",children:"Equipped"}),o.jsx("div",{style:W,className:"mb-1"}),o.jsx("div",{className:"small text-truncate text-center fw-bold",style:{fontSize:"0.75rem"},children:(F==null?void 0:F.name)||T.id}),(T.qty||1)>1&&o.jsx("div",{className:"badge bg-primary position-absolute",style:{top:"4px",right:"4px",fontSize:"0.7rem",minWidth:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:T.qty}),d===R&&o.jsx("div",{className:"custom-popover",children:o.jsxs("div",{className:"popover-body d-flex flex-column gap-2",children:[(()=>{const $=a.find(se=>se.id===T.id);return $&&Array.isArray($.use)&&$.use.length>0?o.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:se=>{se.stopPropagation(),fe(R),v(null)},children:"Use"}):null})(),o.jsx("button",{className:`btn btn-sm ${i&&(i.equippedInstanceIds||[]).some($=>(T.instanceIds||[]).includes($))?"btn-warning":"btn-outline-secondary"}`,disabled:!((L=a.find($=>$.id===T.id))!=null&&L.equippable),onClick:$=>{$.stopPropagation(),Re(R),v(null)},children:i&&(i.equippedInstanceIds||[]).some($=>(T.instanceIds||[]).includes($))?"Unequip":"Equip"}),((A=a.find($=>$.id===T.id))==null?void 0:A.stackable)&&(T.qty||1)>1&&o.jsx(o.Fragment,{children:(T.qty||1)===2?o.jsx("button",{className:"btn btn-sm btn-outline-dark",onClick:$=>{$.stopPropagation();const Y=i.items=i.items||[];for(;Y.length<12;)Y.push(void 0);let se=-1;for(let le=1;le<12;le++){const ut=(R+le)%12;if(!Y[ut]){se=ut;break}}if(se===-1)return;const _e=Y[R],tt=(_e.instanceIds||[]).shift();_e.qty=(_e.qty||1)-1,Y[se]={id:_e.id,qty:1,instanceIds:[tt||`inst_${_e.id}_legacy`]},r(),v(null)},children:"Unstack 1"}):o.jsx("button",{className:"btn btn-sm btn-outline-dark",onClick:$=>{$.stopPropagation(),p({slotIdx:R,max:Math.max(1,(T.qty||1)-1),amount:1}),v(null)},children:"Unstack…"})})]})})]},R)}return o.jsx("div",{className:`inventory-slot border-2 border-dashed rounded-3 d-flex align-items-center justify-content-center text-muted ${c===R?"border-warning bg-warning bg-opacity-10":""}`,style:{width:100,height:80,cursor:i?"copy":"default",transition:"all 0.2s ease"},title:"Empty slot",onDragOver:et,onDrop:F=>gt(F,R),onClick:F=>be(R,F),"data-item-slot":R,children:o.jsx("span",{className:"small",children:"+"})},R)}),i&&c!==null&&((Ft=n.items)==null?void 0:Ft[c])&&o.jsx("div",{className:"w-100 d-flex justify-content-end mt-2",children:o.jsxs("div",{className:"btn-group btn-group-sm",role:"group","aria-label":"Send to guild",children:[o.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>J(1),children:"Send 1 to Guild"}),o.jsx("button",{className:"btn btn-secondary",onClick:()=>{const I=n.items[c],R=I?I.qty||1:0;R>0&&J(R)},children:"Send All"})]})})]})]})})})]})]}),o.jsx("div",{className:"modal-footer border-0 pt-0",children:o.jsx("button",{className:"btn btn-primary px-4 py-2",onClick:t,style:{borderRadius:"8px",fontWeight:"600"},children:"✨ Close"})})]})})]}):null}function J0({open:e,onClose:t,onConfirm:n,max:s,amount:r,setAmount:i}){return e?o.jsx("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,.6)"},role:"dialog","aria-modal":"true",onMouseDown:a=>{a.target===a.currentTarget&&t()},children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:"Unstack Items"}),o.jsx("button",{type:"button",className:"btn-close",onClick:t})]}),o.jsxs("div",{className:"modal-body",children:[o.jsx("div",{className:"mb-2",children:"Select how many items to move to a new stack:"}),o.jsx("input",{type:"range",className:"form-range",min:1,max:s,value:r,onChange:a=>i(Number(a.target.value))}),o.jsx("div",{className:"text-center fw-bold",children:r})]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{className:"btn btn-secondary",onClick:t,children:"Cancel"}),o.jsx("button",{className:"btn btn-primary",onClick:n,children:"Split"})]})]})})}):null}function Z0(){const{state:e}=De(),[t,n]=V.useState(null),s=V.useMemo(()=>e.members.find(r=>r.id===t)||null,[e.members,t]);return o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"card-body",children:[o.jsx("h5",{className:"card-title mb-4",children:"🏰 Guild Members"}),e.members.length===0?o.jsxs("div",{className:"text-center text-muted py-5",children:[o.jsx("div",{className:"fs-1 mb-3",children:"👥"}),o.jsx("div",{className:"fs-5",children:"No members yet."}),o.jsx("div",{className:"small",children:"Recruit adventurers to build your guild!"})]}):o.jsx("div",{className:"row g-4",children:e.members.map(r=>{var i,a,c,f,d,v,g,p;return o.jsx("div",{className:"col-12 col-md-4 col-lg-3",children:o.jsx("div",{className:"card h-100 shadow-sm border-0 clickable guild-card",onClick:()=>n(r.id),style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",transition:"all 0.2s ease-in-out",cursor:"pointer",borderRadius:"16px",border:"1px solid rgba(0,0,0,0.05)"},onMouseEnter:y=>{y.currentTarget.style.transform="translateY(-4px)",y.currentTarget.style.boxShadow="0 8px 25px rgba(0,0,0,0.15)"},onMouseLeave:y=>{y.currentTarget.style.transform="translateY(0)",y.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)"},children:o.jsxs("div",{className:"card-body p-3",children:[o.jsxs("div",{className:"d-flex align-items-center gap-3 mb-3",children:[o.jsxs("div",{className:"position-relative",children:[r.avatar?o.jsx("img",{src:r.avatar,width:60,height:60,style:{objectFit:"cover",borderRadius:"50%",border:"3px solid #fff",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}):o.jsx("div",{className:"d-flex align-items-center justify-content-center",style:{width:60,height:60,borderRadius:"50%",backgroundColor:"#6c757d",color:"white",fontSize:"1.5rem",fontWeight:"bold"},children:r.name.charAt(0).toUpperCase()}),r.isPlayer&&o.jsx("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-primary",style:{fontSize:"0.7rem"},children:"You"})]}),o.jsxs("div",{className:"flex-grow-1",children:[o.jsx("h6",{className:"card-title mb-1 fw-bold text-dark",children:r.name}),o.jsxs("div",{className:"d-flex align-items-center gap-2 mb-1",children:[o.jsx("div",{className:"badge bg-secondary bg-opacity-75 text-white px-2 py-1",children:r.class}),o.jsxs("div",{className:"badge bg-info bg-opacity-75 text-white px-2 py-1",children:["Lv.",r.level]})]}),o.jsxs("div",{className:"small text-muted d-flex align-items-center gap-1",children:[hh(r.experienceCurve)," ",r.experienceCurve]})]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsxs("div",{className:"d-flex align-items-center gap-2 mb-1",children:[o.jsx("span",{className:"small text-muted",children:"⭐"}),o.jsx("span",{className:"small text-muted",children:"EXP"}),o.jsxs("span",{className:"small text-muted ms-auto",children:[r.experience,"/",Ql(r)]})]}),o.jsx("div",{className:"w-100",children:o.jsx(Zs,{variant:"xp",value:ph(r)*100,max:100,width:"100%",height:6})})]}),o.jsxs("div",{className:"mb-3",children:[o.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[o.jsx("span",{className:"small text-muted",style:{minWidth:"20px"},children:"❤️"}),o.jsx("div",{className:"flex-grow-1",children:o.jsx(Zs,{variant:"hp",value:r.hp||0,max:r.hpMax||1,width:"100%",height:8})}),o.jsxs("span",{className:"small text-danger fw-bold",style:{minWidth:"35px",fontSize:"0.75rem"},children:[r.hp,"/",r.hpMax]})]}),typeof r.mpMax=="number"&&r.mpMax>0&&o.jsxs("div",{className:"d-flex align-items-center gap-2",children:[o.jsx("span",{className:"small text-muted",style:{minWidth:"20px"},children:"🔮"}),o.jsx("div",{className:"flex-grow-1",children:o.jsx(Zs,{variant:"mp",value:r.mp||0,max:r.mpMax||1,width:"100%",height:8})}),o.jsxs("span",{className:"small text-info fw-bold",style:{minWidth:"35px",fontSize:"0.75rem"},children:[r.mp,"/",r.mpMax]})]})]}),o.jsxs("div",{className:"mb-2",children:[o.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[o.jsxs("div",{className:"px-2 py-1 border rounded-3 bg-light small",title:"Strength",children:["💪 STR ",((i=r.stats)==null?void 0:i.str)??0]}),o.jsxs("div",{className:"px-2 py-1 border rounded-3 bg-light small",title:"Magic",children:["🔮 MAG ",((a=r.stats)==null?void 0:a.mag)??0]}),o.jsxs("div",{className:"px-2 py-1 border rounded-3 bg-light small",title:"Skill",children:["🎯 SKL ",((c=r.stats)==null?void 0:c.skill)??0]}),o.jsxs("div",{className:"px-2 py-1 border rounded-3 bg-light small",title:"Speed",children:["🏃 SPD ",((f=r.stats)==null?void 0:f.speed)??0]}),o.jsxs("div",{className:"px-2 py-1 border rounded-3 bg-light small",title:"Luck",children:["🍀 LCK ",((d=r.stats)==null?void 0:d.luck)??0]}),o.jsxs("div",{className:"px-2 py-1 border rounded-3 bg-light small",title:"Defense",children:["🛡️ DEF ",((v=r.stats)==null?void 0:v.defense)??0]}),o.jsxs("div",{className:"px-2 py-1 border rounded-3 bg-light small",title:"Resistance",children:["✨ RES ",((g=r.stats)==null?void 0:g.resistance)??0]})]}),o.jsxs("div",{className:"small text-muted mt-1",children:["💰 Upkeep ",r.upkeep,"g/day"]})]}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[o.jsxs("div",{className:"small text-muted",children:["🎯 ",((p=r.skills)==null?void 0:p.length)||0," skills"]}),o.jsx("div",{className:"small text-muted",children:r.alive===!1?"💀 Fallen":"✅ Active"})]})]})})},r.id)})})]}),s&&o.jsx(Kl,{open:!!s,onClose:()=>n(null),adventurer:{id:s.id,name:s.name,class:s.class,avatar:s.avatar,appearance:s.appearance,personality:s.personality,gender:s.gender,upkeep:s.upkeep,stats:s.stats,hp:s.hp,hpMax:s.hpMax,speed:s.speed,skills:s.skills,items:s.items,level:s.level,experience:s.experience,experienceCurve:s.experienceCurve}})]})}function ew(){const{state:e,emit:t,actions:n}=De(),[s,r]=V.useState(!1),[i,a]=V.useState(null),c=V.useMemo(()=>e.candidates.find(g=>g.id===i)||null,[e.candidates,i]);V.useEffect(()=>{(async()=>await v0())()},[]);async function f(){r(!0);const g=await dh(e.notoriety,e.week);e.candidates=g,t(),r(!1)}function d(g){var p;(p=n.acceptCandidate)==null||p.call(n,g),t()}function v(g){e.candidates=e.candidates.filter(p=>p.id!==g),t()}return o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[o.jsx("h5",{className:"card-title mb-0",children:"Weekly Candidates"}),o.jsx("button",{className:"btn btn-sm btn-primary",onClick:f,disabled:s,children:s?"Loading…":"Refresh"})]}),e.candidates.length===0?o.jsx("div",{className:"text-muted",children:"No candidates yet. Click Refresh."}):o.jsx("div",{className:"vstack gap-2",children:e.candidates.map(g=>o.jsxs("div",{className:"d-flex justify-content-between align-items-center p-2 border rounded-3",children:[o.jsxs("div",{className:"d-flex align-items-center gap-2 clickable",onClick:()=>a(g.id),children:[g.avatar&&o.jsx("img",{src:g.avatar,width:40,height:40,style:{objectFit:"cover",borderRadius:8}}),o.jsxs("div",{children:[o.jsxs("div",{children:[o.jsx("strong",{children:g.name})," — ",g.class," · ",o.jsx("span",{className:"text-muted",children:g.personality})]}),o.jsx("div",{className:"small text-muted",children:g.appearance}),o.jsxs("div",{className:"small text-muted",children:["STR ",g.stats.str," INT ",g.stats.int," AGI ",g.stats.agi," SPR ",g.stats.spr," · Upkeep ",g.upkeep,"g"]})]})]}),o.jsxs("div",{className:"d-flex flex-column align-items-end gap-2",children:[typeof g.expiresOnWeek=="number"&&o.jsx("div",{className:"d-flex flex-column align-items-end",style:{minWidth:200},children:(()=>{const p=g.weekAppeared??e.week,y=Math.max(0,g.expiresOnWeek-p),_=Math.max(0,y-1),S=Math.max(0,e.week-p),C=_<=0?1:Math.max(0,Math.min(1,S/_)),w=Math.round(C*100),x=w>0&&w<8?8:w,b=Math.max(0,g.expiresOnWeek-e.week),O=C>.66?"bg-danger":C>.33?"bg-warning":"bg-success";return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"small text-muted",children:["Expires W",g.expiresOnWeek," · ",b,"w left"]}),o.jsx("div",{className:"progress",style:{height:6,width:160},children:o.jsx("div",{className:`progress-bar ${O}`,role:"progressbar",style:{width:`${x}%`},"aria-valuenow":x,"aria-valuemin":0,"aria-valuemax":100})})]})})()}),o.jsxs("div",{className:"btn-group",children:[o.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>d(g.id),children:"Accept"}),o.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>v(g.id),children:"Reject"})]})]})]},g.id))})]}),o.jsx(Kl,{open:!!c,onClose:()=>a(null),adventurer:{id:(c==null?void 0:c.id)||"",name:(c==null?void 0:c.name)||"",class:(c==null?void 0:c.class)||"",avatar:c==null?void 0:c.avatar,appearance:c==null?void 0:c.appearance,personality:c==null?void 0:c.personality,gender:c==null?void 0:c.gender,upkeep:c==null?void 0:c.upkeep,stats:c==null?void 0:c.stats,skills:c==null?void 0:c.skills,items:(c==null?void 0:c.starterItems)||[],expiresOnWeek:c==null?void 0:c.expiresOnWeek,weekAppeared:c==null?void 0:c.weekAppeared}})]})}function tw(){const{state:e,emit:t}=De(),n=!!e.battle,[s,r]=V.useState(null),i=V.useMemo(()=>e.members.find(p=>p.id===s)||null,[e.members,s]),a=V.useMemo(()=>{const p=new Set;for(const _ of e.quests)for(const S of _.assigned||[])p.add(S.id);const y=new Set;for(const _ of e.activeMissions||[])for(const S of _.party||[])y.add(S.id);return e.members.filter(_=>_.alive!==!1&&!p.has(_.id)&&!y.has(_.id))},[e.members,e.quests,e.activeMissions]);function c(){const p=xh(e.notoriety,e.day);e.quests=[...e.quests,...p],t()}function f(p,y){$0(e,p,y),t()}function d(p,y){D0(e,p,y),t()}function v(p){Kf(e,p),t()}function g(){const p=e.quests.filter(y=>(y.assigned||[]).length>0).map(y=>y.id);if(p.length!==0){for(const y of p)Kf(e,y);t()}}return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[o.jsx("h5",{className:"card-title mb-0",children:"Available Quests"}),o.jsxs("div",{className:"d-flex gap-2",children:[o.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:g,disabled:n||e.quests.every(p=>(p.assigned||[]).length===0),children:"Run all assigned"}),o.jsx("button",{className:"btn btn-sm btn-primary",onClick:c,disabled:n,children:"Refresh"})]})]}),a.length>0&&o.jsxs("div",{className:"mb-3",children:[o.jsxs("div",{className:"small text-muted mb-1",children:["Available Adventurers (",a.length,")"]}),o.jsx("div",{className:"d-flex flex-wrap gap-2",children:a.map(p=>o.jsx("div",{className:"d-flex align-items-center justify-content-center border",style:{width:36,height:36,borderRadius:"50%",overflow:"hidden",cursor:"pointer"},title:`${p.name} — ${p.class}`,onClick:()=>r(p.id),children:p.avatar?o.jsx("img",{src:p.avatar,width:36,height:36,style:{objectFit:"cover"}}):o.jsx("span",{className:"small text-muted",children:p.name.split(" ").map(y=>y[0]).join("").slice(0,2).toUpperCase()})},p.id))})]}),e.quests.length===0?o.jsx("div",{className:"text-muted",children:"No quests available. Click Refresh."}):o.jsx("div",{className:"row g-2",children:e.quests.map(p=>o.jsx("div",{className:"col-12 col-md-6 col-lg-4",children:o.jsxs("div",{className:"p-2 border rounded-3 h-100 d-flex flex-column",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[o.jsxs("div",{children:[o.jsx("strong",{children:p.name}),o.jsx("span",{className:`ms-2 align-middle rank-badge rank-${p.rank||"H"}`,children:p.rank||"H"}),o.jsxs("div",{className:"d-flex flex-wrap gap-1 mt-1 align-items-center",children:[o.jsxs("span",{className:"badge text-bg-light border",title:"Reward",children:["💰 ",p.reward,"g"]}),o.jsxs("span",{className:"badge text-bg-light border",title:"Fame",children:["⭐ +",p.fame]}),o.jsxs("span",{className:"badge text-bg-success border fw-bold",title:`Estimated experience reward (${p.diff} difficulty)`,children:["📚 ~",z0(p)," EXP"]}),o.jsxs("span",{className:"badge text-bg-light border",title:"Trip duration",children:["🗺️⏳ ",p.daysRequired||1,"d"]}),o.jsxs("span",{className:"small text-muted ms-1",title:`Trip plan: ${p.daysRequired||1} day(s)`,children:[Array.from({length:Math.min(p.daysRequired||1,6)}).map((y,_)=>o.jsx("span",{style:{marginRight:2},children:"●"},_)),(p.daysRequired||1)>6&&o.jsxs("span",{className:"ms-1",children:["+",(p.daysRequired||1)-6]})]}),o.jsxs("span",{className:"badge text-bg-light border",title:"Expires on day",children:["📅 D",p.expiresOnDay]})]}),(()=>{const y=Math.max(0,p.expiresOnDay-p.day),_=Math.max(0,y-1),S=Math.max(0,e.day-p.day),C=_<=0?1:Math.max(0,Math.min(1,S/_)),w=Math.round(C*100),x=C>.66?"bg-danger":C>.33?"bg-warning":"bg-success";return o.jsx("div",{className:"progress mt-1",style:{height:6,width:160},children:o.jsx("div",{className:`progress-bar ${x}`,role:"progressbar",style:{width:`${w}%`},"aria-valuenow":w,"aria-valuemin":0,"aria-valuemax":100})})})(),p.desc&&o.jsx("div",{className:"small text-muted",children:p.desc}),Array.isArray(p.tags)&&p.tags.length>0&&o.jsx("span",{className:"ms-2 small",children:p.tags.slice(0,3).map(y=>`[#${y}]`).join(" ")})]}),o.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:()=>v(p.id),disabled:n,children:"Run"})]}),o.jsxs("div",{className:"mt-2 d-flex align-items-center flex-wrap gap-2",children:[(p.assigned||[]).map(y=>o.jsxs("span",{className:"assigned-adventurer-badge badge text-bg-secondary d-inline-flex align-items-center gap-1",onClick:()=>r(y.id),style:{cursor:"pointer"},children:[y.avatar&&o.jsx("img",{src:y.avatar,width:16,height:16,style:{objectFit:"cover",borderRadius:3}}),y.name,o.jsx("a",{href:"#",className:"text-reset text-decoration-none ms-1",onClick:_=>{_.preventDefault(),_.stopPropagation(),d(p.id,y.id)},children:"×"})]},y.id)),o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-sm btn-outline-primary dropdown-toggle","data-bs-toggle":"dropdown",children:"Assign"}),o.jsx("ul",{className:"dropdown-menu",children:e.members.filter(y=>{const _=(p.assigned||[]).some(w=>w.id===y.id),S=e.quests.some(w=>w.id!==p.id&&(w.assigned||[]).some(x=>x.id===y.id)),C=(e.activeMissions||[]).some(w=>(w.party||[]).some(x=>x.id===y.id));return!_&&!S&&!C}).map(y=>o.jsx("li",{children:o.jsxs("a",{className:"dropdown-item d-flex align-items-center gap-2",href:"#",onClick:_=>{_.preventDefault(),f(p.id,y.id)},children:[y.avatar&&o.jsx("img",{src:y.avatar,width:20,height:20,style:{objectFit:"cover",borderRadius:4}}),y.name," (",y.class,")"]})},y.id))})]})]})]})},p.id))}),Array.isArray(e.activeMissions)&&e.activeMissions.length>0&&o.jsxs("div",{className:"mt-3",children:[o.jsx("h6",{className:"mb-2",children:"Active Missions"}),o.jsx("div",{className:"vstack gap-2",children:e.activeMissions.map(p=>{var y;return o.jsxs("div",{className:"p-2 border rounded-3",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[o.jsxs("div",{children:[o.jsx("strong",{children:p.name}),o.jsxs("div",{className:"small text-muted",children:[((y=p.party)==null?void 0:y.length)||0," members • Day ",p.dayStarted," → ",p.endOnDay," • ",p.battlesCleared||0,"/",p.battlesPlanned||0," battles cleared"]})]}),o.jsxs("div",{className:"text-end",children:[o.jsxs("div",{className:"small text-muted",children:["Reward: ",p.reward,"g"]}),o.jsxs("div",{className:"small text-muted",children:["Fame: +",p.fame]})]})]}),p.log&&p.log.length>0&&o.jsx("div",{className:"mt-2 small text-muted",children:p.log.slice(-2).map((_,S)=>o.jsxs("div",{children:["• ",_]},S))})]},p.id)})})]}),o.jsxs("div",{className:"mt-3 p-3 bg-light rounded-3 small",children:[o.jsx("div",{className:"fw-bold mb-2",children:"📚 Experience System"}),o.jsxs("div",{className:"row g-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("div",{className:"fw-semibold",children:"Quest Rewards:"}),o.jsxs("ul",{className:"mb-0 small",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Kill"})," quests give the most EXP (combat-focused)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Protect/Escort"})," quests give high EXP (risky)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Find/Deliver"})," quests give moderate EXP (safer)"]}),o.jsx("li",{children:"Higher difficulty = more EXP"})]})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("div",{className:"fw-semibold",children:"Battle Rewards:"}),o.jsxs("ul",{className:"mb-0 small",children:[o.jsx("li",{children:"Individual enemy kills: 8-40+ EXP"}),o.jsx("li",{children:"Defense actions: 3-20+ EXP"}),o.jsx("li",{children:"No wave completion bonuses"}),o.jsx("li",{children:"Experience is earned per monster defeated"})]})]})]}),o.jsx("div",{className:"mt-2 text-muted",children:o.jsx("small",{children:"Note: EXP values shown are estimates based on quest difficulty and job type. Actual battle rewards may vary due to random bonuses."})})]})]})}),o.jsx(Kl,{open:!!i,onClose:()=>r(null),adventurer:{id:(i==null?void 0:i.id)||"",name:(i==null?void 0:i.name)||"",class:(i==null?void 0:i.class)||"",avatar:i==null?void 0:i.avatar,appearance:i==null?void 0:i.appearance,personality:i==null?void 0:i.personality,gender:i==null?void 0:i.gender,upkeep:i==null?void 0:i.upkeep,stats:i==null?void 0:i.stats,hp:i==null?void 0:i.hp,hpMax:i==null?void 0:i.hpMax,speed:i==null?void 0:i.speed,skills:i==null?void 0:i.skills,items:(i==null?void 0:i.items)||[]}})]})}function nw(){var a,c;const{state:e,actions:t}=De(),n=((a=e.kitchen)==null?void 0:a.foodStorage)||[],s=((c=e.kitchen)==null?void 0:c.waitingForBreakfast)||[],r=V.useMemo(()=>{const f=new Map;for(const d of n){const v=d.name,g=f.get(v)||{name:d.name,count:0};g.count+=1,f.set(v,g)}return Array.from(f.values()).sort((d,v)=>d.name.localeCompare(v.name))},[n]),i=V.useMemo(()=>{const f=new Map(e.members.map(d=>[d.id,d.name]));return s.map(d=>f.get(d)||d)},[s,e.members]);return o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[o.jsx("h5",{className:"card-title m-0",children:"Kitchen"}),o.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>t.serveBreakfast(),children:"Serve Breakfast"})]}),o.jsxs("div",{className:"row mt-3 g-3",children:[o.jsxs("div",{className:"col-12 col-md-6",children:[o.jsx("div",{className:"fw-bold text-uppercase small text-muted mb-2",children:"Food Storage"}),r.length===0?o.jsx("div",{className:"text-muted",children:"No food in storage. Buy food from the Shop."}):o.jsx("ul",{className:"list-group",children:r.map(f=>o.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[f.name,o.jsx("span",{className:"badge text-bg-secondary",children:f.count})]},f.name))})]}),o.jsxs("div",{className:"col-12 col-md-6",children:[o.jsx("div",{className:"fw-bold text-uppercase small text-muted mb-2",children:"Waiting For Breakfast"}),i.length===0?o.jsxs("div",{className:"text-muted",children:["No one is waiting. All fed for D",e.day,"."]}):o.jsx("ul",{className:"list-group",children:i.map((f,d)=>o.jsx("li",{className:"list-group-item",children:f},d))})]})]})]})})}function sw(){const{state:e,emit:t}=De(),n=c=>e.money>=c,s=c=>{n(c.price)&&(fh(e,c.price),e.inventory=[...e.inventory,{...c}],ne(e,`Purchased: ${c.name} (-${c.price}g)`),t())},r=c=>{const f=e.inventory.filter(v=>v.id===c).length,d=[];for(const v of e.members){const g=(v.items||[]).filter(Boolean);if(g.length>0){const p=g.find(y=>y.id===c);p&&(p.qty||1)>0&&d.push({member:v,count:p.qty||1})}}return{guildCount:f,carriers:d}},i=V.useMemo(()=>{var d,v;const c=e.shop&&e.shop.length>0?e.shop:(e.itemsCatalog||[]).filter(g=>g&&g.sellable);console.log("[Shop] itemsLoaded:",e.itemsLoaded,"catalog:",((d=e.itemsCatalog)==null?void 0:d.length)||0,"shop:",((v=e.shop)==null?void 0:v.length)||0);const f={};for(const g of c)f[g.category]||(f[g.category]=[]),f[g.category].push(g);return f},[e.shop,e.itemsCatalog]),a=e.itemsLoaded??!0;return a||console.log("[Shop] waiting for items to load..."),V.useEffect(()=>{const c=e.itemsLoaded===!0,f=!Array.isArray(e.shop)||e.shop.length===0,d=Array.isArray(e.itemsCatalog)&&e.itemsCatalog.length>0;c&&f&&d&&(e.shop=e.itemsCatalog.filter(v=>v.sellable),t())},[e.itemsLoaded,e.itemsCatalog,e.shop]),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[o.jsx("h5",{className:"card-title m-0",children:"🛒 Shop"}),o.jsxs("div",{className:"badge text-bg-secondary fs-6",children:["Gold: ",e.money,"g"]})]}),!a&&o.jsx("div",{className:"text-muted mt-2",children:"Loading items..."}),a&&Object.keys(i).length===0&&o.jsx("div",{className:"text-muted mt-2",children:"No sellable items in catalog. Add items or mark some as sellable in the Items tab."}),Object.entries(i).map(([c,f])=>o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"fw-bold text-uppercase small text-muted mb-3 d-flex align-items-center gap-2",children:[o.jsx("span",{style:{fontSize:"1.2rem"},children:_h(c)}),o.jsx("span",{children:kh(c)})]}),o.jsx("div",{className:"row g-3",children:f.map(d=>{const v=r(d.id);return o.jsx("div",{className:"col-12 col-md-6 col-lg-3",children:o.jsxs("div",{className:"card h-100 border-0 shop-item-card",style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",borderRadius:"16px",overflow:"hidden",position:"relative",transition:"all 0.2s ease-in-out"},onMouseEnter:g=>{g.currentTarget.style.transform="translateY(-4px)",g.currentTarget.style.boxShadow="0 8px 25px rgba(0,0,0,0.15)"},onMouseLeave:g=>{g.currentTarget.style.transform="translateY(0)",g.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)"},children:[o.jsxs("div",{className:"position-absolute top-0 end-0 m-2",children:[o.jsxs("div",{className:"badge bg-success bg-opacity-90 text-white mb-1",style:{fontSize:"0.8rem"},title:"In Guild Inventory",children:["🏰 ",v.guildCount]}),o.jsxs("div",{className:"badge bg-info bg-opacity-90 text-white",style:{fontSize:"0.8rem"},title:"Carried by Adventurers",children:["👥 ",v.carriers.length]})]}),o.jsxs("div",{className:"card-body p-3",children:[o.jsxs("div",{className:"d-flex align-items-start gap-3 mb-3",children:[o.jsx("div",{className:"flex-shrink-0",style:{...d.tilesetUrl?An(d.sprite,d.tilesetUrl):Js(d.sprite),backgroundRepeat:"no-repeat",borderRadius:"0px"}}),o.jsxs("div",{className:"flex-grow-1",children:[o.jsx("h6",{className:"card-title mb-1 fw-bold text-dark",children:d.name}),o.jsxs("div",{className:"text-primary fw-bold mb-1 fs-5",children:[d.price,"g"]}),d.desc&&o.jsx("div",{className:"small text-muted mb-2",children:d.desc})]})]}),v.carriers.length>0&&o.jsxs("div",{className:"mb-3",children:[o.jsx("div",{className:"small text-muted mb-1",children:"Carried by:"}),o.jsx("div",{className:"d-flex flex-wrap gap-1",children:v.carriers.map(({member:g,count:p})=>o.jsxs("span",{className:"badge bg-info bg-opacity-75 text-white",title:`${g.name} has ${p} ${d.name}`,children:[g.name," ×",p]},g.id))})]}),o.jsx("button",{className:"btn btn-primary w-100 fw-bold",onClick:()=>s(d),disabled:!n(d.price),style:{borderRadius:"12px",padding:"0.75rem",fontSize:"0.9rem"},children:n(d.price)?"Buy":`Need ${d.price-e.money}g more`})]})]})},d.id)})})]},c))]})})}function Ch(){const{state:e,actions:t}=De(),n=e.battle,[s,r]=V.useState(null),[i,a]=V.useState(""),[c,f]=V.useState(!1);return n?o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[o.jsxs("h5",{className:"card-title mb-0",children:[n.questName," — Wave ",n.wave,"/",n.wavesTotal]}),o.jsxs("div",{className:"text-muted small",children:["Diff ",n.diff]})]}),o.jsxs("div",{className:"row g-3",children:[o.jsxs("div",{className:"col-12 col-md-6",children:[o.jsx("div",{className:"fw-bold mb-1",children:"Allies"}),o.jsx("div",{className:"d-flex flex-wrap gap-2",children:n.allies.map((d,v)=>o.jsxs("button",{className:`badge ${(s==null?void 0:s.side)==="ally"&&s.index===v?"text-bg-primary":"text-bg-secondary"}`,onClick:()=>r({side:"ally",index:v}),children:[d.name," ❤️",d.hp,"/",d.hpMax]},d.id))})]}),o.jsxs("div",{className:"col-12 col-md-6",children:[o.jsx("div",{className:"fw-bold mb-1",children:"Enemies"}),o.jsx("div",{className:"d-flex flex-wrap gap-2",children:n.enemies.map((d,v)=>o.jsxs("button",{className:`badge ${(s==null?void 0:s.side)==="enemy"&&s.index===v?"text-bg-danger":"text-bg-secondary"}`,onClick:()=>r({side:"enemy",index:v}),children:[d.name," ❤️",d.hp,"/",d.hpMax]},d.id))})]})]}),o.jsxs("div",{className:"mt-3",children:[o.jsxs("div",{className:"mb-2",children:["Turn: ",n.turnSide==="ally"?"Allies":"Enemies"]}),o.jsxs("div",{className:"d-flex flex-wrap gap-2 align-items-end",children:[o.jsxs("div",{className:"d-flex gap-2 align-items-end",children:[o.jsxs("div",{children:[o.jsx("label",{className:"form-label small mb-1",children:"Guild Items"}),o.jsxs("select",{className:"form-select form-select-sm",value:i,onChange:d=>a(d.target.value),children:[o.jsx("option",{value:"",children:"Select…"}),(()=>{const d=[];for(const v of n.allies){const g=e.members.find(y=>y.id===v.id),p=((g==null?void 0:g.items)||[]).filter(Boolean);for(const y of p){const _=e.itemsCatalog.find(C=>C.id===y.id);_&&_.use&&d.push(y.id)}}return d.map((v,g)=>{const p=e.itemsCatalog.find(y=>y.id===v);return p?o.jsx("option",{value:v,children:p.name},`${v}_${g}`):null})})()]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label small mb-1",children:"Target"}),o.jsxs("div",{children:[o.jsx("button",{className:"btn btn-sm btn-outline-secondary me-1",onClick:()=>r({side:"ally",index:0}),children:"Ally"}),o.jsx("button",{className:"btn btn-sm btn-outline-secondary me-1",onClick:()=>r({side:"enemy",index:0}),children:"Enemy"})]})]}),o.jsx("button",{className:"btn btn-sm btn-outline-info",disabled:!i,onClick:()=>{var S,C;if(!i)return;const d=e.itemsCatalog.find(w=>w.id===i);if(!d)return;let v=null;for(const w of n.allies){const x=e.members.find(U=>U.id===w.id);if(!x)continue;if((x.items||[]).filter(Boolean).findIndex(U=>U.id===i)>=0){v=x;break}}if(!v)return;const g=(s==null?void 0:s.side)==="enemy"?n.enemies[s.index]:n.allies[(s==null?void 0:s.index)||0];Jc(d,{state:e,user:v,target:g,battle:{allies:n.allies,enemies:n.enemies}});const p=(s==null?void 0:s.side)==="enemy"?`enemy ${g.name}`:`ally ${g.name}`;ne(e,`🧪 ${v.name} used ${d.name} on ${p}`);const _=(v.items||[]).filter(Boolean).find(w=>w.id===i);_&&(_.qty=Math.max(0,(_.qty||1)-1),_.qty<=0?v.items=(v.items||[]).map(w=>(w==null?void 0:w.id)===i?void 0:w):v.items=(v.items||[]).map(w=>(w==null?void 0:w.id)===i?{id:i,qty:_.qty}:w)),(C=(S=De()).emit)==null||C.call(S)},children:"Use"})]}),o.jsxs("div",{className:"d-flex gap-2 ms-auto",children:[o.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>t.battleAttack(),children:"Attack"}),o.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>t.battleDefend(),children:"Defend"})]})]})]}),n.log.length>0&&o.jsxs("div",{className:"mt-3",children:[o.jsx("div",{className:"text-primary text-decoration-underline",style:{cursor:"pointer"},onClick:()=>f(!c),children:c?"▼ Hide Battle Log":`▶ Show Battle Log (${n.log.length} entries)`}),c&&o.jsx("div",{className:"mt-2 small text-muted border rounded p-2 bg-light",children:n.log.map((d,v)=>o.jsxs("div",{children:["• ",d]},v))})]}),e.isGameOver&&o.jsx("div",{className:"alert alert-danger mt-3",children:"Game Over. Your party has fallen."})]})}):o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h5",{className:"card-title",children:"Battle"}),o.jsx("div",{className:"text-muted",children:"No active battle."})]})})}function rw(){const{state:e}=De();return!e.battle?null:o.jsx("div",{className:"modal fade show",style:{display:"block",position:"fixed",inset:0,background:"rgba(0,0,0,.7)",zIndex:1060},role:"dialog","aria-modal":"true","aria-label":"Battle in progress",children:o.jsx("div",{className:"modal-dialog modal-xl modal-dialog-centered",role:"document",children:o.jsxs("div",{className:"modal-content border-0 shadow-lg",style:{borderRadius:16},children:[o.jsx("div",{className:"modal-header border-0 pb-0",style:{background:"linear-gradient(135deg, #0ea5e9 0%, #6366f1 100%)",color:"white",borderRadius:"16px 16px 0 0",padding:"1rem 1.25rem"},children:o.jsx("h5",{className:"modal-title",children:"⚔️ Battle"})}),o.jsx("div",{className:"modal-body",style:{padding:"1rem"},children:o.jsx(Ch,{})})]})})})}function iw(){var v,g;const{state:e}=De(),[t,n]=V.useState(new Set),s=e.logs.events||[],r=[];let i="",a=[],c=new Set,f=!1;console.log("Processing events:",s.length);for(let p=0;p<s.length;p++){const y=s[p];if(y.includes("⚔️ Battle begins")||y.includes("⚔️ A battle erupts")){console.log("Battle start detected:",y),f&&i&&a.length>0&&(console.log("Saving previous battle:",i,a.length),r.push({type:"battle",content:`Battle ${i}`,battleId:i,battleEvents:[...a],battleParticipants:Array.from(c)})),f=!0;const _=y.match(/during (.+?)!/);i=_?_[1]:`Battle ${p}`,a=[y],c=new Set,console.log("New battle started:",i)}else if(y.includes("⚔️ Battle concluded")||y.includes("💀 Battle lost")||y.includes("⚔️ A new wave approaches!"))console.log("Battle end/wave detected:",y),f&&i&&a.length>0&&(a.push(y),console.log("Saving battle:",i,a.length),r.push({type:"battle",content:`Battle ${i}`,battleId:i,battleEvents:[...a],battleParticipants:Array.from(c)})),f=!1,i="",a=[],c=new Set;else if(f&&(y.includes("⚔️")||y.includes("👹")||y.includes("🧪")||y.includes("🛡️")||y.includes("🎉")||y.includes("⭐"))){if(a.push(y),console.log("Battle event added:",y),y.includes("attacks")||y.includes("hits")){const _=y.match(/([A-Za-z]+) (?:attacks|hits)/);_&&c.add(_[1])}if(y.includes("gained")&&y.includes("experience")){const _=y.match(/([A-Za-z]+) gained/);_&&c.add(_[1])}if(y.includes("defends")){const _=y.match(/([A-Za-z]+) defends/);_&&c.add(_[1])}if(y.includes("used")){const _=y.match(/([A-Za-z]+) used/);_&&c.add(_[1])}}else f&&i&&a.length>0&&(console.log("Saving battle before normal event:",i,a.length),r.push({type:"battle",content:`Battle ${i}`,battleId:i,battleEvents:[...a],battleParticipants:Array.from(c)}),f=!1,i="",a=[],c=new Set),r.push({type:"normal",content:y})}f&&i&&a.length>0&&(console.log("Saving final battle:",i,a.length),r.push({type:"battle",content:`Battle ${i}`,battleId:i,battleEvents:[...a],battleParticipants:Array.from(c)})),console.log("Processed events:",r.length,"battles:",r.filter(p=>p.type==="battle").length);const d=p=>{const y=new Set(t);y.has(p)?y.delete(p):y.add(p),n(y)};return o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h5",{className:"card-title",children:"Event Log"}),o.jsxs("div",{className:"border rounded-3 p-2",style:{minHeight:160,maxHeight:280,overflowY:"auto"},children:[o.jsx("div",{className:"small text-muted mb-2 fw-semibold",children:"📋 Events:"}),r.slice(0,50).map((p,y)=>{if(p.type==="battle"){const _=t.has(p.battleId),S=p.battleParticipants&&p.battleParticipants.length>0?`[${p.battleParticipants.join(" and ")}]`:"";return o.jsxs("div",{className:"mb-1",children:[o.jsxs("div",{className:"text-primary text-decoration-underline small d-flex align-items-center gap-2",style:{cursor:"pointer"},onClick:()=>d(p.battleId),children:[_?"▶":"▼",o.jsxs("span",{className:"text-muted",children:["• ",p.content," ",S]})]}),!_&&p.battleEvents&&o.jsx("div",{className:"ps-3 mt-1 small text-muted border-start border-2 border-primary",children:p.battleEvents.map((C,w)=>o.jsxs("div",{className:"mb-1",children:["• ",C]},w))})]},`battle-${y}`)}else return o.jsxs("div",{children:["• ",p.content]},`normal-${y}`)})]}),(g=(v=e.archives)==null?void 0:v.fallen)!=null&&g.length?o.jsxs("div",{className:"mt-3",children:[o.jsx("h6",{className:"mb-2",children:"Graveyard ⚰️"}),o.jsx("div",{className:"small text-muted",children:e.archives.fallen.slice(0,10).map((p,y)=>o.jsxs("div",{children:["☠️ ",p.name," — ",p.class," · D",p.diedOnDay," · ",p.cause]},y))})]}):null]})})}function lw(){const{state:e}=De(),t=e.archives.quests||[],n=e.archives.candidates||[],[s,r]=V.useState(null),i=V.useMemo(()=>n.find(a=>a.id===s)||null,[n,s]);return o.jsxs("div",{className:"row g-3",children:[o.jsx("div",{className:"col-12 col-lg-6",children:o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h5",{className:"card-title",children:"Expired Quests"}),t.length===0?o.jsx("div",{className:"text-muted",children:"None"}):o.jsx("ul",{className:"list-group",children:t.map(a=>o.jsxs("li",{className:"list-group-item d-flex justify-content-between",children:[o.jsx("span",{children:a.name}),o.jsxs("span",{className:"text-muted small",children:["Day ",a.expiredOnDay]})]},a.id))})]})})}),o.jsx("div",{className:"col-12 col-lg-6",children:o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h5",{className:"card-title",children:"Expired Candidates"}),n.length===0?o.jsx("div",{className:"text-muted",children:"None"}):o.jsx("ul",{className:"list-group",children:n.map(a=>o.jsxs("li",{className:"list-group-item d-flex justify-content-between clickable",onClick:()=>r(a.id),children:[o.jsxs("span",{children:[a.name," — ",a.class]}),o.jsxs("span",{className:"text-muted small",children:["Week ",a.expiredOnWeek]})]},a.id))})]})})}),o.jsx(Kl,{open:!!i,onClose:()=>r(null),adventurer:{id:(i==null?void 0:i.id)||"",name:(i==null?void 0:i.name)||"",class:(i==null?void 0:i.class)||"",avatar:i==null?void 0:i.avatar,appearance:i==null?void 0:i.appearance,personality:i==null?void 0:i.personality,gender:i==null?void 0:i.gender,upkeep:i==null?void 0:i.upkeep,stats:i==null?void 0:i.stats,weekAppeared:i==null?void 0:i.weekAppeared,expiresOnWeek:i==null?void 0:i.expiredOnWeek}})]})}function ow(){const e=V.useRef(null),[t,n]=V.useState(()=>[]),[s,r]=V.useState(null);function i(d){var p;const v=(p=d.target.files)==null?void 0:p[0];if(!v)return;const g=new FileReader;g.onload=()=>{try{const y=JSON.parse(String(g.result));n(_=>{const S=_.findIndex(C=>C.imagePath===y.imagePath);if(S>=0){const C=_.slice();return C[S]=y,C}return[..._,y]})}catch{alert("Invalid JSON")}},g.readAsText(v)}function a(){if(s==null)return;const d=t[s],v=new Blob([JSON.stringify(d,null,2)],{type:"application/json"}),g=URL.createObjectURL(v),p=document.createElement("a");p.href=g,p.download=`${d.tileset}.json`,p.click(),URL.revokeObjectURL(g)}function c(){s!=null&&(n(d=>d.filter((v,g)=>g!==s)),r(null))}const f=V.useMemo(()=>s==null?null:t[s]||null,[t,s]);return o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[o.jsx("h5",{className:"card-title m-0",children:"Tilesets"}),o.jsxs("div",{className:"d-flex gap-2",children:[o.jsx("input",{ref:e,type:"file",accept:"application/json",className:"d-none",onChange:i}),o.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>{var d;return(d=e.current)==null?void 0:d.click()},children:"Import JSON"}),o.jsx("button",{className:"btn btn-sm btn-outline-secondary",disabled:s==null,onClick:a,children:"Export Selected"}),o.jsx("button",{className:"btn btn-sm btn-outline-danger",disabled:s==null,onClick:c,children:"Remove Selected"})]})]}),o.jsxs("div",{className:"row mt-3",children:[o.jsx("div",{className:"col-4",children:o.jsxs("div",{className:"list-group",children:[t.map((d,v)=>o.jsx("button",{className:`list-group-item list-group-item-action ${v===s?"active":""}`,onClick:()=>r(v),title:`${d.tileset} (${d.grid.cols}x${d.grid.rows})`,children:o.jsxs("div",{className:"d-flex justify-content-between",children:[o.jsx("span",{className:"text-truncate",style:{maxWidth:180},children:d.tileset}),o.jsxs("span",{className:"badge text-bg-secondary",children:[d.grid.cols,"×",d.grid.rows]})]})},d.imagePath+v)),t.length===0&&o.jsx("div",{className:"text-muted small p-2",children:"No tilesets loaded. Use Import JSON to add some."})]})}),o.jsxs("div",{className:"col-8",children:[!f&&o.jsx("div",{className:"text-muted",children:"Select a tileset to preview."}),f&&o.jsxs("div",{children:[o.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"fw-semibold",children:f.tileset}),o.jsx("div",{className:"small text-muted",children:f.imagePath})]}),o.jsxs("div",{className:"small text-muted",children:["Image: ",f.image.width,"×",f.image.height,"px"]})]}),o.jsx("div",{className:"border rounded p-2 mt-2",style:{maxHeight:420,overflow:"auto"},children:o.jsx("div",{className:"d-flex flex-wrap gap-2",children:f.sprites.map(d=>o.jsx("div",{style:{width:d.width,height:d.height,backgroundImage:d.backgroundImage,backgroundPosition:d.backgroundPosition,backgroundRepeat:d.backgroundRepeat,imageRendering:d.imageRendering,border:"1px dotted rgba(0,0,0,0.1)"},title:`${d.id} (r${d.row},c${d.col})`},d.id))})})]})]})]})]})})}function aw(){const{state:e,emit:t}=De(),[n,s]=V.useState([]),[r,i]=V.useState(null),[a,c]=V.useState(null),f=V.useRef(null),[d,v]=V.useState(()=>({id:"item_1",name:"New Item",price:10,category:"food",sprite:{row:0,col:0},tilesetUrl:"",sellable:!0,equippable:!1,use:[],equip:[]})),[g,p]=V.useState(null),y=V.useMemo(()=>r==null?null:n[r]||null,[n,r]),_=e.itemsLoaded??!0;function S(N){var oe;const P=(oe=N.target.files)==null?void 0:oe[0];if(!P)return;const B=new FileReader;B.onload=()=>{try{const J=JSON.parse(String(B.result));s(fe=>[...fe,J]),r==null&&i(0)}catch{alert("Invalid tileset JSON")}},B.readAsText(P)}function C(N){if(!y)return;const P=y.sprites[N];c(N),v(B=>({...B,id:String(Date.now()),sprite:{row:P.row,col:P.col},tilesetUrl:y.imagePath}))}function w(){const N={id:d.id,name:d.name,desc:d.desc,price:d.price,category:d.category,sprite:d.sprite,tilesetUrl:d.tilesetUrl,sellable:d.sellable,use:d.use,equip:d.equip.length>0?{bonuses:d.equip}:void 0,equippable:d.equippable,apply(){}};e.itemsCatalog.push(N),N.sellable&&e.shop.push(N),ne(e,`Item created: ${N.name}${N.sellable?" (sellable)":""}`),t()}function x(){if(!g)return;const N=e.itemsCatalog.findIndex(B=>B.id===g);if(N===-1)return;const P={id:d.id,name:d.name,desc:d.desc,price:d.price,category:d.category,sprite:d.sprite,tilesetUrl:d.tilesetUrl,sellable:d.sellable,use:d.use,equip:d.equip.length>0?{bonuses:d.equip}:void 0,equippable:d.equippable,apply:e.itemsCatalog[N].apply||(()=>{})};e.itemsCatalog[N]=P,e.shop=e.itemsCatalog.filter(B=>B.sellable),ne(e,`Item updated: ${P.name}`),p(null),t()}function b(N){var P,B;if(v({id:N.id,name:N.name,desc:N.desc,price:N.price,category:N.category,sprite:N.sprite,tilesetUrl:N.tilesetUrl||"",sellable:!!N.sellable,use:Array.isArray(N.use)?[...N.use]:N.use?[N.use]:[],equip:Array.isArray((P=N.equip)==null?void 0:P.bonuses)?[...N.equip.bonuses]:[],equippable:!!N.equippable}),p(N.id),c(null),N.tilesetUrl){const oe=N.tilesetUrl.replace(/\.png$/i,".json"),J=n.findIndex(fe=>fe.imagePath===N.tilesetUrl);if(J>=0){i(J);const fe=((B=n[J])==null?void 0:B.sprites.findIndex(Re=>Re.row===N.sprite.row&&Re.col===N.sprite.col))??-1;fe>=0&&c(fe)}else(async()=>{try{const fe=await fetch(oe,{cache:"no-cache"});if(!fe.ok)return;const Re=await fe.json();Re.imagePath&&Re.imagePath!==N.tilesetUrl&&(Re.imagePath=N.tilesetUrl),s(Fe=>{const Ze=[...Fe,Re],zt=Ze.length-1;i(zt);const et=Re.sprites.findIndex(gt=>gt.row===N.sprite.row&&gt.col===N.sprite.col);return et>=0&&c(et),Ze})}catch{}})()}}function O(){const N=[...e.itemsCatalog],P=new Blob([JSON.stringify(N,null,2)],{type:"application/json"}),B=URL.createObjectURL(P),oe=document.createElement("a");oe.href=B,oe.download="items.json",oe.click(),URL.revokeObjectURL(B)}function U(N){var oe;const P=(oe=N.target.files)==null?void 0:oe[0];if(!P)return;const B=new FileReader;B.onload=()=>{try{const J=JSON.parse(String(B.result));for(const fe of J)typeof fe.apply!="function"&&(fe.apply=()=>{}),fe.equippable===void 0&&(fe.equippable=!1);e.itemsCatalog.push(...J),e.shop=e.itemsCatalog.filter(fe=>fe.sellable),ne(e,`Imported ${J.length} items into catalog`),t()}catch{alert("Invalid items JSON")}},B.readAsText(P)}return o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[o.jsx("h5",{className:"card-title m-0",children:"Item Creator"}),o.jsxs("div",{className:"d-flex align-items-center gap-3",children:[o.jsx("span",{className:`badge ${_?"text-bg-secondary":"text-bg-warning"}`,title:"Items are auto-loaded from public/items/items.json on page load",children:_?`Catalog: ${e.itemsCatalog.length}`:"Loading items..."}),o.jsx("input",{ref:f,type:"file",className:"d-none",accept:"application/json",onChange:U}),o.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>{var N;return(N=f.current)==null?void 0:N.click()},children:"Import Items JSON"}),o.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:O,children:"Export Items JSON"})]})]}),!_&&o.jsxs("div",{className:"alert alert-info mt-3 mb-0 py-2 small",children:["Auto-loading items from ",o.jsx("code",{children:"/items/items.json"}),"..."]}),o.jsxs("div",{className:"row mt-3",children:[o.jsxs("div",{className:"col-5",children:[o.jsxs("div",{className:"mb-2 d-flex align-items-center justify-content-between",children:[o.jsx("div",{className:"fw-semibold",children:"Tilesets"}),o.jsxs("div",{children:[o.jsx("input",{type:"file",accept:"application/json",className:"d-none",id:"tilesetImport",onChange:S}),o.jsx("label",{className:"btn btn-sm btn-primary",htmlFor:"tilesetImport",children:"Import Tileset JSON"})]})]}),o.jsxs("div",{className:"list-group",style:{maxHeight:120,overflowY:"auto"},children:[n.map((N,P)=>o.jsx("button",{className:`list-group-item list-group-item-action ${r===P?"active":""}`,onClick:()=>i(P),children:o.jsxs("div",{className:"d-flex justify-content-between",children:[o.jsx("span",{className:"text-truncate",style:{maxWidth:160},children:N.tileset}),o.jsxs("span",{className:"badge text-bg-secondary",children:[N.grid.cols,"×",N.grid.rows]})]})},N.imagePath+P)),n.length===0&&o.jsx("div",{className:"text-muted small p-2",children:"Import a tileset JSON to begin"})]}),o.jsxs("div",{className:"mt-3",children:[o.jsx("div",{className:"fw-semibold",children:"Pick Sprite"}),!y&&o.jsx("div",{className:"text-muted small",children:"No tileset selected"}),y&&o.jsx("div",{className:"border rounded p-2",style:{maxHeight:300,overflow:"auto"},children:o.jsx("div",{className:"d-flex flex-wrap gap-2",children:y.sprites.map((N,P)=>o.jsx("button",{className:`btn btn-sm ${P===a?"btn-primary":"btn-light border"}`,onClick:()=>C(P),style:{padding:2},title:`${N.id} r${N.row} c${N.col}`,children:o.jsx("div",{style:{width:N.width,height:N.height,backgroundImage:N.backgroundImage,backgroundPosition:N.backgroundPosition,backgroundRepeat:N.backgroundRepeat,imageRendering:N.imageRendering}})},N.id))})})]})]}),o.jsxs("div",{className:"col-7",children:[o.jsx("div",{className:"fw-semibold mb-2",children:"Item Details"}),o.jsxs("div",{className:"row g-2",children:[o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label small",children:"ID"}),o.jsx("input",{className:"form-control",value:d.id,onChange:N=>v(P=>({...P,id:N.target.value}))})]}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label small",children:"Name"}),o.jsx("input",{className:"form-control",value:d.name,onChange:N=>v(P=>({...P,name:N.target.value}))})]}),o.jsxs("div",{className:"col-12",children:[o.jsx("label",{className:"form-label small",children:"Description"}),o.jsx("input",{className:"form-control",value:d.desc||"",onChange:N=>v(P=>({...P,desc:N.target.value}))})]}),o.jsxs("div",{className:"col-4",children:[o.jsx("label",{className:"form-label small",children:"Price"}),o.jsx("input",{type:"number",className:"form-control",value:d.price,onChange:N=>v(P=>({...P,price:Number(N.target.value||0)}))})]}),o.jsxs("div",{className:"col-8",children:[o.jsx("label",{className:"form-label small",children:"Category"}),o.jsxs("select",{className:"form-select",value:d.category,onChange:N=>v(P=>({...P,category:N.target.value})),children:[o.jsx("option",{value:"food",children:"food"}),o.jsx("option",{value:"potion",children:"potion"}),o.jsx("option",{value:"weapon",children:"weapon"}),o.jsx("option",{value:"armor",children:"armor"}),o.jsx("option",{value:"accessory",children:"accessory"}),o.jsx("option",{value:"skill",children:"skill"})]})]}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label small",children:"Sprite row"}),o.jsx("input",{type:"number",className:"form-control",value:d.sprite.row,onChange:N=>v(P=>({...P,sprite:{...P.sprite,row:Number(N.target.value||0)}}))})]}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label small",children:"Sprite col"}),o.jsx("input",{type:"number",className:"form-control",value:d.sprite.col,onChange:N=>v(P=>({...P,sprite:{...P.sprite,col:Number(N.target.value||0)}}))})]}),o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"form-check",children:[o.jsx("input",{id:"sellable",className:"form-check-input",type:"checkbox",checked:d.sellable,onChange:N=>v(P=>({...P,sellable:N.target.checked}))}),o.jsx("label",{htmlFor:"sellable",className:"form-check-label",children:"Sellable in store"})]})}),o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"form-check",children:[o.jsx("input",{id:"equippable",className:"form-check-input",type:"checkbox",checked:d.equippable,onChange:N=>v(P=>({...P,equippable:N.target.checked}))}),o.jsx("label",{htmlFor:"equippable",className:"form-check-label",children:"Can be equipped"})]})}),o.jsxs("div",{className:"col-12",children:[o.jsx("label",{className:"form-label small",children:"Preview"}),o.jsxs("div",{className:"d-flex align-items-center gap-2",children:[o.jsx("div",{style:{...An(d.sprite,d.tilesetUrl||(y==null?void 0:y.imagePath)||""),border:"1px solid rgba(0,0,0,0.1)"}}),o.jsx("div",{className:"small text-muted",children:d.tilesetUrl||(y==null?void 0:y.imagePath)||"(choose a tileset)"})]})]})]}),o.jsxs("div",{className:"d-flex gap-2 mt-3",children:[!g&&o.jsx("button",{className:"btn btn-success",onClick:w,children:"Add to game"}),g&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"btn btn-primary",onClick:x,children:"Save changes"}),o.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>{p(null),v(N=>({...N,id:"item_"+Date.now(),name:"New Item",equippable:!1}))},children:"Cancel"})]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("div",{className:"fw-semibold mb-2",children:"Effects"}),o.jsx(uw,{value:d.use,onChange:N=>v(P=>({...P,use:N}))})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("div",{className:"fw-semibold mb-2",children:"Equipment Bonuses"}),o.jsx(dw,{value:d.equip,onChange:N=>v(P=>({...P,equip:N}))})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("div",{className:"fw-semibold mb-2",children:"Items Catalog"}),o.jsx(cw,{onEdit:b})]})]})]})]})})}function cw({onEdit:e}){const{state:t,emit:n}=De(),s=V.useMemo(()=>t.itemsCatalog,[t.itemsCatalog]);return s.length===0?o.jsx("div",{className:"text-muted small",children:"No items yet."}):o.jsx("div",{className:"d-flex flex-wrap gap-2",children:s.map(r=>{var i;return o.jsxs("div",{className:"border rounded p-2 d-flex align-items-center gap-2",style:{width:320},title:r.desc,children:[o.jsx("div",{style:{...r.tilesetUrl?An(r.sprite,r.tilesetUrl):Js(r.sprite),flex:"0 0 auto"}}),o.jsxs("div",{className:"flex-grow-1",children:[o.jsx("div",{className:"fw-semibold text-truncate",children:r.name}),o.jsxs("div",{className:"small text-muted",children:[r.category," • ",r.price,"g"]}),((i=r.equip)==null?void 0:i.bonuses)&&r.equip.bonuses.length>0&&o.jsxs("div",{className:"small text-info",children:["Equip: ",r.equip.bonuses.map((a,c)=>`${a.stat} ${a.delta>0?"+":""}${a.delta}`).join(", ")]})]}),o.jsxs("div",{className:"d-flex gap-1",children:[r.sellable&&o.jsx("span",{className:"badge text-bg-success",children:"Sellable"}),r.equippable&&o.jsx("span",{className:"badge text-bg-primary",children:"Equippable"})]}),o.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>e(r),title:"Edit item",children:"Edit"}),o.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>{t.itemsCatalog=t.itemsCatalog.filter(a=>a.id!==r.id),t.shop=t.shop.filter(a=>a.id!==r.id),ne(t,`Removed item: ${r.name}`),n()},title:"Remove item",children:"Remove"})]},r.id)})})}function uw({value:e,onChange:t}){const n=Array.isArray(e)?e:[];function s(){t([...n,{type:"heal",amount:10,target:"ally"}])}function r(d,v){const p={...n[d],...v},y=[...n];y[d]=p,t(y)}function i(d){const v=[...n];v.splice(d,1),t(v)}const a=["heal","heal_mp","damage","buff","cleanse"],c=["self","ally","enemy","any"],f=["str","mag","skill","speed","luck","defense","resistance"];return o.jsxs("div",{className:"border rounded p-2",children:[n.length===0&&o.jsx("div",{className:"text-muted small mb-2",children:"No effects yet."}),n.map((d,v)=>o.jsx("div",{className:"border rounded p-2 mb-2",children:o.jsxs("div",{className:"row g-2 align-items-end",children:[o.jsxs("div",{className:"col-6 col-md-3",children:[o.jsx("label",{className:"form-label small",children:"Type"}),o.jsx("select",{className:"form-select form-select-sm",value:d.type,onChange:g=>r(v,{type:g.target.value}),children:a.map(g=>o.jsx("option",{value:g,children:g},g))})]}),d.type!=="cleanse"&&o.jsxs("div",{className:"col-6 col-md-2",children:[o.jsx("label",{className:"form-label small",children:"Amount"}),o.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number(d.amount||0),onChange:g=>r(v,{amount:Number(g.target.value||0)})})]}),o.jsxs("div",{className:"col-6 col-md-2",children:[o.jsx("label",{className:"form-label small",children:"Target"}),o.jsx("select",{className:"form-select form-select-sm",value:d.target||"ally",onChange:g=>r(v,{target:g.target.value}),children:c.map(g=>o.jsx("option",{value:g,children:g},g))})]}),d.type==="buff"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-6 col-md-2",children:[o.jsx("label",{className:"form-label small",children:"Stat"}),o.jsx("select",{className:"form-select form-select-sm",value:d.stat||"str",onChange:g=>r(v,{stat:g.target.value}),children:f.map(g=>o.jsx("option",{value:g,children:g},g))})]}),o.jsxs("div",{className:"col-6 col-md-2",children:[o.jsx("label",{className:"form-label small",children:"Duration (days)"}),o.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number(d.durationDays||1),onChange:g=>r(v,{durationDays:Number(g.target.value||1)})})]})]}),d.type==="cleanse"&&o.jsxs("div",{className:"col-6 col-md-2",children:[o.jsx("label",{className:"form-label small",children:"Stat (optional)"}),o.jsxs("select",{className:"form-select form-select-sm",value:d.stat||"",onChange:g=>r(v,{stat:g.target.value||void 0}),children:[o.jsx("option",{value:"",children:"all"}),f.map(g=>o.jsx("option",{value:g,children:g},g))]})]}),o.jsx("div",{className:"col-12 col-md-1 d-grid",children:o.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>i(v),children:"Remove"})})]})},v)),o.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:s,children:"Add effect"})]})}function dw({value:e,onChange:t}){const n=Array.isArray(e)?e:[];function s(){t([...n,{stat:"str",delta:0}])}function r(c,f){const v={...n[c],...f},g=[...n];g[c]=v,t(g)}function i(c){const f=[...n];f.splice(c,1),t(f)}const a=["str","mag","skill","speed","luck","defense","resistance"];return o.jsxs("div",{className:"border rounded p-2",children:[n.length===0&&o.jsx("div",{className:"text-muted small mb-2",children:"No equipment bonuses yet."}),n.map((c,f)=>o.jsx("div",{className:"border rounded p-2 mb-2",children:o.jsxs("div",{className:"row g-2 align-items-end",children:[o.jsxs("div",{className:"col-6 col-md-3",children:[o.jsx("label",{className:"form-label small",children:"Stat"}),o.jsx("select",{className:"form-select form-select-sm",value:c.stat,onChange:d=>r(f,{stat:d.target.value}),children:a.map(d=>o.jsx("option",{value:d,children:d},d))})]}),o.jsxs("div",{className:"col-6 col-md-2",children:[o.jsx("label",{className:"form-label small",children:"Delta"}),o.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number(c.delta||0),onChange:d=>r(f,{delta:Number(d.target.value||0)})})]}),o.jsx("div",{className:"col-12 col-md-1 d-grid",children:o.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>i(f),children:"Remove"})})]})},f)),o.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:s,children:"Add bonus"})]})}function fw(){const{state:e}=De(),[t,n]=V.useState(""),[s,r]=V.useState("name_asc"),[i,a]=V.useState(!0),[c,f]=V.useState(!1),[d,v]=V.useState({});V.useEffect(()=>{async function C(){await wh();const w=Xf(),x={};w.forEach(b=>{x[b.id]=!0}),v(x),f(!0)}C()},[]);const g=e.inventory||[],p=V.useMemo(()=>{if(!c)return[];const C=t.trim().toLowerCase(),w=g.filter(b=>d[b.category]).filter(b=>!C||b.name.toLowerCase().includes(C)||(b.desc||"").toLowerCase().includes(C));if(!i)return w;const x=new Map;for(const b of w){const O=x.get(b.id);O?O.qty+=1:x.set(b.id,{item:b,qty:1})}return Array.from(x.values()).map(b=>({...b.item,price:b.item.price,_qty:b.qty}))},[g,t,d,i,c]),y=V.useMemo(()=>{const C=[...p];switch(s){case"name_desc":C.sort((w,x)=>x.name.localeCompare(w.name));break;case"price_asc":C.sort((w,x)=>(w.price||0)-(x.price||0));break;case"price_desc":C.sort((w,x)=>(x.price||0)-(w.price||0));break;case"category":C.sort((w,x)=>(w.category||"").localeCompare(x.category||"")||w.name.localeCompare(x.name));break;case"name_asc":default:C.sort((w,x)=>w.name.localeCompare(x.name));break}return C},[p,s]),_=g.length,S=Xf().slice(0,6);return c?o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[o.jsx("h5",{className:"card-title mb-0",children:"📦 Guild Inventory"}),o.jsxs("span",{className:"badge text-bg-secondary",children:["Items: ",_]})]}),o.jsxs("div",{className:"row g-2 align-items-end mb-3",children:[o.jsxs("div",{className:"col-12 col-md-4",children:[o.jsx("label",{className:"form-label small",children:"Search"}),o.jsx("input",{className:"form-control",placeholder:"Name or description",value:t,onChange:C=>n(C.target.value)})]}),o.jsxs("div",{className:"col-6 col-md-3",children:[o.jsx("label",{className:"form-label small",children:"Sort"}),o.jsxs("select",{className:"form-select",value:s,onChange:C=>r(C.target.value),children:[o.jsx("option",{value:"name_asc",children:"Name ↑"}),o.jsx("option",{value:"name_desc",children:"Name ↓"}),o.jsx("option",{value:"price_asc",children:"Price ↑"}),o.jsx("option",{value:"price_desc",children:"Price ↓"}),o.jsx("option",{value:"category",children:"Category"})]})]}),o.jsx("div",{className:"col-6 col-md-3",children:o.jsxs("div",{className:"form-check mt-4",children:[o.jsx("input",{id:"groupStacks",className:"form-check-input",type:"checkbox",checked:i,onChange:C=>a(C.target.checked)}),o.jsx("label",{htmlFor:"groupStacks",className:"form-check-label",children:"Group identical items"})]})}),o.jsx("div",{className:"col-12 col-md-12 mb-3",children:o.jsx("div",{className:"d-flex gap-3 mt-4",children:S.map(C=>o.jsxs("div",{className:"form-check d-flex align-items-center gap-1",title:C.name,children:[o.jsx("input",{id:`cat_${C.id}`,className:"form-check-input",type:"checkbox",checked:!!d[C.id],onChange:w=>v(x=>({...x,[C.id]:w.target.checked})),"aria-label":C.name}),o.jsx("label",{htmlFor:`cat_${C.id}`,className:"form-check-label","aria-hidden":"true",children:o.jsx("span",{style:{fontSize:18},role:"img",children:C.emoji})})]},C.id))})})]}),y.length===0?o.jsx("div",{className:"text-center text-muted py-4",children:g.length===0?o.jsxs("div",{children:[o.jsx("div",{className:"fs-1 mb-2",children:"📦"}),o.jsx("div",{children:"No items in guild inventory."}),o.jsx("div",{className:"small",children:"Visit the Shop to purchase items!"})]}):o.jsxs("div",{children:[o.jsx("div",{className:"fs-1 mb-2",children:"🔍"}),o.jsx("div",{children:"No items match your search/filter criteria."}),o.jsx("div",{className:"small",children:"Try adjusting your search or category filters."})]})}):o.jsx("div",{className:"d-flex flex-wrap gap-2",children:y.map(C=>{var w;return o.jsxs("div",{className:"border rounded p-2 d-flex align-items-center gap-2",style:{width:360},title:C.desc,children:[o.jsx("div",{style:{...C.tilesetUrl?An(C.sprite,C.tilesetUrl):Js(C.sprite)}}),o.jsxs("div",{className:"flex-grow-1",children:[o.jsx("div",{className:"fw-semibold text-truncate",children:C.name}),o.jsxs("div",{className:"small text-muted text-truncate",children:[_h(C.category)," ",kh(C.category)," • ",C.price,"g"]})]}),i&&typeof C._qty=="number"&&C._qty>1&&o.jsxs("span",{className:"badge text-bg-secondary",title:"Stack quantity",children:["×",C._qty]}),o.jsx("div",{className:"btn-group btn-group-sm",children:o.jsx("button",{className:"btn btn-outline-success",disabled:!((w=e.itemsCatalog.find(x=>x.id===C.id))!=null&&w.use),onClick:()=>{var O,U;const x=e.members.find(N=>N.isPlayer);Jc(C,{state:e,user:x||null,target:x||null,battle:null});const b=e.inventory.findIndex(N=>N.id===C.id);b>=0&&(e.inventory=[...e.inventory.slice(0,b),...e.inventory.slice(b+1)]),(U=(O=De()).emit)==null||U.call(O)},children:"Use"})})]},`${C.id}_${C._qty??Math.random()}`)})})]})}):o.jsx("div",{className:"card",children:o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"text-center text-muted py-4",children:[o.jsx("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})}),"Loading categories..."]})})})}function mw(){const{state:e,actions:t}=De(),n=!!e.battle,s=n||e.isGameOver,[r,i]=V.useState(!1),a=V.useMemo(()=>{const f=new Set;for(const v of e.quests)for(const g of v.assigned||[])f.add(g.id);const d=new Set;for(const v of e.activeMissions||[])for(const g of v.party||[])d.add(g.id);return e.members.filter(v=>v.alive!==!1&&!f.has(v.id)&&!d.has(v.id))},[e.members,e.quests,e.activeMissions]),c=()=>{Yc(e),i(!1),t.nextDay()};return o.jsxs("div",{style:{position:"fixed",right:16,bottom:16,zIndex:1050,pointerEvents:"none"},children:[o.jsx("button",{className:`btn ${s?"btn-secondary":"btn-warning"} btn-lg shadow-lg rounded-pill`,style:{pointerEvents:"auto",paddingLeft:20,paddingRight:20},onClick:()=>{s||(a.length>0?i(!0):t.nextDay())},disabled:s,title:n?"Resolve the battle to continue to the next day":"Advance to the next day",children:"⏭️ Next Day"}),r&&o.jsx("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,.4)"},role:"dialog","aria-modal":"true",onMouseDown:f=>{f.target===f.currentTarget&&i(!1)},children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:"Proceed without assignments?"}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:()=>i(!1)})]}),o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{className:"mb-2",children:["You have ",a.length," unassigned adventurer",a.length!==1?"s":"",". Passing the day may waste potential."]}),o.jsxs("div",{className:"small text-muted mb-3",children:[a.slice(0,8).map(f=>f.name).join(", "),a.length>8?"…":""]}),o.jsxs("div",{className:"alert alert-info small",children:[o.jsx("strong",{children:"💡 Tip:"})," You can auto-assign adventurers to available quests for this day only, or proceed without assignments."]})]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("a",{href:"#quests",className:"btn btn-outline-primary",onClick:()=>i(!1),children:"Review assignments"}),o.jsx("button",{className:"btn btn-secondary",onClick:()=>i(!1),children:"Cancel"}),o.jsx("button",{className:"btn btn-success",onClick:c,title:"Automatically assign unassigned adventurers to available quests and advance the day",children:"🚀 Auto assign and run (just for this day)"}),o.jsx("button",{className:"btn btn-warning",onClick:()=>{i(!1),t.nextDay()},children:"Proceed anyway"})]})]})})})]})}function pw(){const{state:e,emit:t}=De(),[n,s]=V.useState({}),[r,i]=V.useState("Test Skirmish"),[a,c]=V.useState(5),[f,d]=V.useState(1),v=V.useMemo(()=>e.members.filter(y=>y.alive!==!1),[e.members]);function g(y){s(_=>({..._,[y]:!_[y]}))}function p(){if(e.battle)return;const y=v.filter(S=>n[S.id]);if(y.length===0)return;const _={id:`admin_${Math.random().toString(36).slice(2,9)}`,name:r||"Test Battle",diff:Math.max(1,Math.min(15,a)),rank:void 0,reward:0,fame:0,type:"Combat",tags:["Admin"],emoji:"⚔️",job:"Protect",target:"Monster",dayStarted:e.day,endOnDay:e.day+1,party:y.map(S=>({...S})),log:["🧪 Admin-triggered mission created."],battlesPlanned:Math.max(1,Math.min(5,f)),battlesRemaining:Math.max(1,Math.min(5,f)),battlesCleared:0};e.activeMissions=e.activeMissions||[],e.activeMissions.unshift(_),e.battle=Gl(_,1,_.battlesPlanned||1),ne(e,`🧪 Admin: started test battle "${_.name}" with ${y.length} ally(ies), diff ${_.diff}, waves ${_.battlesPlanned}`),t()}return o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[o.jsx("h5",{className:"card-title mb-0",children:"Battle Trigger (admin)"}),o.jsxs("span",{className:"badge text-bg-secondary",children:["Day ",e.day]})]}),e.battle&&o.jsx("div",{className:"alert alert-warning py-2",children:"A battle is currently active. Finish it before starting a new one."}),o.jsxs("div",{className:"row g-3",children:[o.jsxs("div",{className:"col-12 col-md-5",children:[o.jsx("div",{className:"fw-semibold mb-2",children:"Party"}),o.jsx("div",{className:"d-flex flex-column gap-1",style:{maxHeight:260,overflowY:"auto"},children:v.map(y=>o.jsxs("label",{className:"d-flex align-items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:!!n[y.id],onChange:()=>g(y.id)}),y.avatar&&o.jsx("img",{src:y.avatar,width:20,height:20,style:{objectFit:"cover",borderRadius:4}}),o.jsxs("span",{children:[y.name," ",o.jsxs("span",{className:"text-muted",children:["(",y.class,")"]})]})]},y.id))})]}),o.jsx("div",{className:"col-12 col-md-7",children:o.jsxs("div",{className:"row g-2",children:[o.jsxs("div",{className:"col-12",children:[o.jsx("label",{className:"form-label small",children:"Battle name"}),o.jsx("input",{className:"form-control",value:r,onChange:y=>i(y.target.value)})]}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label small",children:"Difficulty (1–15)"}),o.jsx("input",{type:"number",min:1,max:15,className:"form-control",value:a,onChange:y=>c(Number(y.target.value||1))})]}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label small",children:"Waves (1–5)"}),o.jsx("input",{type:"number",min:1,max:5,className:"form-control",value:f,onChange:y=>d(Number(y.target.value||1))})]}),o.jsx("div",{className:"col-12 mt-2",children:o.jsx("button",{className:"btn btn-primary",disabled:!!e.battle,onClick:p,children:"Start Test Battle"})})]})})]})]})})}function hw(){const{state:e}=De(),t=!!e.battle,n=[{key:"dashboard",label:"Dashboard",icon:"📊",render:()=>o.jsx(X0,{})},{key:"guild",label:"Guild",icon:"👥",render:()=>o.jsx(Z0,{})},{key:"recruitment",label:"Recruitment",icon:"📝",render:()=>o.jsx(ew,{})},{key:"quests",label:"Quests",icon:"📜",render:()=>o.jsx(tw,{})},{key:"kitchen",label:"Kitchen (dev)",icon:"🍳",render:()=>o.jsx(nw,{})},{key:"tilesets",label:"Tilesets (admin)",icon:"🧩",render:()=>o.jsx(ow,{})},{key:"items",label:"Items (admin)",icon:"🎒",render:()=>o.jsx(aw,{})},{key:"guild-inventory",label:"Guild Inventory",icon:"📦",render:()=>o.jsx(fw,{})},{key:"shop",label:"Shop",icon:"🛒",render:()=>o.jsx(sw,{})},{key:"battle",label:t?"Battle (Active)":"Battle",icon:"⚔️",highlight:t,render:()=>o.jsx(Ch,{})},{key:"battle-admin",label:"Battle Trigger (admin)",icon:"🧪",render:()=>o.jsx(pw,{})},{key:"events",label:"Events",icon:"💬",render:()=>o.jsx(iw,{})},{key:"expired",label:"Expired",icon:"⏳",render:()=>o.jsx(lw,{})}];return o.jsx(K0,{tabs:n})}function gw({initialState:e}){return o.jsxs(Q0,{initial:e,children:[o.jsx(G0,{}),o.jsx(hw,{}),o.jsx(mw,{}),o.jsx(rw,{})]})}async function vw(){let e;try{const t="/",n=new URL(`${t}${t.endsWith("/")?"":"/"}items/items.json`,window.location.href),s=await fetch(n.href,{cache:"no-cache"}),r=s.headers.get("content-type")||"";if(s.ok&&r.includes("application/json")){const i=await s.json();for(const a of i)typeof a.apply!="function"&&(a.apply=()=>{});e={itemsCatalog:i,shop:i.filter(a=>a.sellable),itemsLoaded:!0}}}catch{}la.createRoot(document.getElementById("root")).render(o.jsx(gw,{initialState:e}))}vw();
